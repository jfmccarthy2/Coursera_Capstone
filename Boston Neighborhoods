{
    "nbformat_minor": 1, 
    "cells": [
        {
            "source": "# Segmenting and Clustering Neighbourhoods in Boston", 
            "cell_type": "markdown", 
            "metadata": {
                "collapsed": true
            }
        }, 
        {
            "source": "## 1. Download and Explore Dataset", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "### Downloading data into a Pandas dataframe from:\n\nhttps://github.com/jfmccarthy2/Coursera_Capstone/blob/master/Boston%20Neighborhood%20%20Long_Lat.csv", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "import pandas as pd\ncentroids = pd.read_html(\"https://github.com/jfmccarthy2/Coursera_Capstone/blob/master/Boston%20Neighborhood%20%20Long_Lat.csv\")\ndf_centroids=centroids[0]\ndf_centroids", 
            "cell_type": "code", 
            "execution_count": 67, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Unnamed: 0</th>\n      <th>OBJECTID</th>\n      <th>Name</th>\n      <th>Acres</th>\n      <th>Neighborhood_ID</th>\n      <th>SqMiles</th>\n      <th>ORIG_FID</th>\n      <th>Longitude</th>\n      <th>Latitude</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>NaN</td>\n      <td>1</td>\n      <td>Roslindale</td>\n      <td>1605.568238</td>\n      <td>15</td>\n      <td>2.51</td>\n      <td>27</td>\n      <td>-71.126662</td>\n      <td>42.282515</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>NaN</td>\n      <td>2</td>\n      <td>Jamaica Plain</td>\n      <td>2519.245394</td>\n      <td>11</td>\n      <td>3.94</td>\n      <td>28</td>\n      <td>-71.115097</td>\n      <td>42.307760</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>NaN</td>\n      <td>3</td>\n      <td>Mission Hill</td>\n      <td>350.853564</td>\n      <td>13</td>\n      <td>0.55</td>\n      <td>29</td>\n      <td>-71.102249</td>\n      <td>42.330745</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>NaN</td>\n      <td>4</td>\n      <td>Longwood</td>\n      <td>188.611947</td>\n      <td>28</td>\n      <td>0.29</td>\n      <td>30</td>\n      <td>-71.105102</td>\n      <td>42.338600</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>NaN</td>\n      <td>5</td>\n      <td>Bay Village</td>\n      <td>26.539839</td>\n      <td>33</td>\n      <td>0.04</td>\n      <td>31</td>\n      <td>-71.069031</td>\n      <td>42.349095</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>NaN</td>\n      <td>6</td>\n      <td>Leather District</td>\n      <td>15.639908</td>\n      <td>27</td>\n      <td>0.02</td>\n      <td>32</td>\n      <td>-71.057828</td>\n      <td>42.350974</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>NaN</td>\n      <td>7</td>\n      <td>Chinatown</td>\n      <td>76.324410</td>\n      <td>26</td>\n      <td>0.12</td>\n      <td>33</td>\n      <td>-71.061661</td>\n      <td>42.349019</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>NaN</td>\n      <td>8</td>\n      <td>North End</td>\n      <td>126.910439</td>\n      <td>14</td>\n      <td>0.20</td>\n      <td>34</td>\n      <td>-71.053857</td>\n      <td>42.365456</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>NaN</td>\n      <td>9</td>\n      <td>Roxbury</td>\n      <td>2108.469072</td>\n      <td>16</td>\n      <td>3.29</td>\n      <td>35</td>\n      <td>-71.086644</td>\n      <td>42.318508</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>NaN</td>\n      <td>10</td>\n      <td>South End</td>\n      <td>471.535356</td>\n      <td>32</td>\n      <td>0.74</td>\n      <td>36</td>\n      <td>-71.071369</td>\n      <td>42.341342</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>NaN</td>\n      <td>11</td>\n      <td>Back Bay</td>\n      <td>399.314411</td>\n      <td>2</td>\n      <td>0.62</td>\n      <td>37</td>\n      <td>-71.080535</td>\n      <td>42.349852</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>NaN</td>\n      <td>12</td>\n      <td>East Boston</td>\n      <td>3012.059593</td>\n      <td>8</td>\n      <td>4.71</td>\n      <td>38</td>\n      <td>-71.030814</td>\n      <td>42.373034</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>NaN</td>\n      <td>13</td>\n      <td>Charlestown</td>\n      <td>871.541223</td>\n      <td>4</td>\n      <td>1.36</td>\n      <td>39</td>\n      <td>-71.063664</td>\n      <td>42.379044</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>NaN</td>\n      <td>14</td>\n      <td>West End</td>\n      <td>190.490732</td>\n      <td>31</td>\n      <td>0.30</td>\n      <td>40</td>\n      <td>-71.065427</td>\n      <td>42.364539</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>NaN</td>\n      <td>15</td>\n      <td>Beacon Hill</td>\n      <td>200.156904</td>\n      <td>30</td>\n      <td>0.31</td>\n      <td>41</td>\n      <td>-71.068262</td>\n      <td>42.357041</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>NaN</td>\n      <td>16</td>\n      <td>Downtown</td>\n      <td>397.472846</td>\n      <td>7</td>\n      <td>0.62</td>\n      <td>42</td>\n      <td>-71.057650</td>\n      <td>42.355584</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>NaN</td>\n      <td>17</td>\n      <td>Fenway</td>\n      <td>560.618461</td>\n      <td>34</td>\n      <td>0.88</td>\n      <td>43</td>\n      <td>-71.096114</td>\n      <td>42.344758</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>NaN</td>\n      <td>18</td>\n      <td>Brighton</td>\n      <td>1840.408596</td>\n      <td>25</td>\n      <td>2.88</td>\n      <td>44</td>\n      <td>-71.155026</td>\n      <td>42.345448</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>NaN</td>\n      <td>19</td>\n      <td>West Roxbury</td>\n      <td>3516.421786</td>\n      <td>19</td>\n      <td>5.49</td>\n      <td>45</td>\n      <td>-71.160026</td>\n      <td>42.280632</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>NaN</td>\n      <td>20</td>\n      <td>Mattapan</td>\n      <td>1352.098354</td>\n      <td>12</td>\n      <td>2.11</td>\n      <td>47</td>\n      <td>-71.091445</td>\n      <td>42.276996</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>NaN</td>\n      <td>21</td>\n      <td>Dorchester</td>\n      <td>4662.879457</td>\n      <td>6</td>\n      <td>7.29</td>\n      <td>48</td>\n      <td>-71.063457</td>\n      <td>42.298451</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>NaN</td>\n      <td>22</td>\n      <td>South Boston Waterfront</td>\n      <td>621.843524</td>\n      <td>29</td>\n      <td>0.97</td>\n      <td>49</td>\n      <td>-71.041726</td>\n      <td>42.346408</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>NaN</td>\n      <td>23</td>\n      <td>South Boston</td>\n      <td>1439.888807</td>\n      <td>17</td>\n      <td>2.25</td>\n      <td>50</td>\n      <td>-71.056403</td>\n      <td>42.334707</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>NaN</td>\n      <td>24</td>\n      <td>Allston</td>\n      <td>998.534479</td>\n      <td>24</td>\n      <td>1.56</td>\n      <td>51</td>\n      <td>-71.128562</td>\n      <td>42.358396</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>NaN</td>\n      <td>25</td>\n      <td>Harbor Islands</td>\n      <td>824.888658</td>\n      <td>22</td>\n      <td>1.29</td>\n      <td>52</td>\n      <td>-70.965593</td>\n      <td>42.320548</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "    Unnamed: 0  OBJECTID                     Name        Acres  \\\n0          NaN         1               Roslindale  1605.568238   \n1          NaN         2            Jamaica Plain  2519.245394   \n2          NaN         3             Mission Hill   350.853564   \n3          NaN         4                 Longwood   188.611947   \n4          NaN         5              Bay Village    26.539839   \n5          NaN         6         Leather District    15.639908   \n6          NaN         7                Chinatown    76.324410   \n7          NaN         8                North End   126.910439   \n8          NaN         9                  Roxbury  2108.469072   \n9          NaN        10                South End   471.535356   \n10         NaN        11                 Back Bay   399.314411   \n11         NaN        12              East Boston  3012.059593   \n12         NaN        13              Charlestown   871.541223   \n13         NaN        14                 West End   190.490732   \n14         NaN        15              Beacon Hill   200.156904   \n15         NaN        16                 Downtown   397.472846   \n16         NaN        17                   Fenway   560.618461   \n17         NaN        18                 Brighton  1840.408596   \n18         NaN        19             West Roxbury  3516.421786   \n19         NaN        20                 Mattapan  1352.098354   \n20         NaN        21               Dorchester  4662.879457   \n21         NaN        22  South Boston Waterfront   621.843524   \n22         NaN        23             South Boston  1439.888807   \n23         NaN        24                  Allston   998.534479   \n24         NaN        25           Harbor Islands   824.888658   \n\n    Neighborhood_ID  SqMiles  ORIG_FID  Longitude   Latitude  \n0                15     2.51        27 -71.126662  42.282515  \n1                11     3.94        28 -71.115097  42.307760  \n2                13     0.55        29 -71.102249  42.330745  \n3                28     0.29        30 -71.105102  42.338600  \n4                33     0.04        31 -71.069031  42.349095  \n5                27     0.02        32 -71.057828  42.350974  \n6                26     0.12        33 -71.061661  42.349019  \n7                14     0.20        34 -71.053857  42.365456  \n8                16     3.29        35 -71.086644  42.318508  \n9                32     0.74        36 -71.071369  42.341342  \n10                2     0.62        37 -71.080535  42.349852  \n11                8     4.71        38 -71.030814  42.373034  \n12                4     1.36        39 -71.063664  42.379044  \n13               31     0.30        40 -71.065427  42.364539  \n14               30     0.31        41 -71.068262  42.357041  \n15                7     0.62        42 -71.057650  42.355584  \n16               34     0.88        43 -71.096114  42.344758  \n17               25     2.88        44 -71.155026  42.345448  \n18               19     5.49        45 -71.160026  42.280632  \n19               12     2.11        47 -71.091445  42.276996  \n20                6     7.29        48 -71.063457  42.298451  \n21               29     0.97        49 -71.041726  42.346408  \n22               17     2.25        50 -71.056403  42.334707  \n23               24     1.56        51 -71.128562  42.358396  \n24               22     1.29        52 -70.965593  42.320548  "
                    }, 
                    "execution_count": 67
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "df_centroids = df_centroids[df_centroids.Name != 'Harbor Islands']\ndf_centroids", 
            "cell_type": "code", 
            "execution_count": 68, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Unnamed: 0</th>\n      <th>OBJECTID</th>\n      <th>Name</th>\n      <th>Acres</th>\n      <th>Neighborhood_ID</th>\n      <th>SqMiles</th>\n      <th>ORIG_FID</th>\n      <th>Longitude</th>\n      <th>Latitude</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>NaN</td>\n      <td>1</td>\n      <td>Roslindale</td>\n      <td>1605.568238</td>\n      <td>15</td>\n      <td>2.51</td>\n      <td>27</td>\n      <td>-71.126662</td>\n      <td>42.282515</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>NaN</td>\n      <td>2</td>\n      <td>Jamaica Plain</td>\n      <td>2519.245394</td>\n      <td>11</td>\n      <td>3.94</td>\n      <td>28</td>\n      <td>-71.115097</td>\n      <td>42.307760</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>NaN</td>\n      <td>3</td>\n      <td>Mission Hill</td>\n      <td>350.853564</td>\n      <td>13</td>\n      <td>0.55</td>\n      <td>29</td>\n      <td>-71.102249</td>\n      <td>42.330745</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>NaN</td>\n      <td>4</td>\n      <td>Longwood</td>\n      <td>188.611947</td>\n      <td>28</td>\n      <td>0.29</td>\n      <td>30</td>\n      <td>-71.105102</td>\n      <td>42.338600</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>NaN</td>\n      <td>5</td>\n      <td>Bay Village</td>\n      <td>26.539839</td>\n      <td>33</td>\n      <td>0.04</td>\n      <td>31</td>\n      <td>-71.069031</td>\n      <td>42.349095</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>NaN</td>\n      <td>6</td>\n      <td>Leather District</td>\n      <td>15.639908</td>\n      <td>27</td>\n      <td>0.02</td>\n      <td>32</td>\n      <td>-71.057828</td>\n      <td>42.350974</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>NaN</td>\n      <td>7</td>\n      <td>Chinatown</td>\n      <td>76.324410</td>\n      <td>26</td>\n      <td>0.12</td>\n      <td>33</td>\n      <td>-71.061661</td>\n      <td>42.349019</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>NaN</td>\n      <td>8</td>\n      <td>North End</td>\n      <td>126.910439</td>\n      <td>14</td>\n      <td>0.20</td>\n      <td>34</td>\n      <td>-71.053857</td>\n      <td>42.365456</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>NaN</td>\n      <td>9</td>\n      <td>Roxbury</td>\n      <td>2108.469072</td>\n      <td>16</td>\n      <td>3.29</td>\n      <td>35</td>\n      <td>-71.086644</td>\n      <td>42.318508</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>NaN</td>\n      <td>10</td>\n      <td>South End</td>\n      <td>471.535356</td>\n      <td>32</td>\n      <td>0.74</td>\n      <td>36</td>\n      <td>-71.071369</td>\n      <td>42.341342</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>NaN</td>\n      <td>11</td>\n      <td>Back Bay</td>\n      <td>399.314411</td>\n      <td>2</td>\n      <td>0.62</td>\n      <td>37</td>\n      <td>-71.080535</td>\n      <td>42.349852</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>NaN</td>\n      <td>12</td>\n      <td>East Boston</td>\n      <td>3012.059593</td>\n      <td>8</td>\n      <td>4.71</td>\n      <td>38</td>\n      <td>-71.030814</td>\n      <td>42.373034</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>NaN</td>\n      <td>13</td>\n      <td>Charlestown</td>\n      <td>871.541223</td>\n      <td>4</td>\n      <td>1.36</td>\n      <td>39</td>\n      <td>-71.063664</td>\n      <td>42.379044</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>NaN</td>\n      <td>14</td>\n      <td>West End</td>\n      <td>190.490732</td>\n      <td>31</td>\n      <td>0.30</td>\n      <td>40</td>\n      <td>-71.065427</td>\n      <td>42.364539</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>NaN</td>\n      <td>15</td>\n      <td>Beacon Hill</td>\n      <td>200.156904</td>\n      <td>30</td>\n      <td>0.31</td>\n      <td>41</td>\n      <td>-71.068262</td>\n      <td>42.357041</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>NaN</td>\n      <td>16</td>\n      <td>Downtown</td>\n      <td>397.472846</td>\n      <td>7</td>\n      <td>0.62</td>\n      <td>42</td>\n      <td>-71.057650</td>\n      <td>42.355584</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>NaN</td>\n      <td>17</td>\n      <td>Fenway</td>\n      <td>560.618461</td>\n      <td>34</td>\n      <td>0.88</td>\n      <td>43</td>\n      <td>-71.096114</td>\n      <td>42.344758</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>NaN</td>\n      <td>18</td>\n      <td>Brighton</td>\n      <td>1840.408596</td>\n      <td>25</td>\n      <td>2.88</td>\n      <td>44</td>\n      <td>-71.155026</td>\n      <td>42.345448</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>NaN</td>\n      <td>19</td>\n      <td>West Roxbury</td>\n      <td>3516.421786</td>\n      <td>19</td>\n      <td>5.49</td>\n      <td>45</td>\n      <td>-71.160026</td>\n      <td>42.280632</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>NaN</td>\n      <td>20</td>\n      <td>Mattapan</td>\n      <td>1352.098354</td>\n      <td>12</td>\n      <td>2.11</td>\n      <td>47</td>\n      <td>-71.091445</td>\n      <td>42.276996</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>NaN</td>\n      <td>21</td>\n      <td>Dorchester</td>\n      <td>4662.879457</td>\n      <td>6</td>\n      <td>7.29</td>\n      <td>48</td>\n      <td>-71.063457</td>\n      <td>42.298451</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>NaN</td>\n      <td>22</td>\n      <td>South Boston Waterfront</td>\n      <td>621.843524</td>\n      <td>29</td>\n      <td>0.97</td>\n      <td>49</td>\n      <td>-71.041726</td>\n      <td>42.346408</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>NaN</td>\n      <td>23</td>\n      <td>South Boston</td>\n      <td>1439.888807</td>\n      <td>17</td>\n      <td>2.25</td>\n      <td>50</td>\n      <td>-71.056403</td>\n      <td>42.334707</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>NaN</td>\n      <td>24</td>\n      <td>Allston</td>\n      <td>998.534479</td>\n      <td>24</td>\n      <td>1.56</td>\n      <td>51</td>\n      <td>-71.128562</td>\n      <td>42.358396</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "    Unnamed: 0  OBJECTID                     Name        Acres  \\\n0          NaN         1               Roslindale  1605.568238   \n1          NaN         2            Jamaica Plain  2519.245394   \n2          NaN         3             Mission Hill   350.853564   \n3          NaN         4                 Longwood   188.611947   \n4          NaN         5              Bay Village    26.539839   \n5          NaN         6         Leather District    15.639908   \n6          NaN         7                Chinatown    76.324410   \n7          NaN         8                North End   126.910439   \n8          NaN         9                  Roxbury  2108.469072   \n9          NaN        10                South End   471.535356   \n10         NaN        11                 Back Bay   399.314411   \n11         NaN        12              East Boston  3012.059593   \n12         NaN        13              Charlestown   871.541223   \n13         NaN        14                 West End   190.490732   \n14         NaN        15              Beacon Hill   200.156904   \n15         NaN        16                 Downtown   397.472846   \n16         NaN        17                   Fenway   560.618461   \n17         NaN        18                 Brighton  1840.408596   \n18         NaN        19             West Roxbury  3516.421786   \n19         NaN        20                 Mattapan  1352.098354   \n20         NaN        21               Dorchester  4662.879457   \n21         NaN        22  South Boston Waterfront   621.843524   \n22         NaN        23             South Boston  1439.888807   \n23         NaN        24                  Allston   998.534479   \n\n    Neighborhood_ID  SqMiles  ORIG_FID  Longitude   Latitude  \n0                15     2.51        27 -71.126662  42.282515  \n1                11     3.94        28 -71.115097  42.307760  \n2                13     0.55        29 -71.102249  42.330745  \n3                28     0.29        30 -71.105102  42.338600  \n4                33     0.04        31 -71.069031  42.349095  \n5                27     0.02        32 -71.057828  42.350974  \n6                26     0.12        33 -71.061661  42.349019  \n7                14     0.20        34 -71.053857  42.365456  \n8                16     3.29        35 -71.086644  42.318508  \n9                32     0.74        36 -71.071369  42.341342  \n10                2     0.62        37 -71.080535  42.349852  \n11                8     4.71        38 -71.030814  42.373034  \n12                4     1.36        39 -71.063664  42.379044  \n13               31     0.30        40 -71.065427  42.364539  \n14               30     0.31        41 -71.068262  42.357041  \n15                7     0.62        42 -71.057650  42.355584  \n16               34     0.88        43 -71.096114  42.344758  \n17               25     2.88        44 -71.155026  42.345448  \n18               19     5.49        45 -71.160026  42.280632  \n19               12     2.11        47 -71.091445  42.276996  \n20                6     7.29        48 -71.063457  42.298451  \n21               29     0.97        49 -71.041726  42.346408  \n22               17     2.25        50 -71.056403  42.334707  \n23               24     1.56        51 -71.128562  42.358396  "
                    }, 
                    "execution_count": 68
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Drop Harbor Islands from df_centroids as this does not correspond to a real island", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "### Filter dataframe and rename some columns", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "df_centroids.rename(columns={'Name' : 'Neighbourhood'}, inplace=True)\ndf_centroids['Borough']='Boston' # add Boston as a Borough\ndf_centroids_filtered=df_centroids[['Borough','Neighbourhood','Latitude', 'Longitude']] # Create new dataframe\ndf_centroids_filtered\n", 
            "cell_type": "code", 
            "execution_count": 69, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stderr", 
                    "text": "/opt/conda/envs/Python36/lib/python3.6/site-packages/pandas/core/frame.py:4025: SettingWithCopyWarning: \nA value is trying to be set on a copy of a slice from a DataFrame\n\nSee the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy\n  return super(DataFrame, self).rename(**kwargs)\n/opt/conda/envs/Python36/lib/python3.6/site-packages/ipykernel/__main__.py:2: SettingWithCopyWarning: \nA value is trying to be set on a copy of a slice from a DataFrame.\nTry using .loc[row_indexer,col_indexer] = value instead\n\nSee the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy\n  from ipykernel import kernelapp as app\n"
                }, 
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Borough</th>\n      <th>Neighbourhood</th>\n      <th>Latitude</th>\n      <th>Longitude</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Boston</td>\n      <td>Roslindale</td>\n      <td>42.282515</td>\n      <td>-71.126662</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Boston</td>\n      <td>Jamaica Plain</td>\n      <td>42.307760</td>\n      <td>-71.115097</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Boston</td>\n      <td>Mission Hill</td>\n      <td>42.330745</td>\n      <td>-71.102249</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Boston</td>\n      <td>Longwood</td>\n      <td>42.338600</td>\n      <td>-71.105102</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Boston</td>\n      <td>Bay Village</td>\n      <td>42.349095</td>\n      <td>-71.069031</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Boston</td>\n      <td>Leather District</td>\n      <td>42.350974</td>\n      <td>-71.057828</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Boston</td>\n      <td>Chinatown</td>\n      <td>42.349019</td>\n      <td>-71.061661</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Boston</td>\n      <td>North End</td>\n      <td>42.365456</td>\n      <td>-71.053857</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Boston</td>\n      <td>Roxbury</td>\n      <td>42.318508</td>\n      <td>-71.086644</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>Boston</td>\n      <td>South End</td>\n      <td>42.341342</td>\n      <td>-71.071369</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>Boston</td>\n      <td>Back Bay</td>\n      <td>42.349852</td>\n      <td>-71.080535</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>Boston</td>\n      <td>East Boston</td>\n      <td>42.373034</td>\n      <td>-71.030814</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Boston</td>\n      <td>Charlestown</td>\n      <td>42.379044</td>\n      <td>-71.063664</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>Boston</td>\n      <td>West End</td>\n      <td>42.364539</td>\n      <td>-71.065427</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>Boston</td>\n      <td>Beacon Hill</td>\n      <td>42.357041</td>\n      <td>-71.068262</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Boston</td>\n      <td>Downtown</td>\n      <td>42.355584</td>\n      <td>-71.057650</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>Boston</td>\n      <td>Fenway</td>\n      <td>42.344758</td>\n      <td>-71.096114</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Boston</td>\n      <td>Brighton</td>\n      <td>42.345448</td>\n      <td>-71.155026</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>Boston</td>\n      <td>West Roxbury</td>\n      <td>42.280632</td>\n      <td>-71.160026</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>Boston</td>\n      <td>Mattapan</td>\n      <td>42.276996</td>\n      <td>-71.091445</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>Boston</td>\n      <td>Dorchester</td>\n      <td>42.298451</td>\n      <td>-71.063457</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>Boston</td>\n      <td>South Boston Waterfront</td>\n      <td>42.346408</td>\n      <td>-71.041726</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>Boston</td>\n      <td>South Boston</td>\n      <td>42.334707</td>\n      <td>-71.056403</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>Boston</td>\n      <td>Allston</td>\n      <td>42.358396</td>\n      <td>-71.128562</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "   Borough            Neighbourhood   Latitude  Longitude\n0   Boston               Roslindale  42.282515 -71.126662\n1   Boston            Jamaica Plain  42.307760 -71.115097\n2   Boston             Mission Hill  42.330745 -71.102249\n3   Boston                 Longwood  42.338600 -71.105102\n4   Boston              Bay Village  42.349095 -71.069031\n5   Boston         Leather District  42.350974 -71.057828\n6   Boston                Chinatown  42.349019 -71.061661\n7   Boston                North End  42.365456 -71.053857\n8   Boston                  Roxbury  42.318508 -71.086644\n9   Boston                South End  42.341342 -71.071369\n10  Boston                 Back Bay  42.349852 -71.080535\n11  Boston              East Boston  42.373034 -71.030814\n12  Boston              Charlestown  42.379044 -71.063664\n13  Boston                 West End  42.364539 -71.065427\n14  Boston              Beacon Hill  42.357041 -71.068262\n15  Boston                 Downtown  42.355584 -71.057650\n16  Boston                   Fenway  42.344758 -71.096114\n17  Boston                 Brighton  42.345448 -71.155026\n18  Boston             West Roxbury  42.280632 -71.160026\n19  Boston                 Mattapan  42.276996 -71.091445\n20  Boston               Dorchester  42.298451 -71.063457\n21  Boston  South Boston Waterfront  42.346408 -71.041726\n22  Boston             South Boston  42.334707 -71.056403\n23  Boston                  Allston  42.358396 -71.128562"
                    }, 
                    "execution_count": 69
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "df_centroids_filtered.shape", 
            "cell_type": "code", 
            "execution_count": 70, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "(24, 4)"
                    }, 
                    "execution_count": 70
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Use Geocoder to get the latitude and longitude values of Boston", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "!conda install -c conda-forge geopy --yes # uncomment this line if you haven't completed the Foursquare API lab\nfrom geopy.geocoders import Nominatim # convert an address into latitude and longitude values", 
            "cell_type": "code", 
            "execution_count": 71, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "Solving environment: done\n\n# All requested packages already installed.\n\n"
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "address = 'Boston, MA'\n\ngeolocator = Nominatim(user_agent=\"Boston_explorer\")\nlocation = geolocator.geocode(address)\nlatitude = location.latitude\nlongitude = location.longitude\nprint('The geograpical coordinate of Boston are {}, {}.'.format(latitude, longitude))", 
            "cell_type": "code", 
            "execution_count": 72, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "The geograpical coordinate of Boston are 42.3602534, -71.0582912.\n"
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "# Install folium library\n!conda install -c conda-forge folium=0.5.0 --yes # uncomment this line if you haven't completed the Foursquare API lab\nimport folium # map rendering library", 
            "cell_type": "code", 
            "execution_count": 73, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "Solving environment: done\n\n# All requested packages already installed.\n\n"
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "# create map of Boston using latitude and longitude values\nmap_boston = folium.Map(location=[latitude, longitude], zoom_start=10)\nmap_boston", 
            "cell_type": "code", 
            "execution_count": 74, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfYWFjMDgxMDk3MzFmNGQzZTk5MjhhMDVhN2JlNzExOWIgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2FhYzA4MTA5NzMxZjRkM2U5OTI4YTA1YTdiZTcxMTliIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9hYWMwODEwOTczMWY0ZDNlOTkyOGEwNWE3YmU3MTE5YiA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9hYWMwODEwOTczMWY0ZDNlOTkyOGEwNWE3YmU3MTE5YicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDIuMzYwMjUzNCwtNzEuMDU4MjkxMl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfOWNlMDIyMTQxZGFmNGY1YWFhNDhjMTcxNDUzMDRiNmUgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYWFjMDgxMDk3MzFmNGQzZTk5MjhhMDVhN2JlNzExOWIpOwogICAgICAgIAo8L3NjcmlwdD4=\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>", 
                        "text/plain": "<folium.folium.Map at 0x7f7549becd30>"
                    }, 
                    "execution_count": 74
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Create a map of Boston with neighborhoods superimposed on top", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "# create map of Boston using latitude and longitude values\nmap_boston = folium.Map(location=[latitude, longitude], zoom_start=10)\n\n# add markers to map\nfor lat, lng, borough, neighbourhood in zip(df_centroids_filtered['Latitude'], df_centroids_filtered['Longitude'], df_centroids_filtered['Borough'],df_centroids_filtered['Neighbourhood']):\n    label = '{}, {}'.format(neighbourhood, borough)\n    label = folium.Popup(label, parse_html=True)\n    folium.CircleMarker(\n        [lat, lng],\n        radius=5, \n        popup=label,\n        color='blue',\n        fill=True,\n        fill_color='#3186cc',\n        fill_opacity=0.7,\n        parse_html=False).add_to(map_boston)  \n    \nmap_boston", 
            "cell_type": "code", 
            "execution_count": 75, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfMzM4MDA5ZTNmMDVjNGFhNTllMjc5MmFhODNlNWJiYzcgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzMzODAwOWUzZjA1YzRhYTU5ZTI3OTJhYTgzZTViYmM3IiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF8zMzgwMDllM2YwNWM0YWE1OWUyNzkyYWE4M2U1YmJjNyA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF8zMzgwMDllM2YwNWM0YWE1OWUyNzkyYWE4M2U1YmJjNycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDIuMzYwMjUzNCwtNzEuMDU4MjkxMl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfNmYxNzY2NjA5YzY5NDg5MDg3NjdlZTM5Mzg4MzIyNjYgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMzM4MDA5ZTNmMDVjNGFhNTllMjc5MmFhODNlNWJiYzcpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzE3ZDIyNWFjOGEyMDQxOTQ5ODcxMTVmZmU2NWQ2MTUwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMjgyNTE1MjMsLTcxLjEyNjY2MTg0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzMzODAwOWUzZjA1YzRhYTU5ZTI3OTJhYTgzZTViYmM3KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VhNWMyNWFhZTZlYjRmMmU5MTZjYmZjMTZhZDU5OTNlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZiZmI1NzVkNTlhYTQwMWFhNTBjYWYyM2Q4ZWNiYjg1ID0gJCgnPGRpdiBpZD0iaHRtbF82YmZiNTc1ZDU5YWE0MDFhYTUwY2FmMjNkOGVjYmI4NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um9zbGluZGFsZSwgQm9zdG9uPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lYTVjMjVhYWU2ZWI0ZjJlOTE2Y2JmYzE2YWQ1OTkzZS5zZXRDb250ZW50KGh0bWxfNmJmYjU3NWQ1OWFhNDAxYWE1MGNhZjIzZDhlY2JiODUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTdkMjI1YWM4YTIwNDE5NDk4NzExNWZmZTY1ZDYxNTAuYmluZFBvcHVwKHBvcHVwX2VhNWMyNWFhZTZlYjRmMmU5MTZjYmZjMTZhZDU5OTNlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzJkZGUwMmI0OTdiMjRlNjA5ZTYxMDVkZjAwODJiYWUwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzA3NzU5NTgsLTcxLjExNTA5NjgzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzMzODAwOWUzZjA1YzRhYTU5ZTI3OTJhYTgzZTViYmM3KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzViNDBlM2M4N2ZiNDQxOGRhZjRiMWQ1MGYwNzAyOTYzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ4MDViMTg2ZmU5NTQ3MGQ5N2M0NTMzODQ3N2M5NjI2ID0gJCgnPGRpdiBpZD0iaHRtbF80ODA1YjE4NmZlOTU0NzBkOTdjNDUzMzg0NzdjOTYyNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SmFtYWljYSBQbGFpbiwgQm9zdG9uPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81YjQwZTNjODdmYjQ0MThkYWY0YjFkNTBmMDcwMjk2My5zZXRDb250ZW50KGh0bWxfNDgwNWIxODZmZTk1NDcwZDk3YzQ1MzM4NDc3Yzk2MjYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmRkZTAyYjQ5N2IyNGU2MDllNjEwNWRmMDA4MmJhZTAuYmluZFBvcHVwKHBvcHVwXzViNDBlM2M4N2ZiNDQxOGRhZjRiMWQ1MGYwNzAyOTYzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y2ZjBkOTJjYzg2YjRlOTJiOWQyMmMzZTJlZTkwNGZlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzMwNzQ0NjMsLTcxLjEwMjI0ODY0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzMzODAwOWUzZjA1YzRhYTU5ZTI3OTJhYTgzZTViYmM3KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgzOTJkYTA5NmYzMTRkYjQ4MzYzYzVhNDIxZWI0ZDY3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzdkMDEyNDg5MTFhZDQ5ZjZiMTdmNzQzNDU0MzlmNzA3ID0gJCgnPGRpdiBpZD0iaHRtbF83ZDAxMjQ4OTExYWQ0OWY2YjE3Zjc0MzQ1NDM5ZjcwNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TWlzc2lvbiBIaWxsLCBCb3N0b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgzOTJkYTA5NmYzMTRkYjQ4MzYzYzVhNDIxZWI0ZDY3LnNldENvbnRlbnQoaHRtbF83ZDAxMjQ4OTExYWQ0OWY2YjE3Zjc0MzQ1NDM5ZjcwNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNmYwZDkyY2M4NmI0ZTkyYjlkMjJjM2UyZWU5MDRmZS5iaW5kUG9wdXAocG9wdXBfODM5MmRhMDk2ZjMxNGRiNDgzNjNjNWE0MjFlYjRkNjcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTcyYjg3YWYwYzE3NDIzMWE5YTE4YjRmOGNhZmI5NTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zMzg2MDAxOSwtNzEuMTA1MTAyMDZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMzM4MDA5ZTNmMDVjNGFhNTllMjc5MmFhODNlNWJiYzcpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWNjZTlkMjc1NWQwNDI5Mjk5ZmJhMjY0MTZkYWNiNDAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmRhMmVmMTJmMzM1NGZjN2FkYzMyMjJlNmE1NDEzYjYgPSAkKCc8ZGl2IGlkPSJodG1sXzZkYTJlZjEyZjMzNTRmYzdhZGMzMjIyZTZhNTQxM2I2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Mb25nd29vZCwgQm9zdG9uPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81Y2NlOWQyNzU1ZDA0MjkyOTlmYmEyNjQxNmRhY2I0MC5zZXRDb250ZW50KGh0bWxfNmRhMmVmMTJmMzM1NGZjN2FkYzMyMjJlNmE1NDEzYjYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTcyYjg3YWYwYzE3NDIzMWE5YTE4YjRmOGNhZmI5NTYuYmluZFBvcHVwKHBvcHVwXzVjY2U5ZDI3NTVkMDQyOTI5OWZiYTI2NDE2ZGFjYjQwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzA3MGM4ZTU3OWYwMTRjYjI4OWRiMzgyNWExMWYzMjcxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzQ5MDk0NTcsLTcxLjA2OTAzMTQyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzMzODAwOWUzZjA1YzRhYTU5ZTI3OTJhYTgzZTViYmM3KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE1OWNjMjg3YTI0MDQ2M2Q5ZjdjNWZhZTIzNjM1YzFhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M4OGE2ZGJkN2IwMjRhOTBiNDlhZTdlMjNjMDkzNDEyID0gJCgnPGRpdiBpZD0iaHRtbF9jODhhNmRiZDdiMDI0YTkwYjQ5YWU3ZTIzYzA5MzQxMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmF5IFZpbGxhZ2UsIEJvc3RvbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTU5Y2MyODdhMjQwNDYzZDlmN2M1ZmFlMjM2MzVjMWEuc2V0Q29udGVudChodG1sX2M4OGE2ZGJkN2IwMjRhOTBiNDlhZTdlMjNjMDkzNDEyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA3MGM4ZTU3OWYwMTRjYjI4OWRiMzgyNWExMWYzMjcxLmJpbmRQb3B1cChwb3B1cF8xNTljYzI4N2EyNDA0NjNkOWY3YzVmYWUyMzYzNWMxYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kMzEyZGZjZDdkYmQ0ODQzOWIzMDc3YTZhNWE0NGYxMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjM1MDk3NDI3LC03MS4wNTc4Mjc1MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zMzgwMDllM2YwNWM0YWE1OWUyNzkyYWE4M2U1YmJjNyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81MjQ2YzRjMDViMmE0MDA3YjhhMWNhYmI0OTAyZThhYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MTk4NDlmMGEwMDU0MmQ0ODVkMWI5MTkxZGI1YjMzMyA9ICQoJzxkaXYgaWQ9Imh0bWxfNjE5ODQ5ZjBhMDA1NDJkNDg1ZDFiOTE5MWRiNWIzMzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxlYXRoZXIgRGlzdHJpY3QsIEJvc3RvbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTI0NmM0YzA1YjJhNDAwN2I4YTFjYWJiNDkwMmU4YWEuc2V0Q29udGVudChodG1sXzYxOTg0OWYwYTAwNTQyZDQ4NWQxYjkxOTFkYjViMzMzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2QzMTJkZmNkN2RiZDQ4NDM5YjMwNzdhNmE1YTQ0ZjEzLmJpbmRQb3B1cChwb3B1cF81MjQ2YzRjMDViMmE0MDA3YjhhMWNhYmI0OTAyZThhYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hYTdkNWU4MzkxZDE0N2JmYWQzYzM0ZDhkNDRlNjdlOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjM0OTAxODY0LC03MS4wNjE2NjE0OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zMzgwMDllM2YwNWM0YWE1OWUyNzkyYWE4M2U1YmJjNyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85ZWVlMGU2Njg4MWU0OGFiOGVkNDVhNjc3NGU2NDY2NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wMmFlNjFiN2E5Yjc0NjkzYjM1YTllOTE3YjVhNGFiNyA9ICQoJzxkaXYgaWQ9Imh0bWxfMDJhZTYxYjdhOWI3NDY5M2IzNWE5ZTkxN2I1YTRhYjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoaW5hdG93biwgQm9zdG9uPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85ZWVlMGU2Njg4MWU0OGFiOGVkNDVhNjc3NGU2NDY2NS5zZXRDb250ZW50KGh0bWxfMDJhZTYxYjdhOWI3NDY5M2IzNWE5ZTkxN2I1YTRhYjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYWE3ZDVlODM5MWQxNDdiZmFkM2MzNGQ4ZDQ0ZTY3ZTguYmluZFBvcHVwKHBvcHVwXzllZWUwZTY2ODgxZTQ4YWI4ZWQ0NWE2Nzc0ZTY0NjY1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2FjODE0Yzg1YTBhMDQxNDdhOWM1NmI1OWMyOWEzNzhiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzY1NDU2MDIsLTcxLjA1Mzg1NzEyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzMzODAwOWUzZjA1YzRhYTU5ZTI3OTJhYTgzZTViYmM3KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2EwYjg3Mzc2M2EyOTQxMDRhODc5Y2EwMGEzY2QwMTQ0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ5ZDlhM2MwYTFiNTQ2OWFiNWZlY2VmYTI2MzhjMTQxID0gJCgnPGRpdiBpZD0iaHRtbF80OWQ5YTNjMGExYjU0NjlhYjVmZWNlZmEyNjM4YzE0MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggRW5kLCBCb3N0b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2EwYjg3Mzc2M2EyOTQxMDRhODc5Y2EwMGEzY2QwMTQ0LnNldENvbnRlbnQoaHRtbF80OWQ5YTNjMGExYjU0NjlhYjVmZWNlZmEyNjM4YzE0MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hYzgxNGM4NWEwYTA0MTQ3YTljNTZiNTljMjlhMzc4Yi5iaW5kUG9wdXAocG9wdXBfYTBiODczNzYzYTI5NDEwNGE4NzljYTAwYTNjZDAxNDQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjQ3MmQ2OGFkYWVlNDZmNjk2ZmI5MWQxMDNhZDM0YWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zMTg1MDgxNywtNzEuMDg2NjQ0MThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMzM4MDA5ZTNmMDVjNGFhNTllMjc5MmFhODNlNWJiYzcpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDZmZGI5N2RjMTZlNGM5OWI0ODc3MjRkMGRlOTI2MTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDg2ZjU1OTRmYzE5NGE2ODljMDhlMjdiN2ExOGRiMzkgPSAkKCc8ZGl2IGlkPSJodG1sX2Q4NmY1NTk0ZmMxOTRhNjg5YzA4ZTI3YjdhMThkYjM5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Sb3hidXJ5LCBCb3N0b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ2ZmRiOTdkYzE2ZTRjOTliNDg3NzI0ZDBkZTkyNjExLnNldENvbnRlbnQoaHRtbF9kODZmNTU5NGZjMTk0YTY4OWMwOGUyN2I3YTE4ZGIzOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iNDcyZDY4YWRhZWU0NmY2OTZmYjkxZDEwM2FkMzRhYy5iaW5kUG9wdXAocG9wdXBfNDZmZGI5N2RjMTZlNGM5OWI0ODc3MjRkMGRlOTI2MTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzE1YTZmY2I2MWEwNDRlMmFiMjMyZGY4NTNjOTA4YmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDEzNDE2NCwtNzEuMDcxMzY4NzZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMzM4MDA5ZTNmMDVjNGFhNTllMjc5MmFhODNlNWJiYzcpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTdmMWMyYTRhMTAxNGNlNmI1Y2JjOWRiZGVlZjY1ODggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzU0ZWM3MDFhNzgyNGI1M2I5MmIxYzNhNTIyYmE5MDggPSAkKCc8ZGl2IGlkPSJodG1sX2M1NGVjNzAxYTc4MjRiNTNiOTJiMWMzYTUyMmJhOTA4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Tb3V0aCBFbmQsIEJvc3RvbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTdmMWMyYTRhMTAxNGNlNmI1Y2JjOWRiZGVlZjY1ODguc2V0Q29udGVudChodG1sX2M1NGVjNzAxYTc4MjRiNTNiOTJiMWMzYTUyMmJhOTA4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2MxNWE2ZmNiNjFhMDQ0ZTJhYjIzMmRmODUzYzkwOGJhLmJpbmRQb3B1cChwb3B1cF85N2YxYzJhNGExMDE0Y2U2YjVjYmM5ZGJkZWVmNjU4OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yYjQyN2U0NmE0Y2I0MjRlOTRhMDY3YmNkYWYxMDA0OSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjM0OTg1MTgxLC03MS4wODA1MzQ5Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zMzgwMDllM2YwNWM0YWE1OWUyNzkyYWE4M2U1YmJjNyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mMjkyYWRiMjA0YzE0NGJhOGNiMGY0NmQyYjA1MjViYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jNDlmZTE4M2M1NTE0ZTA0YjA0MWU5NWNhMThkYzM4OCA9ICQoJzxkaXYgaWQ9Imh0bWxfYzQ5ZmUxODNjNTUxNGUwNGIwNDFlOTVjYTE4ZGMzODgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJhY2sgQmF5LCBCb3N0b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2YyOTJhZGIyMDRjMTQ0YmE4Y2IwZjQ2ZDJiMDUyNWJhLnNldENvbnRlbnQoaHRtbF9jNDlmZTE4M2M1NTE0ZTA0YjA0MWU5NWNhMThkYzM4OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yYjQyN2U0NmE0Y2I0MjRlOTRhMDY3YmNkYWYxMDA0OS5iaW5kUG9wdXAocG9wdXBfZjI5MmFkYjIwNGMxNDRiYThjYjBmNDZkMmIwNTI1YmEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTQzZjlmOGRhZGMwNGVmYTk2NGEyNGVmNzQ0NDFlYTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNzMwMzQyOSwtNzEuMDMwODE0MjZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMzM4MDA5ZTNmMDVjNGFhNTllMjc5MmFhODNlNWJiYzcpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGZhOWEwZTlmOGVkNDQwYmIxMWM4YjVmZDBlY2IyNzcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmU5OTZiYzBkZTliNDZhNmI0ODg0MDVhNjAwMDMwNDkgPSAkKCc8ZGl2IGlkPSJodG1sX2ZlOTk2YmMwZGU5YjQ2YTZiNDg4NDA1YTYwMDAzMDQ5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IEJvc3RvbiwgQm9zdG9uPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kZmE5YTBlOWY4ZWQ0NDBiYjExYzhiNWZkMGVjYjI3Ny5zZXRDb250ZW50KGh0bWxfZmU5OTZiYzBkZTliNDZhNmI0ODg0MDVhNjAwMDMwNDkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTQzZjlmOGRhZGMwNGVmYTk2NGEyNGVmNzQ0NDFlYTMuYmluZFBvcHVwKHBvcHVwX2RmYTlhMGU5ZjhlZDQ0MGJiMTFjOGI1ZmQwZWNiMjc3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzA0NDEwMWYzODIwNDQ1YmE5ZjdmNjg0MzY4MDA5YzVjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzc5MDQ0NDUsLTcxLjA2MzY2NDQxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzMzODAwOWUzZjA1YzRhYTU5ZTI3OTJhYTgzZTViYmM3KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBiMDkxNjY1NGM4NzQwM2RiZTQ2OWRiYjE0MWE5MGFmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVmMTFiODcwMjI4NjQzMDA4MDdhM2Y4NDgzNzcxNzZkID0gJCgnPGRpdiBpZD0iaHRtbF81ZjExYjg3MDIyODY0MzAwODA3YTNmODQ4Mzc3MTc2ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hhcmxlc3Rvd24sIEJvc3RvbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGIwOTE2NjU0Yzg3NDAzZGJlNDY5ZGJiMTQxYTkwYWYuc2V0Q29udGVudChodG1sXzVmMTFiODcwMjI4NjQzMDA4MDdhM2Y4NDgzNzcxNzZkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA0NDEwMWYzODIwNDQ1YmE5ZjdmNjg0MzY4MDA5YzVjLmJpbmRQb3B1cChwb3B1cF8wYjA5MTY2NTRjODc0MDNkYmU0NjlkYmIxNDFhOTBhZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNTJlZDIxNmM4M2E0M2FmODZiNGI0NDZlZDA4MTEwOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjM2NDUzOTE3LC03MS4wNjU0MjcxNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zMzgwMDllM2YwNWM0YWE1OWUyNzkyYWE4M2U1YmJjNyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82OWYwODYyNWM3M2Q0OTM4OTUzODAzZDRkN2Q4ZjM4ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83NjQ5NjdkODBjZGI0Mjg0OTNlMDlmM2RlZDBiYjI0MCA9ICQoJzxkaXYgaWQ9Imh0bWxfNzY0OTY3ZDgwY2RiNDI4NDkzZTA5ZjNkZWQwYmIyNDAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3QgRW5kLCBCb3N0b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY5ZjA4NjI1YzczZDQ5Mzg5NTM4MDNkNGQ3ZDhmMzhkLnNldENvbnRlbnQoaHRtbF83NjQ5NjdkODBjZGI0Mjg0OTNlMDlmM2RlZDBiYjI0MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yNTJlZDIxNmM4M2E0M2FmODZiNGI0NDZlZDA4MTEwOC5iaW5kUG9wdXAocG9wdXBfNjlmMDg2MjVjNzNkNDkzODk1MzgwM2Q0ZDdkOGYzOGQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTc2NzllZmJlMTFlNDE4ZWFhMDQ3MzMzNDQzYTg2MDkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNTcwNDEzMiwtNzEuMDY4MjYxNzddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMzM4MDA5ZTNmMDVjNGFhNTllMjc5MmFhODNlNWJiYzcpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTMwOWE1MzFkMTNkNDcxZDk2ZDk4Njg5ZDFiNTUwZTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjJhMTc4ZjA5YzkwNDQ3ZjljN2ZhN2E0Mjk5OGVmOTkgPSAkKCc8ZGl2IGlkPSJodG1sX2IyYTE3OGYwOWM5MDQ0N2Y5YzdmYTdhNDI5OThlZjk5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CZWFjb24gSGlsbCwgQm9zdG9uPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81MzA5YTUzMWQxM2Q0NzFkOTZkOTg2ODlkMWI1NTBlNS5zZXRDb250ZW50KGh0bWxfYjJhMTc4ZjA5YzkwNDQ3ZjljN2ZhN2E0Mjk5OGVmOTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTc2NzllZmJlMTFlNDE4ZWFhMDQ3MzMzNDQzYTg2MDkuYmluZFBvcHVwKHBvcHVwXzUzMDlhNTMxZDEzZDQ3MWQ5NmQ5ODY4OWQxYjU1MGU1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMxNDA3YjYxZmVjNzQxNzI5Zjc1OTg3YzlkMTIwMDAyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzU1NTg0MzEsLTcxLjA1NzY1MDI0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzMzODAwOWUzZjA1YzRhYTU5ZTI3OTJhYTgzZTViYmM3KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2YwZTA0YTQ4ZWM5NDRhMjNiYzFlZTEwNTljZGRkOGU2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZiNWU1MjBjZWMyOTQ4NGVhMzUzZDU3NDVjMWViY2ZiID0gJCgnPGRpdiBpZD0iaHRtbF9mYjVlNTIwY2VjMjk0ODRlYTM1M2Q1NzQ1YzFlYmNmYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnRvd24sIEJvc3RvbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjBlMDRhNDhlYzk0NGEyM2JjMWVlMTA1OWNkZGQ4ZTYuc2V0Q29udGVudChodG1sX2ZiNWU1MjBjZWMyOTQ4NGVhMzUzZDU3NDVjMWViY2ZiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMxNDA3YjYxZmVjNzQxNzI5Zjc1OTg3YzlkMTIwMDAyLmJpbmRQb3B1cChwb3B1cF9mMGUwNGE0OGVjOTQ0YTIzYmMxZWUxMDU5Y2RkZDhlNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84NjE5NTIxZDI1OWI0YmE0YmZiNGU3YzMzZTlkNmVmZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjM0NDc1ODM5OTk5OTk5NiwtNzEuMDk2MTEzODldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMzM4MDA5ZTNmMDVjNGFhNTllMjc5MmFhODNlNWJiYzcpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTAwNmNlNDNjOGYzNDkwOTliOWZlYzViMTdmMTNmZjEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODIzZDU2MzNkYmJiNDkxNDhkN2M4YzZlNWRiN2NiMGQgPSAkKCc8ZGl2IGlkPSJodG1sXzgyM2Q1NjMzZGJiYjQ5MTQ4ZDdjOGM2ZTVkYjdjYjBkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GZW53YXksIEJvc3RvbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTAwNmNlNDNjOGYzNDkwOTliOWZlYzViMTdmMTNmZjEuc2V0Q29udGVudChodG1sXzgyM2Q1NjMzZGJiYjQ5MTQ4ZDdjOGM2ZTVkYjdjYjBkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg2MTk1MjFkMjU5YjRiYTRiZmI0ZTdjMzNlOWQ2ZWZkLmJpbmRQb3B1cChwb3B1cF8xMDA2Y2U0M2M4ZjM0OTA5OWI5ZmVjNWIxN2YxM2ZmMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lYzU0OWUzNGQ1ZmY0ZDRiYjY0MDMxMzAwMGYxZTdkOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjM0NTQ0Nzk0LC03MS4xNTUwMjU4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zMzgwMDllM2YwNWM0YWE1OWUyNzkyYWE4M2U1YmJjNyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iNWIzOTExZjUzNGQ0MTc4YWY5N2NjMWY4Yjg5YmVkYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80MzQ2NDk2NjBiYWU0NTJmYjUyMmQ3YTdjODRmZTkzYyA9ICQoJzxkaXYgaWQ9Imh0bWxfNDM0NjQ5NjYwYmFlNDUyZmI1MjJkN2E3Yzg0ZmU5M2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJyaWdodG9uLCBCb3N0b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I1YjM5MTFmNTM0ZDQxNzhhZjk3Y2MxZjhiODliZWRhLnNldENvbnRlbnQoaHRtbF80MzQ2NDk2NjBiYWU0NTJmYjUyMmQ3YTdjODRmZTkzYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lYzU0OWUzNGQ1ZmY0ZDRiYjY0MDMxMzAwMGYxZTdkOC5iaW5kUG9wdXAocG9wdXBfYjViMzkxMWY1MzRkNDE3OGFmOTdjYzFmOGI4OWJlZGEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGE4NzNiZGVmZWViNDg3YmI0M2M5ZTAyYjM4OWNjNmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4yODA2MzIyMSwtNzEuMTYwMDI2MDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMzM4MDA5ZTNmMDVjNGFhNTllMjc5MmFhODNlNWJiYzcpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjA3MzdjMTMyNWY0NGViMmIyN2UxMzY4NTgwNGZmZDAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjM3ODc3YmQzZjE2NDkxOGFlMmIxYWExODZlMWIxOGMgPSAkKCc8ZGl2IGlkPSJodG1sX2IzNzg3N2JkM2YxNjQ5MThhZTJiMWFhMTg2ZTFiMThjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0IFJveGJ1cnksIEJvc3RvbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjA3MzdjMTMyNWY0NGViMmIyN2UxMzY4NTgwNGZmZDAuc2V0Q29udGVudChodG1sX2IzNzg3N2JkM2YxNjQ5MThhZTJiMWFhMTg2ZTFiMThjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhhODczYmRlZmVlYjQ4N2JiNDNjOWUwMmIzODljYzZhLmJpbmRQb3B1cChwb3B1cF9iMDczN2MxMzI1ZjQ0ZWIyYjI3ZTEzNjg1ODA0ZmZkMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lMDIyYjU2NjZmMTc0OTVhODU1NjkwYzNmNmEzOTYwMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjI3Njk5NjM1LC03MS4wOTE0NDUxMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zMzgwMDllM2YwNWM0YWE1OWUyNzkyYWE4M2U1YmJjNyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84NTNiODA2NDgxODE0MDA1YTFiOTA3MzBjNjRjOGQ4NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jZjc3YTY4NmRhZTg0ZTc0YjNjN2Q0YmI0MzNiY2JkZSA9ICQoJzxkaXYgaWQ9Imh0bWxfY2Y3N2E2ODZkYWU4NGU3NGIzYzdkNGJiNDMzYmNiZGUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1hdHRhcGFuLCBCb3N0b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzg1M2I4MDY0ODE4MTQwMDVhMWI5MDczMGM2NGM4ZDg1LnNldENvbnRlbnQoaHRtbF9jZjc3YTY4NmRhZTg0ZTc0YjNjN2Q0YmI0MzNiY2JkZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lMDIyYjU2NjZmMTc0OTVhODU1NjkwYzNmNmEzOTYwMy5iaW5kUG9wdXAocG9wdXBfODUzYjgwNjQ4MTgxNDAwNWExYjkwNzMwYzY0YzhkODUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjZhYWM3ZTA5MzE3NDZkNGE0MmQ3NDk3ZDM5YjA1ZTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4yOTg0NTE0NSwtNzEuMDYzNDU3MzNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMzM4MDA5ZTNmMDVjNGFhNTllMjc5MmFhODNlNWJiYzcpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDgxMDg3ODA3YWFiNDUyYjhlYjQ0NmFkYTU5MjllODUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWU5ZTBjNzBkZDJiNGM4Zjg0YzcyY2E5ZmRiYzlmZmYgPSAkKCc8ZGl2IGlkPSJodG1sX2FlOWUwYzcwZGQyYjRjOGY4NGM3MmNhOWZkYmM5ZmZmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3JjaGVzdGVyLCBCb3N0b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ4MTA4NzgwN2FhYjQ1MmI4ZWI0NDZhZGE1OTI5ZTg1LnNldENvbnRlbnQoaHRtbF9hZTllMGM3MGRkMmI0YzhmODRjNzJjYTlmZGJjOWZmZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNmFhYzdlMDkzMTc0NmQ0YTQyZDc0OTdkMzliMDVlMy5iaW5kUG9wdXAocG9wdXBfNDgxMDg3ODA3YWFiNDUyYjhlYjQ0NmFkYTU5MjllODUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmU5MDA2OWQxZmE2NDYwYmFkODgwMjRjZGIzNzAwNTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDY0MDgwNywtNzEuMDQxNzI2NDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMzM4MDA5ZTNmMDVjNGFhNTllMjc5MmFhODNlNWJiYzcpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTNmNTI5NTY2YzhjNDI4NmFkNmQwYWYxYThjNmYwZDIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWM1NmFiYzc3OTM4NGE2NTk1N2Y4ZWUzOGI4OTk1YjkgPSAkKCc8ZGl2IGlkPSJodG1sXzVjNTZhYmM3NzkzODRhNjU5NTdmOGVlMzhiODk5NWI5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Tb3V0aCBCb3N0b24gV2F0ZXJmcm9udCwgQm9zdG9uPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xM2Y1Mjk1NjZjOGM0Mjg2YWQ2ZDBhZjFhOGM2ZjBkMi5zZXRDb250ZW50KGh0bWxfNWM1NmFiYzc3OTM4NGE2NTk1N2Y4ZWUzOGI4OTk1YjkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZmU5MDA2OWQxZmE2NDYwYmFkODgwMjRjZGIzNzAwNTIuYmluZFBvcHVwKHBvcHVwXzEzZjUyOTU2NmM4YzQyODZhZDZkMGFmMWE4YzZmMGQyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzg3NGFiYzFmYWFjNTRkODM5YTE0NGY0MmI5NjQzMjE1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzM0NzA2NzQsLTcxLjA1NjQwMzIzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzMzODAwOWUzZjA1YzRhYTU5ZTI3OTJhYTgzZTViYmM3KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdhMjFlMDQ4ZDAxYjRlMWE5MDI2ZDU2MDJmZjZiMzU2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RjYmNhYWJjMmE4ZDQ0N2ZhYTJhZTcwMmNjYTIzYzI4ID0gJCgnPGRpdiBpZD0iaHRtbF9kY2JjYWFiYzJhOGQ0NDdmYWEyYWU3MDJjY2EyM2MyOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U291dGggQm9zdG9uLCBCb3N0b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdhMjFlMDQ4ZDAxYjRlMWE5MDI2ZDU2MDJmZjZiMzU2LnNldENvbnRlbnQoaHRtbF9kY2JjYWFiYzJhOGQ0NDdmYWEyYWU3MDJjY2EyM2MyOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84NzRhYmMxZmFhYzU0ZDgzOWExNDRmNDJiOTY0MzIxNS5iaW5kUG9wdXAocG9wdXBfN2EyMWUwNDhkMDFiNGUxYTkwMjZkNTYwMmZmNmIzNTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjQzZTFiODgyZWZjNGU3NGI2MjczYjIzMDgyMzY0YTcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNTgzOTYyMDAwMDAwMSwtNzEuMTI4NTYyMjhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMzM4MDA5ZTNmMDVjNGFhNTllMjc5MmFhODNlNWJiYzcpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTY0NzIwOWNlYjQ4NGViOGJhMTU2NmZlZjJkMWYwMTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTQ0NDI3N2VhNzMwNDc2YjkxZjJmODJhZDQxNzFkNzEgPSAkKCc8ZGl2IGlkPSJodG1sXzU0NDQyNzdlYTczMDQ3NmI5MWYyZjgyYWQ0MTcxZDcxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BbGxzdG9uLCBCb3N0b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U2NDcyMDljZWI0ODRlYjhiYTE1NjZmZWYyZDFmMDE4LnNldENvbnRlbnQoaHRtbF81NDQ0Mjc3ZWE3MzA0NzZiOTFmMmY4MmFkNDE3MWQ3MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82NDNlMWI4ODJlZmM0ZTc0YjYyNzNiMjMwODIzNjRhNy5iaW5kUG9wdXAocG9wdXBfZTY0NzIwOWNlYjQ4NGViOGJhMTU2NmZlZjJkMWYwMTgpOwoKICAgICAgICAgICAgCiAgICAgICAgCjwvc2NyaXB0Pg==\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>", 
                        "text/plain": "<folium.folium.Map at 0x7f754502c0f0>"
                    }, 
                    "execution_count": 75
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Define Foursquare Credentials and Version", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "CLIENT_ID = '4K43JJJHZ5Q4MR4DLH31XSEY40XLCWCSVVSVNDWH0TJ0HS0C' # your Foursquare ID\nCLIENT_SECRET = '2ZZJW0YADX0GPLUZ2BR4V1QNHFYMKJGL1LD5IFTWO4IKEIBH' # your Foursquare Secret\nVERSION = '20180605' # Foursquare API version\n\nprint('Your credentails:')\nprint('CLIENT_ID: ' + CLIENT_ID)\nprint('CLIENT_SECRET:' + CLIENT_SECRET)", 
            "cell_type": "code", 
            "execution_count": 76, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "Your credentails:\nCLIENT_ID: 4K43JJJHZ5Q4MR4DLH31XSEY40XLCWCSVVSVNDWH0TJ0HS0C\nCLIENT_SECRET:2ZZJW0YADX0GPLUZ2BR4V1QNHFYMKJGL1LD5IFTWO4IKEIBH\n"
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Let's explore the first neighborhood in our dataframe", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "df_centroids_filtered.reset_index(inplace=True)\ndf_centroids_filtered.loc[0,\"Neighbourhood\"]", 
            "cell_type": "code", 
            "execution_count": 77, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "'Roslindale'"
                    }, 
                    "execution_count": 77
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "neighbourhood_latitude = df_centroids_filtered.loc[0, 'Latitude'] # neighborhood latitude value\nneighbourhood_longitude= df_centroids_filtered.loc[0, 'Longitude'] # neighborhood longitude value\n\nneighbourhood_name = df_centroids_filtered.loc[0, 'Neighbourhood'] # neighborhood name\n\nprint('Latitude and longitude values of {} are {}, {}.'.format(neighbourhood_name, \n                                                               neighbourhood_latitude, \n                                                               neighbourhood_longitude))", 
            "cell_type": "code", 
            "execution_count": 78, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "Latitude and longitude values of Roslindale are 42.28251523, -71.12666184.\n"
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Let's get the top 100 venues that are in Roslindale within a radius of 500 meters", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "LIMIT = 100 # limit of number of venues returned by Foursquare API\nradius = 500 # define radius\nurl = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(\n    CLIENT_ID, \n    CLIENT_SECRET, \n    VERSION, \n    neighbourhood_latitude, \n    neighbourhood_longitude, \n    radius, \n    LIMIT)\nurl # display URL", 
            "cell_type": "code", 
            "execution_count": 79, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "'https://api.foursquare.com/v2/venues/explore?&client_id=4K43JJJHZ5Q4MR4DLH31XSEY40XLCWCSVVSVNDWH0TJ0HS0C&client_secret=2ZZJW0YADX0GPLUZ2BR4V1QNHFYMKJGL1LD5IFTWO4IKEIBH&v=20180605&ll=42.28251523,-71.12666184&radius=500&limit=100'"
                    }, 
                    "execution_count": 79
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "import requests # library to handle requests\nresults = requests.get(url).json()\nresults", 
            "cell_type": "code", 
            "execution_count": 80, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "{'meta': {'code': 200, 'requestId': '5d5ae552e97dfb5ebee972a6'},\n 'response': {'suggestedFilters': {'header': 'Tap to show:',\n   'filters': [{'name': 'Open now', 'key': 'openNow'}]},\n  'headerLocation': 'Roslindale',\n  'headerFullLocation': 'Roslindale, Boston',\n  'headerLocationGranularity': 'neighborhood',\n  'totalResults': 11,\n  'suggestedBounds': {'ne': {'lat': 42.287015234500004,\n    'lng': -71.120590765065},\n   'sw': {'lat': 42.2780152255, 'lng': -71.13273291493499}},\n  'groups': [{'type': 'Recommended Places',\n    'name': 'recommended',\n    'items': [{'reasons': {'count': 0,\n       'items': [{'summary': 'This spot is popular',\n         'type': 'general',\n         'reasonName': 'globalInteractionReason'}]},\n      'venue': {'id': '4b12c6b0f964a520eb8d23e3',\n       'name': 'Fornax Bread Company',\n       'location': {'address': '27 Corinth St',\n        'lat': 42.28617090302737,\n        'lng': -71.12976037438125,\n        'labeledLatLngs': [{'label': 'display',\n          'lat': 42.28617090302737,\n          'lng': -71.12976037438125}],\n        'distance': 480,\n        'postalCode': '02131',\n        'cc': 'US',\n        'city': 'Boston',\n        'state': 'MA',\n        'country': 'United States',\n        'formattedAddress': ['27 Corinth St',\n         'Boston, MA 02131',\n         'United States']},\n       'categories': [{'id': '4bf58dd8d48988d16a941735',\n         'name': 'Bakery',\n         'pluralName': 'Bakeries',\n         'shortName': 'Bakery',\n         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/bakery_',\n          'suffix': '.png'},\n         'primary': True}],\n       'photos': {'count': 0, 'groups': []}},\n      'referralId': 'e-0-4b12c6b0f964a520eb8d23e3-0'},\n     {'reasons': {'count': 0,\n       'items': [{'summary': 'This spot is popular',\n         'type': 'general',\n         'reasonName': 'globalInteractionReason'}]},\n      'venue': {'id': '4b144111f964a5200aa023e3',\n       'name': 'Roslindale Square',\n       'location': {'address': 'Washington St',\n        'crossStreet': 'Poplar St',\n        'lat': 42.285815145506525,\n        'lng': -71.1293042506276,\n        'labeledLatLngs': [{'label': 'display',\n          'lat': 42.285815145506525,\n          'lng': -71.1293042506276}],\n        'distance': 426,\n        'cc': 'US',\n        'city': 'Roslindale',\n        'state': 'MA',\n        'country': 'United States',\n        'formattedAddress': ['Washington St (Poplar St)',\n         'Roslindale, MA',\n         'United States']},\n       'categories': [{'id': '4bf58dd8d48988d164941735',\n         'name': 'Plaza',\n         'pluralName': 'Plazas',\n         'shortName': 'Plaza',\n         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/parks_outdoors/plaza_',\n          'suffix': '.png'},\n         'primary': True}],\n       'photos': {'count': 0, 'groups': []}},\n      'referralId': 'e-0-4b144111f964a5200aa023e3-1'},\n     {'reasons': {'count': 0,\n       'items': [{'summary': 'This spot is popular',\n         'type': 'general',\n         'reasonName': 'globalInteractionReason'}]},\n      'venue': {'id': '4c0a55996071a593ad50df32',\n       'name': 'Roslindale Village Farmers Market',\n       'location': {'address': 'washington st',\n        'crossStreet': 'cummins highway',\n        'lat': 42.286533714525554,\n        'lng': -71.12850937093924,\n        'labeledLatLngs': [{'label': 'display',\n          'lat': 42.286533714525554,\n          'lng': -71.12850937093924}],\n        'distance': 472,\n        'postalCode': '02131',\n        'cc': 'US',\n        'city': 'Roslindale',\n        'state': 'MA',\n        'country': 'United States',\n        'formattedAddress': ['washington st (cummins highway)',\n         'Roslindale, MA 02131',\n         'United States']},\n       'categories': [{'id': '4bf58dd8d48988d1fa941735',\n         'name': 'Farmers Market',\n         'pluralName': 'Farmers Markets',\n         'shortName': \"Farmer's Market\",\n         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/shops/food_farmersmarket_',\n          'suffix': '.png'},\n         'primary': True}],\n       'photos': {'count': 0, 'groups': []}},\n      'referralId': 'e-0-4c0a55996071a593ad50df32-2'},\n     {'reasons': {'count': 0,\n       'items': [{'summary': 'This spot is popular',\n         'type': 'general',\n         'reasonName': 'globalInteractionReason'}]},\n      'venue': {'id': '561c12c1498ef927de54f944',\n       'name': \"Effie's Kitchen\",\n       'location': {'address': 'Poplar St.',\n        'lat': 42.28589850370387,\n        'lng': -71.1287414128892,\n        'labeledLatLngs': [{'label': 'display',\n          'lat': 42.28589850370387,\n          'lng': -71.1287414128892}],\n        'distance': 413,\n        'cc': 'US',\n        'city': 'Roslindale',\n        'state': 'MA',\n        'country': 'United States',\n        'formattedAddress': ['Poplar St.', 'Roslindale, MA', 'United States']},\n       'categories': [{'id': '4bf58dd8d48988d10e941735',\n         'name': 'Greek Restaurant',\n         'pluralName': 'Greek Restaurants',\n         'shortName': 'Greek',\n         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/greek_',\n          'suffix': '.png'},\n         'primary': True}],\n       'photos': {'count': 0, 'groups': []}},\n      'referralId': 'e-0-561c12c1498ef927de54f944-3'},\n     {'reasons': {'count': 0,\n       'items': [{'summary': 'This spot is popular',\n         'type': 'general',\n         'reasonName': 'globalInteractionReason'}]},\n      'venue': {'id': '4c97d203746b8cfa15fd0d62',\n       'name': \"BK's Pub\",\n       'location': {'address': '4272 Washington St',\n        'lat': 42.28516666828885,\n        'lng': -71.12942508401073,\n        'labeledLatLngs': [{'label': 'display',\n          'lat': 42.28516666828885,\n          'lng': -71.12942508401073}],\n        'distance': 372,\n        'postalCode': '02131',\n        'cc': 'US',\n        'city': 'Roslindale',\n        'state': 'MA',\n        'country': 'United States',\n        'formattedAddress': ['4272 Washington St',\n         'Roslindale, MA 02131',\n         'United States']},\n       'categories': [{'id': '4bf58dd8d48988d116941735',\n         'name': 'Bar',\n         'pluralName': 'Bars',\n         'shortName': 'Bar',\n         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/nightlife/pub_',\n          'suffix': '.png'},\n         'primary': True}],\n       'photos': {'count': 0, 'groups': []}},\n      'referralId': 'e-0-4c97d203746b8cfa15fd0d62-4'},\n     {'reasons': {'count': 0,\n       'items': [{'summary': 'This spot is popular',\n         'type': 'general',\n         'reasonName': 'globalInteractionReason'}]},\n      'venue': {'id': '4b759b72f964a52032172ee3',\n       'name': 'Jimmies Ice Cream Cafe',\n       'location': {'address': '48A Corinth st',\n        'lat': 42.28587348098642,\n        'lng': -71.12919097674732,\n        'labeledLatLngs': [{'label': 'display',\n          'lat': 42.28587348098642,\n          'lng': -71.12919097674732}],\n        'distance': 427,\n        'postalCode': '02131',\n        'cc': 'US',\n        'city': 'Roslindale',\n        'state': 'MA',\n        'country': 'United States',\n        'formattedAddress': ['48A Corinth st',\n         'Roslindale, MA 02131',\n         'United States']},\n       'categories': [{'id': '4bf58dd8d48988d1c9941735',\n         'name': 'Ice Cream Shop',\n         'pluralName': 'Ice Cream Shops',\n         'shortName': 'Ice Cream',\n         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/icecream_',\n          'suffix': '.png'},\n         'primary': True}],\n       'delivery': {'id': '751577',\n        'url': 'https://www.grubhub.com/restaurant/jimmies-cafe-48-corinth-st-roslindale/751577?affiliate=1131&utm_source=foursquare-affiliate-network&utm_medium=affiliate&utm_campaign=1131&utm_content=751577',\n        'provider': {'name': 'grubhub',\n         'icon': {'prefix': 'https://fastly.4sqi.net/img/general/cap/',\n          'sizes': [40, 50],\n          'name': '/delivery_provider_grubhub_20180129.png'}}},\n       'photos': {'count': 0, 'groups': []}},\n      'referralId': 'e-0-4b759b72f964a52032172ee3-5'},\n     {'reasons': {'count': 0,\n       'items': [{'summary': 'This spot is popular',\n         'type': 'general',\n         'reasonName': 'globalInteractionReason'}]},\n      'venue': {'id': '4edc138b46907c1b44b0b556',\n       'name': 'SUBWAY',\n       'location': {'address': '4238 Washington St',\n        'lat': 42.28593541869183,\n        'lng': -71.12866892974475,\n        'labeledLatLngs': [{'label': 'display',\n          'lat': 42.28593541869183,\n          'lng': -71.12866892974475}],\n        'distance': 415,\n        'postalCode': '02131',\n        'cc': 'US',\n        'city': 'Roslindale',\n        'state': 'MA',\n        'country': 'United States',\n        'formattedAddress': ['4238 Washington St',\n         'Roslindale, MA 02131',\n         'United States']},\n       'categories': [{'id': '4bf58dd8d48988d1c5941735',\n         'name': 'Sandwich Place',\n         'pluralName': 'Sandwich Places',\n         'shortName': 'Sandwiches',\n         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/deli_',\n          'suffix': '.png'},\n         'primary': True}],\n       'delivery': {'id': '348424',\n        'url': 'https://www.grubhub.com/restaurant/subway-4238-washington-st-roslindale/348424?affiliate=1131&utm_source=foursquare-affiliate-network&utm_medium=affiliate&utm_campaign=1131&utm_content=348424',\n        'provider': {'name': 'grubhub',\n         'icon': {'prefix': 'https://fastly.4sqi.net/img/general/cap/',\n          'sizes': [40, 50],\n          'name': '/delivery_provider_grubhub_20180129.png'}}},\n       'photos': {'count': 0, 'groups': []}},\n      'referralId': 'e-0-4edc138b46907c1b44b0b556-6'},\n     {'reasons': {'count': 0,\n       'items': [{'summary': 'This spot is popular',\n         'type': 'general',\n         'reasonName': 'globalInteractionReason'}]},\n      'venue': {'id': '4e1f4b182271ad66e4a7bf4c',\n       'name': 'CVS pharmacy',\n       'location': {'address': 'washington st',\n        'crossStreet': 'vfw pkwy',\n        'lat': 42.2847547127988,\n        'lng': -71.1309869566593,\n        'labeledLatLngs': [{'label': 'display',\n          'lat': 42.2847547127988,\n          'lng': -71.1309869566593}],\n        'distance': 434,\n        'postalCode': '02130',\n        'cc': 'US',\n        'city': 'Roslindale',\n        'state': 'MA',\n        'country': 'United States',\n        'formattedAddress': ['washington st (vfw pkwy)',\n         'Roslindale, MA 02130',\n         'United States']},\n       'categories': [{'id': '4bf58dd8d48988d10f951735',\n         'name': 'Pharmacy',\n         'pluralName': 'Pharmacies',\n         'shortName': 'Pharmacy',\n         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/shops/pharmacy_',\n          'suffix': '.png'},\n         'primary': True}],\n       'photos': {'count': 0, 'groups': []}},\n      'referralId': 'e-0-4e1f4b182271ad66e4a7bf4c-7'},\n     {'reasons': {'count': 0,\n       'items': [{'summary': 'This spot is popular',\n         'type': 'general',\n         'reasonName': 'globalInteractionReason'}]},\n      'venue': {'id': '4ad35ef1f964a52001e420e3',\n       'name': \"Romano's Pizzeria & Taqueria\",\n       'location': {'address': '4249 Washington St',\n        'lat': 42.285746251576896,\n        'lng': -71.12908286083359,\n        'labeledLatLngs': [{'label': 'display',\n          'lat': 42.285746251576896,\n          'lng': -71.12908286083359}],\n        'distance': 411,\n        'postalCode': '02131',\n        'cc': 'US',\n        'city': 'Roslindale',\n        'state': 'MA',\n        'country': 'United States',\n        'formattedAddress': ['4249 Washington St',\n         'Roslindale, MA 02131',\n         'United States']},\n       'categories': [{'id': '4bf58dd8d48988d1ca941735',\n         'name': 'Pizza Place',\n         'pluralName': 'Pizza Places',\n         'shortName': 'Pizza',\n         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/pizza_',\n          'suffix': '.png'},\n         'primary': True}],\n       'delivery': {'id': '1118991',\n        'url': 'https://www.grubhub.com/restaurant/romanos-pizza-4249-washington-st-roslindale/1118991?affiliate=1131&utm_source=foursquare-affiliate-network&utm_medium=affiliate&utm_campaign=1131&utm_content=1118991',\n        'provider': {'name': 'grubhub',\n         'icon': {'prefix': 'https://fastly.4sqi.net/img/general/cap/',\n          'sizes': [40, 50],\n          'name': '/delivery_provider_grubhub_20180129.png'}}},\n       'photos': {'count': 0, 'groups': []},\n       'venuePage': {'id': '48646694'}},\n      'referralId': 'e-0-4ad35ef1f964a52001e420e3-8'},\n     {'reasons': {'count': 0,\n       'items': [{'summary': 'This spot is popular',\n         'type': 'general',\n         'reasonName': 'globalInteractionReason'}]},\n      'venue': {'id': '4b637679f964a520b97b2ae3',\n       'name': 'Village Market',\n       'location': {'address': '26 Corinth St',\n        'lat': 42.28617026134119,\n        'lng': -71.12945797708502,\n        'labeledLatLngs': [{'label': 'display',\n          'lat': 42.28617026134119,\n          'lng': -71.12945797708502}],\n        'distance': 467,\n        'postalCode': '02131',\n        'cc': 'US',\n        'city': 'Roslindale',\n        'state': 'MA',\n        'country': 'United States',\n        'formattedAddress': ['26 Corinth St',\n         'Roslindale, MA 02131',\n         'United States']},\n       'categories': [{'id': '4bf58dd8d48988d118951735',\n         'name': 'Grocery Store',\n         'pluralName': 'Grocery Stores',\n         'shortName': 'Grocery Store',\n         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/shops/food_grocery_',\n          'suffix': '.png'},\n         'primary': True}],\n       'photos': {'count': 0, 'groups': []}},\n      'referralId': 'e-0-4b637679f964a520b97b2ae3-9'},\n     {'reasons': {'count': 0,\n       'items': [{'summary': 'This spot is popular',\n         'type': 'general',\n         'reasonName': 'globalInteractionReason'}]},\n      'venue': {'id': '4b92b248f964a520741234e3',\n       'name': \"Tony's Market\",\n       'location': {'address': '4253 Washington St',\n        'lat': 42.28578032977848,\n        'lng': -71.12914758453267,\n        'labeledLatLngs': [{'label': 'display',\n          'lat': 42.28578032977848,\n          'lng': -71.12914758453267}],\n        'distance': 417,\n        'postalCode': '02131',\n        'cc': 'US',\n        'city': 'Boston',\n        'state': 'MA',\n        'country': 'United States',\n        'formattedAddress': ['4253 Washington St',\n         'Boston, MA 02131',\n         'United States']},\n       'categories': [{'id': '4bf58dd8d48988d146941735',\n         'name': 'Deli / Bodega',\n         'pluralName': 'Delis / Bodegas',\n         'shortName': 'Deli / Bodega',\n         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/deli_',\n          'suffix': '.png'},\n         'primary': True}],\n       'photos': {'count': 0, 'groups': []}},\n      'referralId': 'e-0-4b92b248f964a520741234e3-10'}]}]}}"
                    }, 
                    "execution_count": 80
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "# function that extracts the category of the venue\ndef get_category_type(row):\n    try:\n        categories_list = row['categories']\n    except:\n        categories_list = row['venue.categories']\n        \n    if len(categories_list) == 0:\n        return None\n    else:\n        return categories_list[0]['name']", 
            "cell_type": "code", 
            "execution_count": 81, 
            "outputs": [], 
            "metadata": {}
        }, 
        {
            "source": "from pandas.io.json import json_normalize # tranform JSON file into a pandas dataframe\n#import json # library to handle JSON files\n\nvenues = results['response']['groups'][0]['items']\n    \nnearby_venues = json_normalize(venues) # flatten JSON\n\n# filter columns\nfiltered_columns = ['venue.name', 'venue.categories', 'venue.location.lat', 'venue.location.lng']\nnearby_venues =nearby_venues.loc[:, filtered_columns]\n\n# filter the category for each row\nnearby_venues['venue.categories'] = nearby_venues.apply(get_category_type, axis=1)\n\n# clean columns\nnearby_venues.columns = [col.split(\".\")[-1] for col in nearby_venues.columns]\n\nnearby_venues", 
            "cell_type": "code", 
            "execution_count": 82, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>name</th>\n      <th>categories</th>\n      <th>lat</th>\n      <th>lng</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Fornax Bread Company</td>\n      <td>Bakery</td>\n      <td>42.286171</td>\n      <td>-71.129760</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Roslindale Square</td>\n      <td>Plaza</td>\n      <td>42.285815</td>\n      <td>-71.129304</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Roslindale Village Farmers Market</td>\n      <td>Farmers Market</td>\n      <td>42.286534</td>\n      <td>-71.128509</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Effie's Kitchen</td>\n      <td>Greek Restaurant</td>\n      <td>42.285899</td>\n      <td>-71.128741</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>BK's Pub</td>\n      <td>Bar</td>\n      <td>42.285167</td>\n      <td>-71.129425</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Jimmies Ice Cream Cafe</td>\n      <td>Ice Cream Shop</td>\n      <td>42.285873</td>\n      <td>-71.129191</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>SUBWAY</td>\n      <td>Sandwich Place</td>\n      <td>42.285935</td>\n      <td>-71.128669</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>CVS pharmacy</td>\n      <td>Pharmacy</td>\n      <td>42.284755</td>\n      <td>-71.130987</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Romano's Pizzeria &amp; Taqueria</td>\n      <td>Pizza Place</td>\n      <td>42.285746</td>\n      <td>-71.129083</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>Village Market</td>\n      <td>Grocery Store</td>\n      <td>42.286170</td>\n      <td>-71.129458</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>Tony's Market</td>\n      <td>Deli / Bodega</td>\n      <td>42.285780</td>\n      <td>-71.129148</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "                                 name        categories        lat        lng\n0                Fornax Bread Company            Bakery  42.286171 -71.129760\n1                   Roslindale Square             Plaza  42.285815 -71.129304\n2   Roslindale Village Farmers Market    Farmers Market  42.286534 -71.128509\n3                     Effie's Kitchen  Greek Restaurant  42.285899 -71.128741\n4                            BK's Pub               Bar  42.285167 -71.129425\n5              Jimmies Ice Cream Cafe    Ice Cream Shop  42.285873 -71.129191\n6                              SUBWAY    Sandwich Place  42.285935 -71.128669\n7                        CVS pharmacy          Pharmacy  42.284755 -71.130987\n8        Romano's Pizzeria & Taqueria       Pizza Place  42.285746 -71.129083\n9                      Village Market     Grocery Store  42.286170 -71.129458\n10                      Tony's Market     Deli / Bodega  42.285780 -71.129148"
                    }, 
                    "execution_count": 82
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "print('{} venues were returned by Foursquare.'.format(nearby_venues.shape[0]))", 
            "cell_type": "code", 
            "execution_count": 83, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "11 venues were returned by Foursquare.\n"
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "## Explore Neighborhoods in Boston", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "### Create a function to repeat the same process for all the Boston neighborhoods", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "def getNearbyVenues(names, latitudes, longitudes, radius=500):\n    \n    venues_list=[]\n    for name, lat, lng in zip(names, latitudes, longitudes):\n        print(name)\n            \n        # create the API request URL\n        url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(\n            CLIENT_ID, \n            CLIENT_SECRET, \n            VERSION, \n            lat, \n            lng, \n            radius, \n            LIMIT)\n            \n        # make the GET request\n        results = requests.get(url).json()[\"response\"]['groups'][0]['items']\n        \n        # return only relevant information for each nearby venue\n        venues_list.append([(\n            name, \n            lat, \n            lng, \n            v['venue']['name'], \n            v['venue']['location']['lat'], \n            v['venue']['location']['lng'],  \n            v['venue']['categories'][0]['name']) for v in results])\n\n    nearby_venues = pd.DataFrame([item for venue_list in venues_list for item in venue_list])\n    nearby_venues.columns = ['Neighbourhood', \n                  'Neighbourhood Latitude', \n                  'Neighbourhood Longitude', \n                  'Venue', \n                  'Venue Latitude', \n                  'Venue Longitude', \n                  'Venue Category']\n    \n    return(nearby_venues)", 
            "cell_type": "code", 
            "execution_count": 84, 
            "outputs": [], 
            "metadata": {}
        }, 
        {
            "source": "### Code to run the above function on each neighborhood and create a new dataframe called toronto_venues", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "boston_venues = getNearbyVenues(names=df_centroids_filtered['Neighbourhood'],\n                                   latitudes=df_centroids_filtered['Latitude'],\n                                   longitudes=df_centroids_filtered['Longitude']\n                                  )", 
            "cell_type": "code", 
            "execution_count": 85, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "Roslindale\nJamaica Plain\nMission Hill\nLongwood\nBay Village\nLeather District\nChinatown\nNorth End\nRoxbury\nSouth End\nBack Bay\nEast Boston\nCharlestown\nWest End\nBeacon Hill\nDowntown\nFenway\nBrighton\nWest Roxbury\nMattapan\nDorchester\nSouth Boston Waterfront\nSouth Boston\nAllston\n"
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "print(boston_venues.shape)\nboston_venues.head()", 
            "cell_type": "code", 
            "execution_count": 86, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "(1199, 7)\n"
                }, 
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Neighbourhood Latitude</th>\n      <th>Neighbourhood Longitude</th>\n      <th>Venue</th>\n      <th>Venue Latitude</th>\n      <th>Venue Longitude</th>\n      <th>Venue Category</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Roslindale</td>\n      <td>42.282515</td>\n      <td>-71.126662</td>\n      <td>Fornax Bread Company</td>\n      <td>42.286171</td>\n      <td>-71.129760</td>\n      <td>Bakery</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Roslindale</td>\n      <td>42.282515</td>\n      <td>-71.126662</td>\n      <td>Roslindale Square</td>\n      <td>42.285815</td>\n      <td>-71.129304</td>\n      <td>Plaza</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Roslindale</td>\n      <td>42.282515</td>\n      <td>-71.126662</td>\n      <td>Roslindale Village Farmers Market</td>\n      <td>42.286534</td>\n      <td>-71.128509</td>\n      <td>Farmers Market</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Roslindale</td>\n      <td>42.282515</td>\n      <td>-71.126662</td>\n      <td>Effie's Kitchen</td>\n      <td>42.285899</td>\n      <td>-71.128741</td>\n      <td>Greek Restaurant</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Roslindale</td>\n      <td>42.282515</td>\n      <td>-71.126662</td>\n      <td>BK's Pub</td>\n      <td>42.285167</td>\n      <td>-71.129425</td>\n      <td>Bar</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "  Neighbourhood  Neighbourhood Latitude  Neighbourhood Longitude  \\\n0    Roslindale               42.282515               -71.126662   \n1    Roslindale               42.282515               -71.126662   \n2    Roslindale               42.282515               -71.126662   \n3    Roslindale               42.282515               -71.126662   \n4    Roslindale               42.282515               -71.126662   \n\n                               Venue  Venue Latitude  Venue Longitude  \\\n0               Fornax Bread Company       42.286171       -71.129760   \n1                  Roslindale Square       42.285815       -71.129304   \n2  Roslindale Village Farmers Market       42.286534       -71.128509   \n3                    Effie's Kitchen       42.285899       -71.128741   \n4                           BK's Pub       42.285167       -71.129425   \n\n     Venue Category  \n0            Bakery  \n1             Plaza  \n2    Farmers Market  \n3  Greek Restaurant  \n4               Bar  "
                    }, 
                    "execution_count": 86
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Number of distinct venues in each Boston neighborhood", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "boston_venues.groupby('Neighbourhood').count()", 
            "cell_type": "code", 
            "execution_count": 87, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood Latitude</th>\n      <th>Neighbourhood Longitude</th>\n      <th>Venue</th>\n      <th>Venue Latitude</th>\n      <th>Venue Longitude</th>\n      <th>Venue Category</th>\n    </tr>\n    <tr>\n      <th>Neighbourhood</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Allston</th>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n    </tr>\n    <tr>\n      <th>Back Bay</th>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>Bay Village</th>\n      <td>84</td>\n      <td>84</td>\n      <td>84</td>\n      <td>84</td>\n      <td>84</td>\n      <td>84</td>\n    </tr>\n    <tr>\n      <th>Beacon Hill</th>\n      <td>54</td>\n      <td>54</td>\n      <td>54</td>\n      <td>54</td>\n      <td>54</td>\n      <td>54</td>\n    </tr>\n    <tr>\n      <th>Brighton</th>\n      <td>36</td>\n      <td>36</td>\n      <td>36</td>\n      <td>36</td>\n      <td>36</td>\n      <td>36</td>\n    </tr>\n    <tr>\n      <th>Charlestown</th>\n      <td>28</td>\n      <td>28</td>\n      <td>28</td>\n      <td>28</td>\n      <td>28</td>\n      <td>28</td>\n    </tr>\n    <tr>\n      <th>Chinatown</th>\n      <td>89</td>\n      <td>89</td>\n      <td>89</td>\n      <td>89</td>\n      <td>89</td>\n      <td>89</td>\n    </tr>\n    <tr>\n      <th>Dorchester</th>\n      <td>24</td>\n      <td>24</td>\n      <td>24</td>\n      <td>24</td>\n      <td>24</td>\n      <td>24</td>\n    </tr>\n    <tr>\n      <th>Downtown</th>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>East Boston</th>\n      <td>12</td>\n      <td>12</td>\n      <td>12</td>\n      <td>12</td>\n      <td>12</td>\n      <td>12</td>\n    </tr>\n    <tr>\n      <th>Fenway</th>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>Jamaica Plain</th>\n      <td>28</td>\n      <td>28</td>\n      <td>28</td>\n      <td>28</td>\n      <td>28</td>\n      <td>28</td>\n    </tr>\n    <tr>\n      <th>Leather District</th>\n      <td>99</td>\n      <td>99</td>\n      <td>99</td>\n      <td>99</td>\n      <td>99</td>\n      <td>99</td>\n    </tr>\n    <tr>\n      <th>Longwood</th>\n      <td>25</td>\n      <td>25</td>\n      <td>25</td>\n      <td>25</td>\n      <td>25</td>\n      <td>25</td>\n    </tr>\n    <tr>\n      <th>Mattapan</th>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>Mission Hill</th>\n      <td>38</td>\n      <td>38</td>\n      <td>38</td>\n      <td>38</td>\n      <td>38</td>\n      <td>38</td>\n    </tr>\n    <tr>\n      <th>North End</th>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>Roslindale</th>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n    </tr>\n    <tr>\n      <th>Roxbury</th>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n    </tr>\n    <tr>\n      <th>South Boston</th>\n      <td>13</td>\n      <td>13</td>\n      <td>13</td>\n      <td>13</td>\n      <td>13</td>\n      <td>13</td>\n    </tr>\n    <tr>\n      <th>South Boston Waterfront</th>\n      <td>44</td>\n      <td>44</td>\n      <td>44</td>\n      <td>44</td>\n      <td>44</td>\n      <td>44</td>\n    </tr>\n    <tr>\n      <th>South End</th>\n      <td>77</td>\n      <td>77</td>\n      <td>77</td>\n      <td>77</td>\n      <td>77</td>\n      <td>77</td>\n    </tr>\n    <tr>\n      <th>West End</th>\n      <td>91</td>\n      <td>91</td>\n      <td>91</td>\n      <td>91</td>\n      <td>91</td>\n      <td>91</td>\n    </tr>\n    <tr>\n      <th>West Roxbury</th>\n      <td>18</td>\n      <td>18</td>\n      <td>18</td>\n      <td>18</td>\n      <td>18</td>\n      <td>18</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "                         Neighbourhood Latitude  Neighbourhood Longitude  \\\nNeighbourhood                                                              \nAllston                                      11                       11   \nBack Bay                                    100                      100   \nBay Village                                  84                       84   \nBeacon Hill                                  54                       54   \nBrighton                                     36                       36   \nCharlestown                                  28                       28   \nChinatown                                    89                       89   \nDorchester                                   24                       24   \nDowntown                                    100                      100   \nEast Boston                                  12                       12   \nFenway                                      100                      100   \nJamaica Plain                                28                       28   \nLeather District                             99                       99   \nLongwood                                     25                       25   \nMattapan                                      2                        2   \nMission Hill                                 38                       38   \nNorth End                                   100                      100   \nRoslindale                                   11                       11   \nRoxbury                                      15                       15   \nSouth Boston                                 13                       13   \nSouth Boston Waterfront                      44                       44   \nSouth End                                    77                       77   \nWest End                                     91                       91   \nWest Roxbury                                 18                       18   \n\n                         Venue  Venue Latitude  Venue Longitude  \\\nNeighbourhood                                                     \nAllston                     11              11               11   \nBack Bay                   100             100              100   \nBay Village                 84              84               84   \nBeacon Hill                 54              54               54   \nBrighton                    36              36               36   \nCharlestown                 28              28               28   \nChinatown                   89              89               89   \nDorchester                  24              24               24   \nDowntown                   100             100              100   \nEast Boston                 12              12               12   \nFenway                     100             100              100   \nJamaica Plain               28              28               28   \nLeather District            99              99               99   \nLongwood                    25              25               25   \nMattapan                     2               2                2   \nMission Hill                38              38               38   \nNorth End                  100             100              100   \nRoslindale                  11              11               11   \nRoxbury                     15              15               15   \nSouth Boston                13              13               13   \nSouth Boston Waterfront     44              44               44   \nSouth End                   77              77               77   \nWest End                    91              91               91   \nWest Roxbury                18              18               18   \n\n                         Venue Category  \nNeighbourhood                            \nAllston                              11  \nBack Bay                            100  \nBay Village                          84  \nBeacon Hill                          54  \nBrighton                             36  \nCharlestown                          28  \nChinatown                            89  \nDorchester                           24  \nDowntown                            100  \nEast Boston                          12  \nFenway                              100  \nJamaica Plain                        28  \nLeather District                     99  \nLongwood                             25  \nMattapan                              2  \nMission Hill                         38  \nNorth End                           100  \nRoslindale                           11  \nRoxbury                              15  \nSouth Boston                         13  \nSouth Boston Waterfront              44  \nSouth End                            77  \nWest End                             91  \nWest Roxbury                         18  "
                    }, 
                    "execution_count": 87
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Number of unique venue catagories", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "print('There are {} uniques categories.'.format(len(boston_venues['Venue Category'].unique())))", 
            "cell_type": "code", 
            "execution_count": 88, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "There are 204 uniques categories.\n"
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "## Analyze Each Neighborhood", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "# one hot encoding\nboston_onehot = pd.get_dummies(boston_venues[['Venue Category']], prefix=\"\", prefix_sep=\"\")\n\n# add neighborhood column back to dataframe\nboston_onehot['Neighbourhood'] = boston_venues['Neighbourhood'] \n\n# move neighborhood column to the first column\nfixed_columns = [boston_onehot.columns[-1]] + list(boston_onehot.columns[:-1])\nboston_onehot =boston_onehot[fixed_columns]\n\nboston_onehot.head(10)", 
            "cell_type": "code", 
            "execution_count": 89, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Accessories Store</th>\n      <th>Airport Terminal</th>\n      <th>American Restaurant</th>\n      <th>Arepa Restaurant</th>\n      <th>Art Gallery</th>\n      <th>Art Museum</th>\n      <th>Arts &amp; Crafts Store</th>\n      <th>Asian Restaurant</th>\n      <th>Athletics &amp; Sports</th>\n      <th>...</th>\n      <th>Tunnel</th>\n      <th>Used Bookstore</th>\n      <th>Vegetarian / Vegan Restaurant</th>\n      <th>Video Game Store</th>\n      <th>Vietnamese Restaurant</th>\n      <th>Wine Bar</th>\n      <th>Wine Shop</th>\n      <th>Women's Store</th>\n      <th>Yoga Studio</th>\n      <th>Zoo Exhibit</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>10 rows \u00d7 205 columns</p>\n</div>", 
                        "text/plain": "  Neighbourhood  Accessories Store  Airport Terminal  American Restaurant  \\\n0    Roslindale                  0                 0                    0   \n1    Roslindale                  0                 0                    0   \n2    Roslindale                  0                 0                    0   \n3    Roslindale                  0                 0                    0   \n4    Roslindale                  0                 0                    0   \n5    Roslindale                  0                 0                    0   \n6    Roslindale                  0                 0                    0   \n7    Roslindale                  0                 0                    0   \n8    Roslindale                  0                 0                    0   \n9    Roslindale                  0                 0                    0   \n\n   Arepa Restaurant  Art Gallery  Art Museum  Arts & Crafts Store  \\\n0                 0            0           0                    0   \n1                 0            0           0                    0   \n2                 0            0           0                    0   \n3                 0            0           0                    0   \n4                 0            0           0                    0   \n5                 0            0           0                    0   \n6                 0            0           0                    0   \n7                 0            0           0                    0   \n8                 0            0           0                    0   \n9                 0            0           0                    0   \n\n   Asian Restaurant  Athletics & Sports  ...  Tunnel  Used Bookstore  \\\n0                 0                   0  ...       0               0   \n1                 0                   0  ...       0               0   \n2                 0                   0  ...       0               0   \n3                 0                   0  ...       0               0   \n4                 0                   0  ...       0               0   \n5                 0                   0  ...       0               0   \n6                 0                   0  ...       0               0   \n7                 0                   0  ...       0               0   \n8                 0                   0  ...       0               0   \n9                 0                   0  ...       0               0   \n\n   Vegetarian / Vegan Restaurant  Video Game Store  Vietnamese Restaurant  \\\n0                              0                 0                      0   \n1                              0                 0                      0   \n2                              0                 0                      0   \n3                              0                 0                      0   \n4                              0                 0                      0   \n5                              0                 0                      0   \n6                              0                 0                      0   \n7                              0                 0                      0   \n8                              0                 0                      0   \n9                              0                 0                      0   \n\n   Wine Bar  Wine Shop  Women's Store  Yoga Studio  Zoo Exhibit  \n0         0          0              0            0            0  \n1         0          0              0            0            0  \n2         0          0              0            0            0  \n3         0          0              0            0            0  \n4         0          0              0            0            0  \n5         0          0              0            0            0  \n6         0          0              0            0            0  \n7         0          0              0            0            0  \n8         0          0              0            0            0  \n9         0          0              0            0            0  \n\n[10 rows x 205 columns]"
                    }, 
                    "execution_count": 89
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "boston_onehot.shape", 
            "cell_type": "code", 
            "execution_count": 90, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "(1199, 205)"
                    }, 
                    "execution_count": 90
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "###  Group rows by neighborhood and by taking the mean of the frequency of occurrence of each category\u00b6", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "boston_grouped = boston_onehot.groupby('Neighbourhood').mean().reset_index()\nboston_grouped", 
            "cell_type": "code", 
            "execution_count": 91, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Accessories Store</th>\n      <th>Airport Terminal</th>\n      <th>American Restaurant</th>\n      <th>Arepa Restaurant</th>\n      <th>Art Gallery</th>\n      <th>Art Museum</th>\n      <th>Arts &amp; Crafts Store</th>\n      <th>Asian Restaurant</th>\n      <th>Athletics &amp; Sports</th>\n      <th>...</th>\n      <th>Tunnel</th>\n      <th>Used Bookstore</th>\n      <th>Vegetarian / Vegan Restaurant</th>\n      <th>Video Game Store</th>\n      <th>Vietnamese Restaurant</th>\n      <th>Wine Bar</th>\n      <th>Wine Shop</th>\n      <th>Women's Store</th>\n      <th>Yoga Studio</th>\n      <th>Zoo Exhibit</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Allston</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Back Bay</td>\n      <td>0.020000</td>\n      <td>0.000000</td>\n      <td>0.060000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.02</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Bay Village</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.047619</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.011905</td>\n      <td>0.011905</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.011905</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.011905</td>\n      <td>0.00</td>\n      <td>0.011905</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Beacon Hill</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.018519</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.018519</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Brighton</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.027778</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.027778</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Charlestown</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.035714</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Chinatown</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.011236</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.078652</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.011236</td>\n      <td>0.00</td>\n      <td>0.011236</td>\n      <td>0.000000</td>\n      <td>0.022472</td>\n      <td>0.011236</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Dorchester</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.041667</td>\n      <td>0.208333</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Downtown</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.040000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.020000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.01</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>0.010000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>East Boston</td>\n      <td>0.000000</td>\n      <td>0.083333</td>\n      <td>0.083333</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>Fenway</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.060000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>Jamaica Plain</td>\n      <td>0.035714</td>\n      <td>0.000000</td>\n      <td>0.035714</td>\n      <td>0.000000</td>\n      <td>0.071429</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.035714</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Leather District</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.030303</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010101</td>\n      <td>0.000000</td>\n      <td>0.070707</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.030303</td>\n      <td>0.000000</td>\n      <td>0.020202</td>\n      <td>0.020202</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>Longwood</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.040000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.040000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>Mattapan</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Mission Hill</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.052632</td>\n      <td>0.000000</td>\n      <td>0.026316</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>North End</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.030000</td>\n      <td>0.00</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Roslindale</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>Roxbury</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>South Boston</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>South Boston Waterfront</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.090909</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.022727</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>South End</td>\n      <td>0.012987</td>\n      <td>0.000000</td>\n      <td>0.051948</td>\n      <td>0.012987</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.012987</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.051948</td>\n      <td>0.012987</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>West End</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.043956</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010989</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.010989</td>\n      <td>0.010989</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>West Roxbury</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.00</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n  </tbody>\n</table>\n<p>24 rows \u00d7 205 columns</p>\n</div>", 
                        "text/plain": "              Neighbourhood  Accessories Store  Airport Terminal  \\\n0                   Allston           0.000000          0.000000   \n1                  Back Bay           0.020000          0.000000   \n2               Bay Village           0.000000          0.000000   \n3               Beacon Hill           0.000000          0.000000   \n4                  Brighton           0.000000          0.000000   \n5               Charlestown           0.000000          0.000000   \n6                 Chinatown           0.000000          0.000000   \n7                Dorchester           0.000000          0.000000   \n8                  Downtown           0.000000          0.000000   \n9               East Boston           0.000000          0.083333   \n10                   Fenway           0.000000          0.000000   \n11            Jamaica Plain           0.035714          0.000000   \n12         Leather District           0.000000          0.000000   \n13                 Longwood           0.000000          0.000000   \n14                 Mattapan           0.000000          0.000000   \n15             Mission Hill           0.000000          0.000000   \n16                North End           0.000000          0.000000   \n17               Roslindale           0.000000          0.000000   \n18                  Roxbury           0.000000          0.000000   \n19             South Boston           0.000000          0.000000   \n20  South Boston Waterfront           0.000000          0.000000   \n21                South End           0.012987          0.000000   \n22                 West End           0.000000          0.000000   \n23             West Roxbury           0.000000          0.000000   \n\n    American Restaurant  Arepa Restaurant  Art Gallery  Art Museum  \\\n0              0.000000          0.000000     0.000000    0.000000   \n1              0.060000          0.000000     0.000000    0.000000   \n2              0.047619          0.000000     0.000000    0.000000   \n3              0.018519          0.000000     0.000000    0.000000   \n4              0.027778          0.000000     0.000000    0.000000   \n5              0.000000          0.000000     0.000000    0.000000   \n6              0.011236          0.000000     0.000000    0.000000   \n7              0.000000          0.000000     0.000000    0.000000   \n8              0.040000          0.000000     0.000000    0.000000   \n9              0.083333          0.000000     0.000000    0.000000   \n10             0.060000          0.000000     0.010000    0.000000   \n11             0.035714          0.000000     0.071429    0.000000   \n12             0.030303          0.000000     0.000000    0.010101   \n13             0.040000          0.000000     0.000000    0.000000   \n14             0.000000          0.000000     0.000000    0.000000   \n15             0.052632          0.000000     0.026316    0.000000   \n16             0.010000          0.000000     0.000000    0.000000   \n17             0.000000          0.000000     0.000000    0.000000   \n18             0.000000          0.000000     0.000000    0.000000   \n19             0.000000          0.000000     0.000000    0.000000   \n20             0.090909          0.000000     0.000000    0.000000   \n21             0.051948          0.012987     0.000000    0.000000   \n22             0.043956          0.000000     0.000000    0.000000   \n23             0.000000          0.000000     0.000000    0.000000   \n\n    Arts & Crafts Store  Asian Restaurant  Athletics & Sports  ...    Tunnel  \\\n0              0.000000          0.000000            0.000000  ...  0.000000   \n1              0.000000          0.000000            0.010000  ...  0.000000   \n2              0.011905          0.011905            0.000000  ...  0.000000   \n3              0.000000          0.000000            0.018519  ...  0.000000   \n4              0.000000          0.000000            0.000000  ...  0.000000   \n5              0.000000          0.000000            0.035714  ...  0.000000   \n6              0.000000          0.078652            0.000000  ...  0.011236   \n7              0.000000          0.000000            0.000000  ...  0.000000   \n8              0.000000          0.020000            0.000000  ...  0.000000   \n9              0.000000          0.000000            0.000000  ...  0.000000   \n10             0.000000          0.000000            0.010000  ...  0.000000   \n11             0.000000          0.035714            0.000000  ...  0.000000   \n12             0.000000          0.070707            0.000000  ...  0.000000   \n13             0.000000          0.000000            0.000000  ...  0.000000   \n14             0.000000          0.000000            0.000000  ...  0.000000   \n15             0.000000          0.000000            0.000000  ...  0.000000   \n16             0.000000          0.000000            0.010000  ...  0.000000   \n17             0.000000          0.000000            0.000000  ...  0.000000   \n18             0.000000          0.000000            0.000000  ...  0.000000   \n19             0.000000          0.000000            0.000000  ...  0.000000   \n20             0.000000          0.000000            0.000000  ...  0.022727   \n21             0.000000          0.012987            0.000000  ...  0.000000   \n22             0.000000          0.010989            0.000000  ...  0.000000   \n23             0.000000          0.000000            0.000000  ...  0.000000   \n\n    Used Bookstore  Vegetarian / Vegan Restaurant  Video Game Store  \\\n0             0.00                       0.000000          0.000000   \n1             0.00                       0.000000          0.000000   \n2             0.00                       0.011905          0.000000   \n3             0.00                       0.000000          0.000000   \n4             0.00                       0.000000          0.000000   \n5             0.00                       0.000000          0.000000   \n6             0.00                       0.011236          0.000000   \n7             0.00                       0.000000          0.041667   \n8             0.01                       0.010000          0.000000   \n9             0.00                       0.000000          0.000000   \n10            0.00                       0.010000          0.000000   \n11            0.00                       0.000000          0.000000   \n12            0.00                       0.030303          0.000000   \n13            0.00                       0.040000          0.000000   \n14            0.00                       0.000000          0.000000   \n15            0.00                       0.000000          0.000000   \n16            0.00                       0.000000          0.000000   \n17            0.00                       0.000000          0.000000   \n18            0.00                       0.000000          0.000000   \n19            0.00                       0.000000          0.000000   \n20            0.00                       0.000000          0.000000   \n21            0.00                       0.000000          0.000000   \n22            0.00                       0.000000          0.000000   \n23            0.00                       0.000000          0.000000   \n\n    Vietnamese Restaurant  Wine Bar  Wine Shop  Women's Store  Yoga Studio  \\\n0                0.000000  0.000000   0.000000           0.00     0.000000   \n1                0.010000  0.000000   0.000000           0.02     0.010000   \n2                0.000000  0.000000   0.011905           0.00     0.011905   \n3                0.000000  0.000000   0.000000           0.00     0.000000   \n4                0.000000  0.000000   0.027778           0.00     0.000000   \n5                0.000000  0.000000   0.000000           0.00     0.000000   \n6                0.022472  0.011236   0.000000           0.00     0.000000   \n7                0.208333  0.000000   0.000000           0.00     0.000000   \n8                0.000000  0.010000   0.010000           0.00     0.000000   \n9                0.000000  0.000000   0.000000           0.00     0.000000   \n10               0.010000  0.000000   0.000000           0.00     0.000000   \n11               0.000000  0.000000   0.000000           0.00     0.000000   \n12               0.020202  0.020202   0.000000           0.00     0.000000   \n13               0.000000  0.000000   0.000000           0.00     0.000000   \n14               0.000000  0.000000   0.000000           0.00     0.000000   \n15               0.000000  0.000000   0.000000           0.00     0.000000   \n16               0.000000  0.000000   0.030000           0.00     0.010000   \n17               0.000000  0.000000   0.000000           0.00     0.000000   \n18               0.000000  0.000000   0.000000           0.00     0.000000   \n19               0.000000  0.000000   0.000000           0.00     0.000000   \n20               0.000000  0.000000   0.000000           0.00     0.000000   \n21               0.000000  0.051948   0.012987           0.00     0.000000   \n22               0.000000  0.000000   0.000000           0.00     0.010989   \n23               0.000000  0.000000   0.000000           0.00     0.000000   \n\n    Zoo Exhibit  \n0      0.000000  \n1      0.000000  \n2      0.000000  \n3      0.000000  \n4      0.000000  \n5      0.000000  \n6      0.000000  \n7      0.000000  \n8      0.000000  \n9      0.000000  \n10     0.000000  \n11     0.000000  \n12     0.000000  \n13     0.000000  \n14     0.000000  \n15     0.000000  \n16     0.000000  \n17     0.000000  \n18     0.000000  \n19     0.000000  \n20     0.000000  \n21     0.000000  \n22     0.010989  \n23     0.000000  \n\n[24 rows x 205 columns]"
                    }, 
                    "execution_count": 91
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "boston_grouped.shape", 
            "cell_type": "code", 
            "execution_count": 92, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "(24, 205)"
                    }, 
                    "execution_count": 92
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Print each neighborhood along with the top 5 most common venues", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "num_top_venues = 5\n\nfor hood in boston_grouped['Neighbourhood']:\n    print(\"----\"+hood+\"----\")\n    temp = boston_grouped[boston_grouped['Neighbourhood'] == hood].T.reset_index()\n    temp.columns = ['venue','freq']\n    temp = temp.iloc[1:]\n    temp['freq'] = temp['freq'].astype(float)\n    temp = temp.round({'freq': 2})\n    print(temp.sort_values('freq', ascending=False).reset_index(drop=True).head(num_top_venues))\n    print('\\n')", 
            "cell_type": "code", 
            "execution_count": 93, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "----Allston----\n                 venue  freq\n0  Rental Car Location  0.18\n1           Donut Shop  0.18\n2         Dance Studio  0.09\n3           Smoke Shop  0.09\n4    Convenience Store  0.09\n\n\n----Back Bay----\n                 venue  freq\n0          Coffee Shop  0.06\n1  American Restaurant  0.06\n2   Italian Restaurant  0.05\n3                Hotel  0.04\n4       Ice Cream Shop  0.04\n\n\n----Bay Village----\n                 venue  freq\n0              Theater  0.07\n1                Hotel  0.06\n2                  Spa  0.06\n3  American Restaurant  0.05\n4       Sandwich Place  0.05\n\n\n----Beacon Hill----\n               venue  freq\n0        Pizza Place  0.07\n1         Playground  0.06\n2              Plaza  0.04\n3  French Restaurant  0.04\n4   Sushi Restaurant  0.04\n\n\n----Brighton----\n                venue  freq\n0              Bakery  0.08\n1         Pizza Place  0.08\n2      Sandwich Place  0.06\n3  Chinese Restaurant  0.06\n4                Caf\u00e9  0.06\n\n\n----Charlestown----\n               venue  freq\n0        Pizza Place  0.11\n1  Convenience Store  0.07\n2        Coffee Shop  0.07\n3      Deli / Bodega  0.04\n4          Pet Store  0.04\n\n\n----Chinatown----\n                venue  freq\n0  Chinese Restaurant  0.15\n1    Asian Restaurant  0.08\n2              Bakery  0.07\n3    Sushi Restaurant  0.04\n4     Bubble Tea Shop  0.03\n\n\n----Dorchester----\n                   venue  freq\n0  Vietnamese Restaurant  0.21\n1                   Caf\u00e9  0.08\n2                    Pub  0.04\n3         Sandwich Place  0.04\n4           Burger Joint  0.04\n\n\n----Downtown----\n                 venue  freq\n0          Coffee Shop  0.08\n1       Sandwich Place  0.06\n2   Italian Restaurant  0.05\n3                Hotel  0.04\n4  American Restaurant  0.04\n\n\n----East Boston----\n                  venue  freq\n0                  Park  0.17\n1  Brazilian Restaurant  0.08\n2     Convenience Store  0.08\n3           Pizza Place  0.08\n4        Sandwich Place  0.08\n\n\n----Fenway----\n                 venue  freq\n0  American Restaurant  0.06\n1           Sports Bar  0.05\n2               Lounge  0.04\n3          Coffee Shop  0.04\n4                Hotel  0.04\n\n\n----Jamaica Plain----\n                    venue  freq\n0                     Pub  0.07\n1             Art Gallery  0.07\n2             Coffee Shop  0.07\n3                  Bakery  0.07\n4  Thrift / Vintage Store  0.07\n\n\n----Leather District----\n                venue  freq\n0              Bakery  0.08\n1    Asian Restaurant  0.07\n2  Chinese Restaurant  0.07\n3          Food Truck  0.06\n4      Sandwich Place  0.06\n\n\n----Longwood----\n                venue  freq\n0         Coffee Shop  0.12\n1                Caf\u00e9  0.08\n2  Falafel Restaurant  0.08\n3      Sandwich Place  0.08\n4          Bagel Shop  0.04\n\n\n----Mattapan----\n                    venue  freq\n0  Furniture / Home Store   0.5\n1          Ice Cream Shop   0.5\n2       Outdoor Sculpture   0.0\n3             Music Venue   0.0\n4              Nail Salon   0.0\n\n\n----Mission Hill----\n                 venue  freq\n0          Pizza Place  0.13\n1           Donut Shop  0.11\n2     Sushi Restaurant  0.08\n3   Light Rail Station  0.05\n4  American Restaurant  0.05\n\n\n----North End----\n                venue  freq\n0  Italian Restaurant  0.41\n1  Seafood Restaurant  0.05\n2              Bakery  0.05\n3                Park  0.05\n4         Pizza Place  0.05\n\n\n----Roslindale----\n              venue  freq\n0               Bar  0.09\n1       Pizza Place  0.09\n2     Grocery Store  0.09\n3  Greek Restaurant  0.09\n4            Bakery  0.09\n\n\n----Roxbury----\n                  venue  freq\n0   Fried Chicken Joint  0.13\n1          Skating Rink  0.07\n2          Liquor Store  0.07\n3  Gym / Fitness Center  0.07\n4         Grocery Store  0.07\n\n\n----South Boston----\n           venue  freq\n0            Bar  0.08\n1     Donut Shop  0.08\n2            Gym  0.08\n3  Grocery Store  0.08\n4   Climbing Gym  0.08\n\n\n----South Boston Waterfront----\n                 venue  freq\n0   Seafood Restaurant  0.11\n1  American Restaurant  0.09\n2           Donut Shop  0.09\n3                Hotel  0.09\n4   Mexican Restaurant  0.05\n\n\n----South End----\n                 venue  freq\n0  American Restaurant  0.05\n1             Wine Bar  0.05\n2          Pizza Place  0.04\n3                 Park  0.04\n4            Pet Store  0.04\n\n\n----West End----\n                 venue  freq\n0       Sandwich Place  0.07\n1                Hotel  0.05\n2          Pizza Place  0.05\n3  American Restaurant  0.04\n4           Donut Shop  0.04\n\n\n----West Roxbury----\n                  venue  freq\n0         Grocery Store  0.17\n1              Pharmacy  0.11\n2           Pizza Place  0.11\n3                   Pub  0.06\n4  Gym / Fitness Center  0.06\n\n\n"
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Function to sort venues in descending order\u00b6", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "def return_most_common_venues(row, num_top_venues):\n    row_categories = row.iloc[1:]\n    row_categories_sorted = row_categories.sort_values(ascending=False)\n    \n    return row_categories_sorted.index.values[0:num_top_venues]", 
            "cell_type": "code", 
            "execution_count": 94, 
            "outputs": [], 
            "metadata": {}
        }, 
        {
            "source": "### Create the new dataframe and display the top 10 venues for each neighborhood", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "import numpy as np # library to handle data in a vectorized manner\n\nnum_top_venues = 10\n\nindicators = ['st', 'nd', 'rd']\n\n# create columns according to number of top venues\ncolumns = ['Neighbourhood']\nfor ind in np.arange(num_top_venues):\n    try:\n        columns.append('{}{} Most Common Venue'.format(ind+1, indicators[ind]))\n    except:\n        columns.append('{}th Most Common Venue'.format(ind+1))\n\n# create a new dataframe\nneighbourhoods_venues_sorted = pd.DataFrame(columns=columns)\nneighbourhoods_venues_sorted['Neighbourhood'] = boston_grouped['Neighbourhood']\n\nfor ind in np.arange(boston_grouped.shape[0]):\n    neighbourhoods_venues_sorted.iloc[ind, 1:] = return_most_common_venues(boston_grouped.iloc[ind, :], num_top_venues)\n\nneighbourhoods_venues_sorted", 
            "cell_type": "code", 
            "execution_count": 95, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Allston</td>\n      <td>Rental Car Location</td>\n      <td>Donut Shop</td>\n      <td>Convenience Store</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Smoke Shop</td>\n      <td>Liquor Store</td>\n      <td>Plaza</td>\n      <td>Pizza Place</td>\n      <td>Dance Studio</td>\n      <td>Deli / Bodega</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Back Bay</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Italian Restaurant</td>\n      <td>Clothing Store</td>\n      <td>Seafood Restaurant</td>\n      <td>Hotel</td>\n      <td>Ice Cream Shop</td>\n      <td>Gym</td>\n      <td>Cosmetics Shop</td>\n      <td>Sporting Goods Shop</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Bay Village</td>\n      <td>Theater</td>\n      <td>Spa</td>\n      <td>Hotel</td>\n      <td>Sandwich Place</td>\n      <td>American Restaurant</td>\n      <td>Seafood Restaurant</td>\n      <td>Performing Arts Venue</td>\n      <td>Coffee Shop</td>\n      <td>Steakhouse</td>\n      <td>Italian Restaurant</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Beacon Hill</td>\n      <td>Pizza Place</td>\n      <td>Playground</td>\n      <td>Italian Restaurant</td>\n      <td>Park</td>\n      <td>Plaza</td>\n      <td>French Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>Gift Shop</td>\n      <td>Gourmet Shop</td>\n      <td>Pub</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Brighton</td>\n      <td>Bakery</td>\n      <td>Pizza Place</td>\n      <td>Dry Cleaner</td>\n      <td>Sandwich Place</td>\n      <td>Greek Restaurant</td>\n      <td>Chinese Restaurant</td>\n      <td>Bank</td>\n      <td>Caf\u00e9</td>\n      <td>Dance Studio</td>\n      <td>Bar</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Charlestown</td>\n      <td>Pizza Place</td>\n      <td>Convenience Store</td>\n      <td>Coffee Shop</td>\n      <td>Thai Restaurant</td>\n      <td>Pet Store</td>\n      <td>Deli / Bodega</td>\n      <td>Dog Run</td>\n      <td>Donut Shop</td>\n      <td>National Park</td>\n      <td>Caf\u00e9</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Chinatown</td>\n      <td>Chinese Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Bakery</td>\n      <td>Sushi Restaurant</td>\n      <td>Bubble Tea Shop</td>\n      <td>Theater</td>\n      <td>Hotel Bar</td>\n      <td>Performing Arts Venue</td>\n      <td>Dim Sum Restaurant</td>\n      <td>Hotel</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Dorchester</td>\n      <td>Vietnamese Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Pub</td>\n      <td>Clothing Store</td>\n      <td>Cajun / Creole Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Bar</td>\n      <td>Liquor Store</td>\n      <td>Supermarket</td>\n      <td>Discount Store</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Downtown</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Italian Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>New American Restaurant</td>\n      <td>Historic Site</td>\n      <td>Salad Place</td>\n      <td>Park</td>\n      <td>Falafel Restaurant</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>East Boston</td>\n      <td>Park</td>\n      <td>Pizza Place</td>\n      <td>Gym</td>\n      <td>Airport Terminal</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>Convenience Store</td>\n      <td>Brazilian Restaurant</td>\n      <td>Colombian Restaurant</td>\n      <td>Rental Car Location</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>Fenway</td>\n      <td>American Restaurant</td>\n      <td>Sports Bar</td>\n      <td>Coffee Shop</td>\n      <td>Lounge</td>\n      <td>Pizza Place</td>\n      <td>Hotel</td>\n      <td>Caf\u00e9</td>\n      <td>Baseball Field</td>\n      <td>Thai Restaurant</td>\n      <td>Restaurant</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>Jamaica Plain</td>\n      <td>Pub</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Bakery</td>\n      <td>Art Gallery</td>\n      <td>Coffee Shop</td>\n      <td>Record Shop</td>\n      <td>Bar</td>\n      <td>Taco Place</td>\n      <td>Liquor Store</td>\n      <td>Seafood Restaurant</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Leather District</td>\n      <td>Bakery</td>\n      <td>Chinese Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Food Truck</td>\n      <td>American Restaurant</td>\n      <td>Vegetarian / Vegan Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>Gym</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>Longwood</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Falafel Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bus Stop</td>\n      <td>Gym</td>\n      <td>Gastropub</td>\n      <td>Frozen Yogurt Shop</td>\n      <td>Theater</td>\n      <td>Fast Food Restaurant</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>Mattapan</td>\n      <td>Ice Cream Shop</td>\n      <td>Furniture / Home Store</td>\n      <td>French Restaurant</td>\n      <td>Food Court</td>\n      <td>Flower Shop</td>\n      <td>Fish Market</td>\n      <td>Fast Food Restaurant</td>\n      <td>Farmers Market</td>\n      <td>Falafel Restaurant</td>\n      <td>Event Space</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Mission Hill</td>\n      <td>Pizza Place</td>\n      <td>Donut Shop</td>\n      <td>Sushi Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Light Rail Station</td>\n      <td>Indian Restaurant</td>\n      <td>Pub</td>\n      <td>Caribbean Restaurant</td>\n      <td>Burrito Place</td>\n      <td>Burger Joint</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>North End</td>\n      <td>Italian Restaurant</td>\n      <td>Park</td>\n      <td>Seafood Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Bakery</td>\n      <td>Wine Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Market</td>\n      <td>Grocery Store</td>\n      <td>Coffee Shop</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Roslindale</td>\n      <td>Ice Cream Shop</td>\n      <td>Sandwich Place</td>\n      <td>Plaza</td>\n      <td>Farmers Market</td>\n      <td>Bar</td>\n      <td>Greek Restaurant</td>\n      <td>Grocery Store</td>\n      <td>Bakery</td>\n      <td>Pizza Place</td>\n      <td>Deli / Bodega</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>Roxbury</td>\n      <td>Fried Chicken Joint</td>\n      <td>Fast Food Restaurant</td>\n      <td>Basketball Court</td>\n      <td>Electronics Store</td>\n      <td>Museum</td>\n      <td>Shopping Mall</td>\n      <td>Grocery Store</td>\n      <td>Gym</td>\n      <td>Gym / Fitness Center</td>\n      <td>Skating Rink</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>South Boston</td>\n      <td>Climbing Gym</td>\n      <td>Train</td>\n      <td>Chinese Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bar</td>\n      <td>Dive Bar</td>\n      <td>Grocery Store</td>\n      <td>Gym</td>\n      <td>Gym / Fitness Center</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>South Boston Waterfront</td>\n      <td>Seafood Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>Donut Shop</td>\n      <td>Steakhouse</td>\n      <td>Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Mexican Restaurant</td>\n      <td>Shipping Store</td>\n      <td>Italian Restaurant</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>South End</td>\n      <td>American Restaurant</td>\n      <td>Wine Bar</td>\n      <td>Mexican Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Pet Store</td>\n      <td>Park</td>\n      <td>Italian Restaurant</td>\n      <td>Deli / Bodega</td>\n      <td>Gastropub</td>\n      <td>Gym / Fitness Center</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>West End</td>\n      <td>Sandwich Place</td>\n      <td>Pizza Place</td>\n      <td>Hotel</td>\n      <td>Donut Shop</td>\n      <td>Bar</td>\n      <td>Caf\u00e9</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Gym / Fitness Center</td>\n      <td>Sports Bar</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>West Roxbury</td>\n      <td>Grocery Store</td>\n      <td>Pizza Place</td>\n      <td>Pharmacy</td>\n      <td>Pub</td>\n      <td>Park</td>\n      <td>Salon / Barbershop</td>\n      <td>Flower Shop</td>\n      <td>Liquor Store</td>\n      <td>Bank</td>\n      <td>Automotive Shop</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "              Neighbourhood  1st Most Common Venue   2nd Most Common Venue  \\\n0                   Allston    Rental Car Location              Donut Shop   \n1                  Back Bay    American Restaurant             Coffee Shop   \n2               Bay Village                Theater                     Spa   \n3               Beacon Hill            Pizza Place              Playground   \n4                  Brighton                 Bakery             Pizza Place   \n5               Charlestown            Pizza Place       Convenience Store   \n6                 Chinatown     Chinese Restaurant        Asian Restaurant   \n7                Dorchester  Vietnamese Restaurant                    Caf\u00e9   \n8                  Downtown            Coffee Shop          Sandwich Place   \n9               East Boston                   Park             Pizza Place   \n10                   Fenway    American Restaurant              Sports Bar   \n11            Jamaica Plain                    Pub  Thrift / Vintage Store   \n12         Leather District                 Bakery      Chinese Restaurant   \n13                 Longwood            Coffee Shop                    Caf\u00e9   \n14                 Mattapan         Ice Cream Shop  Furniture / Home Store   \n15             Mission Hill            Pizza Place              Donut Shop   \n16                North End     Italian Restaurant                    Park   \n17               Roslindale         Ice Cream Shop          Sandwich Place   \n18                  Roxbury    Fried Chicken Joint    Fast Food Restaurant   \n19             South Boston           Climbing Gym                   Train   \n20  South Boston Waterfront     Seafood Restaurant     American Restaurant   \n21                South End    American Restaurant                Wine Bar   \n22                 West End         Sandwich Place             Pizza Place   \n23             West Roxbury          Grocery Store             Pizza Place   \n\n   3rd Most Common Venue   4th Most Common Venue      5th Most Common Venue  \\\n0      Convenience Store  Thrift / Vintage Store                 Smoke Shop   \n1     Italian Restaurant          Clothing Store         Seafood Restaurant   \n2                  Hotel          Sandwich Place        American Restaurant   \n3     Italian Restaurant                    Park                      Plaza   \n4            Dry Cleaner          Sandwich Place           Greek Restaurant   \n5            Coffee Shop         Thai Restaurant                  Pet Store   \n6                 Bakery        Sushi Restaurant            Bubble Tea Shop   \n7                    Pub          Clothing Store  Cajun / Creole Restaurant   \n8     Italian Restaurant     American Restaurant                      Hotel   \n9                    Gym        Airport Terminal        American Restaurant   \n10           Coffee Shop                  Lounge                Pizza Place   \n11                Bakery             Art Gallery                Coffee Shop   \n12      Asian Restaurant             Coffee Shop             Sandwich Place   \n13    Falafel Restaurant          Sandwich Place                   Bus Stop   \n14     French Restaurant              Food Court                Flower Shop   \n15      Sushi Restaurant     American Restaurant         Light Rail Station   \n16    Seafood Restaurant             Pizza Place                     Bakery   \n17                 Plaza          Farmers Market                        Bar   \n18      Basketball Court       Electronics Store                     Museum   \n19    Chinese Restaurant          Sandwich Place                        Bar   \n20                 Hotel              Donut Shop                 Steakhouse   \n21    Mexican Restaurant             Pizza Place                  Pet Store   \n22                 Hotel              Donut Shop                        Bar   \n23              Pharmacy                     Pub                       Park   \n\n      6th Most Common Venue  7th Most Common Venue  \\\n0              Liquor Store                  Plaza   \n1                     Hotel         Ice Cream Shop   \n2        Seafood Restaurant  Performing Arts Venue   \n3         French Restaurant       Sushi Restaurant   \n4        Chinese Restaurant                   Bank   \n5             Deli / Bodega                Dog Run   \n6                   Theater              Hotel Bar   \n7                Donut Shop                    Bar   \n8   New American Restaurant          Historic Site   \n9                     Hotel      Convenience Store   \n10                    Hotel                   Caf\u00e9   \n11              Record Shop                    Bar   \n12               Food Truck    American Restaurant   \n13                      Gym              Gastropub   \n14              Fish Market   Fast Food Restaurant   \n15        Indian Restaurant                    Pub   \n16                Wine Shop                   Caf\u00e9   \n17         Greek Restaurant          Grocery Store   \n18            Shopping Mall          Grocery Store   \n19                 Dive Bar          Grocery Store   \n20               Restaurant         Sandwich Place   \n21                     Park     Italian Restaurant   \n22                     Caf\u00e9    American Restaurant   \n23       Salon / Barbershop            Flower Shop   \n\n            8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n0                     Pizza Place          Dance Studio          Deli / Bodega  \n1                             Gym        Cosmetics Shop    Sporting Goods Shop  \n2                     Coffee Shop            Steakhouse     Italian Restaurant  \n3                       Gift Shop          Gourmet Shop                    Pub  \n4                            Caf\u00e9          Dance Studio                    Bar  \n5                      Donut Shop         National Park                   Caf\u00e9  \n6           Performing Arts Venue    Dim Sum Restaurant                  Hotel  \n7                    Liquor Store           Supermarket         Discount Store  \n8                     Salad Place                  Park     Falafel Restaurant  \n9            Brazilian Restaurant  Colombian Restaurant    Rental Car Location  \n10                 Baseball Field       Thai Restaurant             Restaurant  \n11                     Taco Place          Liquor Store     Seafood Restaurant  \n12  Vegetarian / Vegan Restaurant      Sushi Restaurant                    Gym  \n13             Frozen Yogurt Shop               Theater   Fast Food Restaurant  \n14                 Farmers Market    Falafel Restaurant            Event Space  \n15           Caribbean Restaurant         Burrito Place           Burger Joint  \n16                         Market         Grocery Store            Coffee Shop  \n17                         Bakery           Pizza Place          Deli / Bodega  \n18                            Gym  Gym / Fitness Center           Skating Rink  \n19                            Gym  Gym / Fitness Center             Donut Shop  \n20             Mexican Restaurant        Shipping Store     Italian Restaurant  \n21                  Deli / Bodega             Gastropub   Gym / Fitness Center  \n22                    Coffee Shop  Gym / Fitness Center             Sports Bar  \n23                   Liquor Store                  Bank        Automotive Shop  "
                    }, 
                    "execution_count": 95
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "## Cluster Neighbourhoods using k-means", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "from sklearn.cluster import KMeans\n\n# set number of clusters\nkclusters =5\n\nboston_grouped_clustering = boston_grouped.drop('Neighbourhood',1)\n\n# run k-means clustering\nkmeans = KMeans(n_clusters=kclusters, random_state=0).fit(boston_grouped_clustering)\n\n# check cluster labels generated for each row in the dataframe\nkmeans.labels_[0:23] ", 
            "cell_type": "code", 
            "execution_count": 96, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "array([0, 4, 4, 4, 2, 2, 4, 4, 4, 4, 4, 4, 4, 4, 1, 2, 3, 2, 4, 2, 4, 4,\n       4], dtype=int32)"
                    }, 
                    "execution_count": 96
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Create a new dataframe that includes the cluster as well as the top 10 venues for each neighborhood", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "# add clustering labels\nneighbourhoods_venues_sorted.insert(0, 'Cluster Labels', kmeans.labels_)\n\nboston_merged=df_centroids_filtered.sort_values('Neighbourhood')\n\n# merge boston_grouped with df_centroids_filtered to add latitude/longitude for each neighborhood\nboston_merged = boston_merged.join(neighbourhoods_venues_sorted.set_index('Neighbourhood'), on='Neighbourhood')\n\n#boston_merged # check the last columns!\nboston_merged\n", 
            "cell_type": "code", 
            "execution_count": 97, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>index</th>\n      <th>Borough</th>\n      <th>Neighbourhood</th>\n      <th>Latitude</th>\n      <th>Longitude</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>23</th>\n      <td>23</td>\n      <td>Boston</td>\n      <td>Allston</td>\n      <td>42.358396</td>\n      <td>-71.128562</td>\n      <td>0</td>\n      <td>Rental Car Location</td>\n      <td>Donut Shop</td>\n      <td>Convenience Store</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Smoke Shop</td>\n      <td>Liquor Store</td>\n      <td>Plaza</td>\n      <td>Pizza Place</td>\n      <td>Dance Studio</td>\n      <td>Deli / Bodega</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>10</td>\n      <td>Boston</td>\n      <td>Back Bay</td>\n      <td>42.349852</td>\n      <td>-71.080535</td>\n      <td>4</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Italian Restaurant</td>\n      <td>Clothing Store</td>\n      <td>Seafood Restaurant</td>\n      <td>Hotel</td>\n      <td>Ice Cream Shop</td>\n      <td>Gym</td>\n      <td>Cosmetics Shop</td>\n      <td>Sporting Goods Shop</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>4</td>\n      <td>Boston</td>\n      <td>Bay Village</td>\n      <td>42.349095</td>\n      <td>-71.069031</td>\n      <td>4</td>\n      <td>Theater</td>\n      <td>Spa</td>\n      <td>Hotel</td>\n      <td>Sandwich Place</td>\n      <td>American Restaurant</td>\n      <td>Seafood Restaurant</td>\n      <td>Performing Arts Venue</td>\n      <td>Coffee Shop</td>\n      <td>Steakhouse</td>\n      <td>Italian Restaurant</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>14</td>\n      <td>Boston</td>\n      <td>Beacon Hill</td>\n      <td>42.357041</td>\n      <td>-71.068262</td>\n      <td>4</td>\n      <td>Pizza Place</td>\n      <td>Playground</td>\n      <td>Italian Restaurant</td>\n      <td>Park</td>\n      <td>Plaza</td>\n      <td>French Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>Gift Shop</td>\n      <td>Gourmet Shop</td>\n      <td>Pub</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>17</td>\n      <td>Boston</td>\n      <td>Brighton</td>\n      <td>42.345448</td>\n      <td>-71.155026</td>\n      <td>2</td>\n      <td>Bakery</td>\n      <td>Pizza Place</td>\n      <td>Dry Cleaner</td>\n      <td>Sandwich Place</td>\n      <td>Greek Restaurant</td>\n      <td>Chinese Restaurant</td>\n      <td>Bank</td>\n      <td>Caf\u00e9</td>\n      <td>Dance Studio</td>\n      <td>Bar</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>12</td>\n      <td>Boston</td>\n      <td>Charlestown</td>\n      <td>42.379044</td>\n      <td>-71.063664</td>\n      <td>2</td>\n      <td>Pizza Place</td>\n      <td>Convenience Store</td>\n      <td>Coffee Shop</td>\n      <td>Thai Restaurant</td>\n      <td>Pet Store</td>\n      <td>Deli / Bodega</td>\n      <td>Dog Run</td>\n      <td>Donut Shop</td>\n      <td>National Park</td>\n      <td>Caf\u00e9</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>6</td>\n      <td>Boston</td>\n      <td>Chinatown</td>\n      <td>42.349019</td>\n      <td>-71.061661</td>\n      <td>4</td>\n      <td>Chinese Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Bakery</td>\n      <td>Sushi Restaurant</td>\n      <td>Bubble Tea Shop</td>\n      <td>Theater</td>\n      <td>Hotel Bar</td>\n      <td>Performing Arts Venue</td>\n      <td>Dim Sum Restaurant</td>\n      <td>Hotel</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>20</td>\n      <td>Boston</td>\n      <td>Dorchester</td>\n      <td>42.298451</td>\n      <td>-71.063457</td>\n      <td>4</td>\n      <td>Vietnamese Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Pub</td>\n      <td>Clothing Store</td>\n      <td>Cajun / Creole Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Bar</td>\n      <td>Liquor Store</td>\n      <td>Supermarket</td>\n      <td>Discount Store</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>15</td>\n      <td>Boston</td>\n      <td>Downtown</td>\n      <td>42.355584</td>\n      <td>-71.057650</td>\n      <td>4</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Italian Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>New American Restaurant</td>\n      <td>Historic Site</td>\n      <td>Salad Place</td>\n      <td>Park</td>\n      <td>Falafel Restaurant</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>11</td>\n      <td>Boston</td>\n      <td>East Boston</td>\n      <td>42.373034</td>\n      <td>-71.030814</td>\n      <td>4</td>\n      <td>Park</td>\n      <td>Pizza Place</td>\n      <td>Gym</td>\n      <td>Airport Terminal</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>Convenience Store</td>\n      <td>Brazilian Restaurant</td>\n      <td>Colombian Restaurant</td>\n      <td>Rental Car Location</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>16</td>\n      <td>Boston</td>\n      <td>Fenway</td>\n      <td>42.344758</td>\n      <td>-71.096114</td>\n      <td>4</td>\n      <td>American Restaurant</td>\n      <td>Sports Bar</td>\n      <td>Coffee Shop</td>\n      <td>Lounge</td>\n      <td>Pizza Place</td>\n      <td>Hotel</td>\n      <td>Caf\u00e9</td>\n      <td>Baseball Field</td>\n      <td>Thai Restaurant</td>\n      <td>Restaurant</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1</td>\n      <td>Boston</td>\n      <td>Jamaica Plain</td>\n      <td>42.307760</td>\n      <td>-71.115097</td>\n      <td>4</td>\n      <td>Pub</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Bakery</td>\n      <td>Art Gallery</td>\n      <td>Coffee Shop</td>\n      <td>Record Shop</td>\n      <td>Bar</td>\n      <td>Taco Place</td>\n      <td>Liquor Store</td>\n      <td>Seafood Restaurant</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>5</td>\n      <td>Boston</td>\n      <td>Leather District</td>\n      <td>42.350974</td>\n      <td>-71.057828</td>\n      <td>4</td>\n      <td>Bakery</td>\n      <td>Chinese Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Food Truck</td>\n      <td>American Restaurant</td>\n      <td>Vegetarian / Vegan Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>Gym</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>3</td>\n      <td>Boston</td>\n      <td>Longwood</td>\n      <td>42.338600</td>\n      <td>-71.105102</td>\n      <td>4</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Falafel Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bus Stop</td>\n      <td>Gym</td>\n      <td>Gastropub</td>\n      <td>Frozen Yogurt Shop</td>\n      <td>Theater</td>\n      <td>Fast Food Restaurant</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>19</td>\n      <td>Boston</td>\n      <td>Mattapan</td>\n      <td>42.276996</td>\n      <td>-71.091445</td>\n      <td>1</td>\n      <td>Ice Cream Shop</td>\n      <td>Furniture / Home Store</td>\n      <td>French Restaurant</td>\n      <td>Food Court</td>\n      <td>Flower Shop</td>\n      <td>Fish Market</td>\n      <td>Fast Food Restaurant</td>\n      <td>Farmers Market</td>\n      <td>Falafel Restaurant</td>\n      <td>Event Space</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2</td>\n      <td>Boston</td>\n      <td>Mission Hill</td>\n      <td>42.330745</td>\n      <td>-71.102249</td>\n      <td>2</td>\n      <td>Pizza Place</td>\n      <td>Donut Shop</td>\n      <td>Sushi Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Light Rail Station</td>\n      <td>Indian Restaurant</td>\n      <td>Pub</td>\n      <td>Caribbean Restaurant</td>\n      <td>Burrito Place</td>\n      <td>Burger Joint</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>7</td>\n      <td>Boston</td>\n      <td>North End</td>\n      <td>42.365456</td>\n      <td>-71.053857</td>\n      <td>3</td>\n      <td>Italian Restaurant</td>\n      <td>Park</td>\n      <td>Seafood Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Bakery</td>\n      <td>Wine Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Market</td>\n      <td>Grocery Store</td>\n      <td>Coffee Shop</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>0</td>\n      <td>Boston</td>\n      <td>Roslindale</td>\n      <td>42.282515</td>\n      <td>-71.126662</td>\n      <td>2</td>\n      <td>Ice Cream Shop</td>\n      <td>Sandwich Place</td>\n      <td>Plaza</td>\n      <td>Farmers Market</td>\n      <td>Bar</td>\n      <td>Greek Restaurant</td>\n      <td>Grocery Store</td>\n      <td>Bakery</td>\n      <td>Pizza Place</td>\n      <td>Deli / Bodega</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>8</td>\n      <td>Boston</td>\n      <td>Roxbury</td>\n      <td>42.318508</td>\n      <td>-71.086644</td>\n      <td>4</td>\n      <td>Fried Chicken Joint</td>\n      <td>Fast Food Restaurant</td>\n      <td>Basketball Court</td>\n      <td>Electronics Store</td>\n      <td>Museum</td>\n      <td>Shopping Mall</td>\n      <td>Grocery Store</td>\n      <td>Gym</td>\n      <td>Gym / Fitness Center</td>\n      <td>Skating Rink</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>22</td>\n      <td>Boston</td>\n      <td>South Boston</td>\n      <td>42.334707</td>\n      <td>-71.056403</td>\n      <td>2</td>\n      <td>Climbing Gym</td>\n      <td>Train</td>\n      <td>Chinese Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bar</td>\n      <td>Dive Bar</td>\n      <td>Grocery Store</td>\n      <td>Gym</td>\n      <td>Gym / Fitness Center</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>21</td>\n      <td>Boston</td>\n      <td>South Boston Waterfront</td>\n      <td>42.346408</td>\n      <td>-71.041726</td>\n      <td>4</td>\n      <td>Seafood Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>Donut Shop</td>\n      <td>Steakhouse</td>\n      <td>Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Mexican Restaurant</td>\n      <td>Shipping Store</td>\n      <td>Italian Restaurant</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>9</td>\n      <td>Boston</td>\n      <td>South End</td>\n      <td>42.341342</td>\n      <td>-71.071369</td>\n      <td>4</td>\n      <td>American Restaurant</td>\n      <td>Wine Bar</td>\n      <td>Mexican Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Pet Store</td>\n      <td>Park</td>\n      <td>Italian Restaurant</td>\n      <td>Deli / Bodega</td>\n      <td>Gastropub</td>\n      <td>Gym / Fitness Center</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>13</td>\n      <td>Boston</td>\n      <td>West End</td>\n      <td>42.364539</td>\n      <td>-71.065427</td>\n      <td>4</td>\n      <td>Sandwich Place</td>\n      <td>Pizza Place</td>\n      <td>Hotel</td>\n      <td>Donut Shop</td>\n      <td>Bar</td>\n      <td>Caf\u00e9</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Gym / Fitness Center</td>\n      <td>Sports Bar</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>18</td>\n      <td>Boston</td>\n      <td>West Roxbury</td>\n      <td>42.280632</td>\n      <td>-71.160026</td>\n      <td>2</td>\n      <td>Grocery Store</td>\n      <td>Pizza Place</td>\n      <td>Pharmacy</td>\n      <td>Pub</td>\n      <td>Park</td>\n      <td>Salon / Barbershop</td>\n      <td>Flower Shop</td>\n      <td>Liquor Store</td>\n      <td>Bank</td>\n      <td>Automotive Shop</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "    index Borough            Neighbourhood   Latitude  Longitude  \\\n23     23  Boston                  Allston  42.358396 -71.128562   \n10     10  Boston                 Back Bay  42.349852 -71.080535   \n4       4  Boston              Bay Village  42.349095 -71.069031   \n14     14  Boston              Beacon Hill  42.357041 -71.068262   \n17     17  Boston                 Brighton  42.345448 -71.155026   \n12     12  Boston              Charlestown  42.379044 -71.063664   \n6       6  Boston                Chinatown  42.349019 -71.061661   \n20     20  Boston               Dorchester  42.298451 -71.063457   \n15     15  Boston                 Downtown  42.355584 -71.057650   \n11     11  Boston              East Boston  42.373034 -71.030814   \n16     16  Boston                   Fenway  42.344758 -71.096114   \n1       1  Boston            Jamaica Plain  42.307760 -71.115097   \n5       5  Boston         Leather District  42.350974 -71.057828   \n3       3  Boston                 Longwood  42.338600 -71.105102   \n19     19  Boston                 Mattapan  42.276996 -71.091445   \n2       2  Boston             Mission Hill  42.330745 -71.102249   \n7       7  Boston                North End  42.365456 -71.053857   \n0       0  Boston               Roslindale  42.282515 -71.126662   \n8       8  Boston                  Roxbury  42.318508 -71.086644   \n22     22  Boston             South Boston  42.334707 -71.056403   \n21     21  Boston  South Boston Waterfront  42.346408 -71.041726   \n9       9  Boston                South End  42.341342 -71.071369   \n13     13  Boston                 West End  42.364539 -71.065427   \n18     18  Boston             West Roxbury  42.280632 -71.160026   \n\n    Cluster Labels  1st Most Common Venue   2nd Most Common Venue  \\\n23               0    Rental Car Location              Donut Shop   \n10               4    American Restaurant             Coffee Shop   \n4                4                Theater                     Spa   \n14               4            Pizza Place              Playground   \n17               2                 Bakery             Pizza Place   \n12               2            Pizza Place       Convenience Store   \n6                4     Chinese Restaurant        Asian Restaurant   \n20               4  Vietnamese Restaurant                    Caf\u00e9   \n15               4            Coffee Shop          Sandwich Place   \n11               4                   Park             Pizza Place   \n16               4    American Restaurant              Sports Bar   \n1                4                    Pub  Thrift / Vintage Store   \n5                4                 Bakery      Chinese Restaurant   \n3                4            Coffee Shop                    Caf\u00e9   \n19               1         Ice Cream Shop  Furniture / Home Store   \n2                2            Pizza Place              Donut Shop   \n7                3     Italian Restaurant                    Park   \n0                2         Ice Cream Shop          Sandwich Place   \n8                4    Fried Chicken Joint    Fast Food Restaurant   \n22               2           Climbing Gym                   Train   \n21               4     Seafood Restaurant     American Restaurant   \n9                4    American Restaurant                Wine Bar   \n13               4         Sandwich Place             Pizza Place   \n18               2          Grocery Store             Pizza Place   \n\n   3rd Most Common Venue   4th Most Common Venue      5th Most Common Venue  \\\n23     Convenience Store  Thrift / Vintage Store                 Smoke Shop   \n10    Italian Restaurant          Clothing Store         Seafood Restaurant   \n4                  Hotel          Sandwich Place        American Restaurant   \n14    Italian Restaurant                    Park                      Plaza   \n17           Dry Cleaner          Sandwich Place           Greek Restaurant   \n12           Coffee Shop         Thai Restaurant                  Pet Store   \n6                 Bakery        Sushi Restaurant            Bubble Tea Shop   \n20                   Pub          Clothing Store  Cajun / Creole Restaurant   \n15    Italian Restaurant     American Restaurant                      Hotel   \n11                   Gym        Airport Terminal        American Restaurant   \n16           Coffee Shop                  Lounge                Pizza Place   \n1                 Bakery             Art Gallery                Coffee Shop   \n5       Asian Restaurant             Coffee Shop             Sandwich Place   \n3     Falafel Restaurant          Sandwich Place                   Bus Stop   \n19     French Restaurant              Food Court                Flower Shop   \n2       Sushi Restaurant     American Restaurant         Light Rail Station   \n7     Seafood Restaurant             Pizza Place                     Bakery   \n0                  Plaza          Farmers Market                        Bar   \n8       Basketball Court       Electronics Store                     Museum   \n22    Chinese Restaurant          Sandwich Place                        Bar   \n21                 Hotel              Donut Shop                 Steakhouse   \n9     Mexican Restaurant             Pizza Place                  Pet Store   \n13                 Hotel              Donut Shop                        Bar   \n18              Pharmacy                     Pub                       Park   \n\n      6th Most Common Venue  7th Most Common Venue  \\\n23             Liquor Store                  Plaza   \n10                    Hotel         Ice Cream Shop   \n4        Seafood Restaurant  Performing Arts Venue   \n14        French Restaurant       Sushi Restaurant   \n17       Chinese Restaurant                   Bank   \n12            Deli / Bodega                Dog Run   \n6                   Theater              Hotel Bar   \n20               Donut Shop                    Bar   \n15  New American Restaurant          Historic Site   \n11                    Hotel      Convenience Store   \n16                    Hotel                   Caf\u00e9   \n1               Record Shop                    Bar   \n5                Food Truck    American Restaurant   \n3                       Gym              Gastropub   \n19              Fish Market   Fast Food Restaurant   \n2         Indian Restaurant                    Pub   \n7                 Wine Shop                   Caf\u00e9   \n0          Greek Restaurant          Grocery Store   \n8             Shopping Mall          Grocery Store   \n22                 Dive Bar          Grocery Store   \n21               Restaurant         Sandwich Place   \n9                      Park     Italian Restaurant   \n13                     Caf\u00e9    American Restaurant   \n18       Salon / Barbershop            Flower Shop   \n\n            8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n23                    Pizza Place          Dance Studio          Deli / Bodega  \n10                            Gym        Cosmetics Shop    Sporting Goods Shop  \n4                     Coffee Shop            Steakhouse     Italian Restaurant  \n14                      Gift Shop          Gourmet Shop                    Pub  \n17                           Caf\u00e9          Dance Studio                    Bar  \n12                     Donut Shop         National Park                   Caf\u00e9  \n6           Performing Arts Venue    Dim Sum Restaurant                  Hotel  \n20                   Liquor Store           Supermarket         Discount Store  \n15                    Salad Place                  Park     Falafel Restaurant  \n11           Brazilian Restaurant  Colombian Restaurant    Rental Car Location  \n16                 Baseball Field       Thai Restaurant             Restaurant  \n1                      Taco Place          Liquor Store     Seafood Restaurant  \n5   Vegetarian / Vegan Restaurant      Sushi Restaurant                    Gym  \n3              Frozen Yogurt Shop               Theater   Fast Food Restaurant  \n19                 Farmers Market    Falafel Restaurant            Event Space  \n2            Caribbean Restaurant         Burrito Place           Burger Joint  \n7                          Market         Grocery Store            Coffee Shop  \n0                          Bakery           Pizza Place          Deli / Bodega  \n8                             Gym  Gym / Fitness Center           Skating Rink  \n22                            Gym  Gym / Fitness Center             Donut Shop  \n21             Mexican Restaurant        Shipping Store     Italian Restaurant  \n9                   Deli / Bodega             Gastropub   Gym / Fitness Center  \n13                    Coffee Shop  Gym / Fitness Center             Sports Bar  \n18                   Liquor Store                  Bank        Automotive Shop  "
                    }, 
                    "execution_count": 97
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Visualize resulting clusters overlayed on map", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "# Matplotlib and associated plotting modules\nimport matplotlib.cm as cm\nimport matplotlib.colors as colors\n\n# create map\nmap_clusters = folium.Map(location=[latitude, longitude], zoom_start=11)\n\n# set color scheme for the clusters\nx = np.arange(kclusters)\nys = [i + x + (i*x)**2 for i in range(kclusters)]\ncolors_array = cm.rainbow(np.linspace(0, 1, len(ys)))\nrainbow = [colors.rgb2hex(i) for i in colors_array]\n\n# add markers to the map\nmarkers_colors = []\nfor lat, lon, poi, cluster in zip(boston_merged['Latitude'], boston_merged['Longitude'], boston_merged['Neighbourhood'], boston_merged['Cluster Labels']):\n    label = folium.Popup(str(poi) + ' Cluster ' + str(cluster), parse_html=True)\n    folium.CircleMarker(\n        [lat, lon],\n        radius=5,\n        popup=label,\n        color=rainbow[cluster-1],\n        fill=True,\n        fill_color=rainbow[cluster-1],\n        fill_opacity=0.7).add_to(map_clusters)\nmap_clusters", 
            "cell_type": "code", 
            "execution_count": 98, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzVmOGZhYzQ3MjE1OTQ5N2RiNmRhYWQ2ODYzMDQzZTljIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF81ZjhmYWM0NzIxNTk0OTdkYjZkYWFkNjg2MzA0M2U5YyA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF81ZjhmYWM0NzIxNTk0OTdkYjZkYWFkNjg2MzA0M2U5YycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDIuMzYwMjUzNCwtNzEuMDU4MjkxMl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfODg1Y2UxNjRiMWRiNGUxZGE3NTZiZGVkMzk0OTcyY2QgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VkMGRkYzczY2E4OTQ4YzA4M2Q4ZDgwN2UzMzYxZGIzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzU4Mzk2MjAwMDAwMDEsLTcxLjEyODU2MjI4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzVmOGZhYzQ3MjE1OTQ5N2RiNmRhYWQ2ODYzMDQzZTljKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzAyMDYxYjdjNDBiMjQyYjg4YWQ1NjM1OTIyMjM4NmMxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzcyOGVjM2QwNWY2ZDQwYTBiZjQ2MDQxMDY2Y2FjODFiID0gJCgnPGRpdiBpZD0iaHRtbF83MjhlYzNkMDVmNmQ0MGEwYmY0NjA0MTA2NmNhYzgxYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWxsc3RvbiBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAyMDYxYjdjNDBiMjQyYjg4YWQ1NjM1OTIyMjM4NmMxLnNldENvbnRlbnQoaHRtbF83MjhlYzNkMDVmNmQ0MGEwYmY0NjA0MTA2NmNhYzgxYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lZDBkZGM3M2NhODk0OGMwODNkOGQ4MDdlMzM2MWRiMy5iaW5kUG9wdXAocG9wdXBfMDIwNjFiN2M0MGIyNDJiODhhZDU2MzU5MjIyMzg2YzEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmU0ZjU3OGE2NTYwNDVkNDlhNWI3NTY5ZDRjZWQxMjUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDk4NTE4MSwtNzEuMDgwNTM0OTJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjQ0NTBkNjBmOWM4NDUxMTk5NDM0MmYyMmM4ZTMxZDkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmU0NmJmNDg0MTQyNDY2ZDgyNGQ4YTk2ZWFjOWZlZDkgPSAkKCc8ZGl2IGlkPSJodG1sXzJlNDZiZjQ4NDE0MjQ2NmQ4MjRkOGE5NmVhYzlmZWQ5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYWNrIEJheSBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY0NDUwZDYwZjljODQ1MTE5OTQzNDJmMjJjOGUzMWQ5LnNldENvbnRlbnQoaHRtbF8yZTQ2YmY0ODQxNDI0NjZkODI0ZDhhOTZlYWM5ZmVkOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mZTRmNTc4YTY1NjA0NWQ0OWE1Yjc1NjlkNGNlZDEyNS5iaW5kUG9wdXAocG9wdXBfNjQ0NTBkNjBmOWM4NDUxMTk5NDM0MmYyMmM4ZTMxZDkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2E2YzgyOTY1NWNjNDEwZGJmN2E1ZDg0MzRhOGI3NDUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDkwOTQ1NywtNzEuMDY5MDMxNDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWEwMzFjNjVkNjQ4NGY1YzlkZmI3YTZlZjM1YzQzYzcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmQzM2JiZGIxMDFjNGY4OWFmMzQ3Y2VjOWNmNjRhNTggPSAkKCc8ZGl2IGlkPSJodG1sX2ZkMzNiYmRiMTAxYzRmODlhZjM0N2NlYzljZjY0YTU4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXkgVmlsbGFnZSBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzlhMDMxYzY1ZDY0ODRmNWM5ZGZiN2E2ZWYzNWM0M2M3LnNldENvbnRlbnQoaHRtbF9mZDMzYmJkYjEwMWM0Zjg5YWYzNDdjZWM5Y2Y2NGE1OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83YTZjODI5NjU1Y2M0MTBkYmY3YTVkODQzNGE4Yjc0NS5iaW5kUG9wdXAocG9wdXBfOWEwMzFjNjVkNjQ4NGY1YzlkZmI3YTZlZjM1YzQzYzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjVkMjA1N2EwYmZhNDEzN2I0NmE4ZmQ1ZDM2YTU2YzEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNTcwNDEzMiwtNzEuMDY4MjYxNzddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTYxMDcyOTc5YjdiNGI5MzlhYzQyMmE3YjkxMzkyMTkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWU1NzU2NjE0Y2MwNDNkOGI0N2E4Y2I1ZGJkNjdmNWEgPSAkKCc8ZGl2IGlkPSJodG1sXzFlNTc1NjYxNGNjMDQzZDhiNDdhOGNiNWRiZDY3ZjVhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CZWFjb24gSGlsbCBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzE2MTA3Mjk3OWI3YjRiOTM5YWM0MjJhN2I5MTM5MjE5LnNldENvbnRlbnQoaHRtbF8xZTU3NTY2MTRjYzA0M2Q4YjQ3YThjYjVkYmQ2N2Y1YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iNWQyMDU3YTBiZmE0MTM3YjQ2YThmZDVkMzZhNTZjMS5iaW5kUG9wdXAocG9wdXBfMTYxMDcyOTc5YjdiNGI5MzlhYzQyMmE3YjkxMzkyMTkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDFkNzM1MDczYjVhNGUyMTgyZjVjNDIyMGMyMTU3YjYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDU0NDc5NCwtNzEuMTU1MDI1ODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzU4MTVjYzFkY2FlNGFmZGFjODFmOWQxNThhNmI4N2UgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjNlYzdmMTg2NzkwNDA4MGE0YWEzNTZkOTQ1NzEyYTAgPSAkKCc8ZGl2IGlkPSJodG1sX2YzZWM3ZjE4Njc5MDQwODBhNGFhMzU2ZDk0NTcxMmEwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CcmlnaHRvbiBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzc1ODE1Y2MxZGNhZTRhZmRhYzgxZjlkMTU4YTZiODdlLnNldENvbnRlbnQoaHRtbF9mM2VjN2YxODY3OTA0MDgwYTRhYTM1NmQ5NDU3MTJhMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kMWQ3MzUwNzNiNWE0ZTIxODJmNWM0MjIwYzIxNTdiNi5iaW5kUG9wdXAocG9wdXBfNzU4MTVjYzFkY2FlNGFmZGFjODFmOWQxNThhNmI4N2UpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2NhODQ0NmQ2OTk3NDEwMGJjYzU1ZmU1NDNkZWY4ZWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNzkwNDQ0NSwtNzEuMDYzNjY0NDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjcyOGVkZmUwZGNhNGE5Yjk0MjNiMDJkOThmMjIzNmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmRiYTU0NTkzMjFjNGZiMzhlOTJmNmQ1M2Q1YTJjMmYgPSAkKCc8ZGl2IGlkPSJodG1sX2ZkYmE1NDU5MzIxYzRmYjM4ZTkyZjZkNTNkNWEyYzJmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGFybGVzdG93biBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY3MjhlZGZlMGRjYTRhOWI5NDIzYjAyZDk4ZjIyMzZmLnNldENvbnRlbnQoaHRtbF9mZGJhNTQ1OTMyMWM0ZmIzOGU5MmY2ZDUzZDVhMmMyZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jY2E4NDQ2ZDY5OTc0MTAwYmNjNTVmZTU0M2RlZjhlYS5iaW5kUG9wdXAocG9wdXBfNjcyOGVkZmUwZGNhNGE5Yjk0MjNiMDJkOThmMjIzNmYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTZlNGUwMTVjMTgxNGRkNWExNzc5MTc2YThiZWZmMzIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDkwMTg2NCwtNzEuMDYxNjYxNDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjg2ODRiNjRkZDRhNDJjMjk0YzllYWMxODZhZWExZjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDE5ZDk3NGVhYWE4NDZiMGIyYTIxNzE5MDFmMGMzZGYgPSAkKCc8ZGl2IGlkPSJodG1sXzAxOWQ5NzRlYWFhODQ2YjBiMmEyMTcxOTAxZjBjM2RmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluYXRvd24gQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mODY4NGI2NGRkNGE0MmMyOTRjOWVhYzE4NmFlYTFmNi5zZXRDb250ZW50KGh0bWxfMDE5ZDk3NGVhYWE4NDZiMGIyYTIxNzE5MDFmMGMzZGYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNTZlNGUwMTVjMTgxNGRkNWExNzc5MTc2YThiZWZmMzIuYmluZFBvcHVwKHBvcHVwX2Y4Njg0YjY0ZGQ0YTQyYzI5NGM5ZWFjMTg2YWVhMWY2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBhMTU3MmU3Y2UwZDQyOTFhY2Y1NjNiNmRlZjQzMDMyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMjk4NDUxNDUsLTcxLjA2MzQ1NzMzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzVmOGZhYzQ3MjE1OTQ5N2RiNmRhYWQ2ODYzMDQzZTljKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Q4NThlY2ZiZTVjNjQ4ZDM4ZWE4N2Y3MzNhZjZlODI3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhjNGFkZWYwNTQ2MTRjNDNiYzM1ZGE0NTg5NDRkOTA3ID0gJCgnPGRpdiBpZD0iaHRtbF84YzRhZGVmMDU0NjE0YzQzYmMzNWRhNDU4OTQ0ZDkwNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9yY2hlc3RlciBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q4NThlY2ZiZTVjNjQ4ZDM4ZWE4N2Y3MzNhZjZlODI3LnNldENvbnRlbnQoaHRtbF84YzRhZGVmMDU0NjE0YzQzYmMzNWRhNDU4OTQ0ZDkwNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wYTE1NzJlN2NlMGQ0MjkxYWNmNTYzYjZkZWY0MzAzMi5iaW5kUG9wdXAocG9wdXBfZDg1OGVjZmJlNWM2NDhkMzhlYTg3ZjczM2FmNmU4MjcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjM4MmQ1ZjdmYjQwNGQ3ZGI1NGUwNTRjYzA4ZWI4MTcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNTU1ODQzMSwtNzEuMDU3NjUwMjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODJiNDAxNjkwODExNDJiNmJjMDVhNjA4NzI3OTE3OTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMGE0OTFmMjQ0ZmU4NDJlZTllZTQyNWNjZDM5NDg3NjggPSAkKCc8ZGl2IGlkPSJodG1sXzBhNDkxZjI0NGZlODQyZWU5ZWU0MjVjY2QzOTQ4NzY4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3dudG93biBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgyYjQwMTY5MDgxMTQyYjZiYzA1YTYwODcyNzkxNzkxLnNldENvbnRlbnQoaHRtbF8wYTQ5MWYyNDRmZTg0MmVlOWVlNDI1Y2NkMzk0ODc2OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mMzgyZDVmN2ZiNDA0ZDdkYjU0ZTA1NGNjMDhlYjgxNy5iaW5kUG9wdXAocG9wdXBfODJiNDAxNjkwODExNDJiNmJjMDVhNjA4NzI3OTE3OTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjE5ZDc0MDBjNTAxNGMwMTkzNjMyZDllMGI2N2JmMDggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNzMwMzQyOSwtNzEuMDMwODE0MjZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2Y3ZmQyMDdjMDVkNDRmYTgyYjNhOWI2OGEwZWE3NzIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjZjYzQ3NjA4NWM4NDNkMWI1NWU1YzI1MmMwMDcwNTAgPSAkKCc8ZGl2IGlkPSJodG1sXzI2Y2M0NzYwODVjODQzZDFiNTVlNWMyNTJjMDA3MDUwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IEJvc3RvbiBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdmN2ZkMjA3YzA1ZDQ0ZmE4MmIzYTliNjhhMGVhNzcyLnNldENvbnRlbnQoaHRtbF8yNmNjNDc2MDg1Yzg0M2QxYjU1ZTVjMjUyYzAwNzA1MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yMTlkNzQwMGM1MDE0YzAxOTM2MzJkOWUwYjY3YmYwOC5iaW5kUG9wdXAocG9wdXBfN2Y3ZmQyMDdjMDVkNDRmYTgyYjNhOWI2OGEwZWE3NzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWU0ZjQxZjJjNGRhNDQxMmIwNDI0MzE0MjZhMTlmYTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDQ3NTgzOTk5OTk5OTYsLTcxLjA5NjExMzg5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzVmOGZhYzQ3MjE1OTQ5N2RiNmRhYWQ2ODYzMDQzZTljKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBiNGVlYWZlZmE2ZjQ4Yzc5Yjg2NTY2NjU2M2ZkZTE1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY3M2ZkNzRmODBhZjQxYTc4NTM3NDYyMDgwM2JjODU1ID0gJCgnPGRpdiBpZD0iaHRtbF82NzNmZDc0ZjgwYWY0MWE3ODUzNzQ2MjA4MDNiYzg1NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmVud2F5IENsdXN0ZXIgNDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGI0ZWVhZmVmYTZmNDhjNzliODY1NjY2NTYzZmRlMTUuc2V0Q29udGVudChodG1sXzY3M2ZkNzRmODBhZjQxYTc4NTM3NDYyMDgwM2JjODU1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VlNGY0MWYyYzRkYTQ0MTJiMDQyNDMxNDI2YTE5ZmEyLmJpbmRQb3B1cChwb3B1cF8wYjRlZWFmZWZhNmY0OGM3OWI4NjU2NjY1NjNmZGUxNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lYzE4NTAxYThjMmU0ZDUzOWVlYzJjN2I2NzM3MzBlNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjMwNzc1OTU4LC03MS4xMTUwOTY4M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81ZjhmYWM0NzIxNTk0OTdkYjZkYWFkNjg2MzA0M2U5Yyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMDkwZDI5NTkyOWY0YzM3YjkyZDhlM2Y4ZGM4NDliNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83NTAwMTkxN2YwMGE0OGNiOGNlOTYxMDAyNzMyZWM4MSA9ICQoJzxkaXYgaWQ9Imh0bWxfNzUwMDE5MTdmMDBhNDhjYjhjZTk2MTAwMjczMmVjODEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkphbWFpY2EgUGxhaW4gQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hMDkwZDI5NTkyOWY0YzM3YjkyZDhlM2Y4ZGM4NDliNi5zZXRDb250ZW50KGh0bWxfNzUwMDE5MTdmMDBhNDhjYjhjZTk2MTAwMjczMmVjODEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZWMxODUwMWE4YzJlNGQ1MzllZWMyYzdiNjczNzMwZTUuYmluZFBvcHVwKHBvcHVwX2EwOTBkMjk1OTI5ZjRjMzdiOTJkOGUzZjhkYzg0OWI2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzAyOTE2YzkyYTk4ZjRlZjJiNGRlZDAxNmQ0YzA5MTI4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzUwOTc0MjcsLTcxLjA1NzgyNzUxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzVmOGZhYzQ3MjE1OTQ5N2RiNmRhYWQ2ODYzMDQzZTljKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I5ZGY0M2I4N2FlYzRiZWJiZTBjZjRmNWU1N2VhOTBlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzYxZDNhNTRmYjJkZDQ1Mjg4ZTI5ZjdlMjgwNGEwMTQ1ID0gJCgnPGRpdiBpZD0iaHRtbF82MWQzYTU0ZmIyZGQ0NTI4OGUyOWY3ZTI4MDRhMDE0NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGVhdGhlciBEaXN0cmljdCBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I5ZGY0M2I4N2FlYzRiZWJiZTBjZjRmNWU1N2VhOTBlLnNldENvbnRlbnQoaHRtbF82MWQzYTU0ZmIyZGQ0NTI4OGUyOWY3ZTI4MDRhMDE0NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wMjkxNmM5MmE5OGY0ZWYyYjRkZWQwMTZkNGMwOTEyOC5iaW5kUG9wdXAocG9wdXBfYjlkZjQzYjg3YWVjNGJlYmJlMGNmNGY1ZTU3ZWE5MGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWVlMmQ1YTc1MDg4NDJiZGJiZGRiZmZlNjIxNzA3MTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zMzg2MDAxOSwtNzEuMTA1MTAyMDZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGZkMjQ4M2QzN2YxNDRmOWFlODkxMTkyNGFkYzgzMWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGFhZTU3MGQwOGFiNDcwYThlZTk0NGYzYmRkNThlOWYgPSAkKCc8ZGl2IGlkPSJodG1sXzRhYWU1NzBkMDhhYjQ3MGE4ZWU5NDRmM2JkZDU4ZTlmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Mb25nd29vZCBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBmZDI0ODNkMzdmMTQ0ZjlhZTg5MTE5MjRhZGM4MzFiLnNldENvbnRlbnQoaHRtbF80YWFlNTcwZDA4YWI0NzBhOGVlOTQ0ZjNiZGQ1OGU5Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lZWUyZDVhNzUwODg0MmJkYmJkZGJmZmU2MjE3MDcxMi5iaW5kUG9wdXAocG9wdXBfMGZkMjQ4M2QzN2YxNDRmOWFlODkxMTkyNGFkYzgzMWIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODljNzVhNzg1ZDZlNGVkYTgzZDY0N2NiMDY3MDBmNzUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4yNzY5OTYzNSwtNzEuMDkxNDQ1MTFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWEzOGRkMzNkNTU4NGI2NTg5MGFhNGI3ZGQxOGE0ZjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzAzOWEwZmE2YTYyNDg1M2FkZmU1ODIwMjAzMTM3NTggPSAkKCc8ZGl2IGlkPSJodG1sXzMwMzlhMGZhNmE2MjQ4NTNhZGZlNTgyMDIwMzEzNzU4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NYXR0YXBhbiBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FhMzhkZDMzZDU1ODRiNjU4OTBhYTRiN2RkMThhNGYzLnNldENvbnRlbnQoaHRtbF8zMDM5YTBmYTZhNjI0ODUzYWRmZTU4MjAyMDMxMzc1OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84OWM3NWE3ODVkNmU0ZWRhODNkNjQ3Y2IwNjcwMGY3NS5iaW5kUG9wdXAocG9wdXBfYWEzOGRkMzNkNTU4NGI2NTg5MGFhNGI3ZGQxOGE0ZjMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmMxZmVjNTc4ZTEzNDdiMjhkMjMxZTBhMTI4NjEzNjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zMzA3NDQ2MywtNzEuMTAyMjQ4NjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWQ1M2U1Nzc2MjAwNGMyNmI0NDAwODljNWMyYjE1ZDYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjY4OWE0YmZlNjM3NGUxZThhZTQ3MzZlMjViYjUxZGUgPSAkKCc8ZGl2IGlkPSJodG1sX2I2ODlhNGJmZTYzNzRlMWU4YWU0NzM2ZTI1YmI1MWRlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NaXNzaW9uIEhpbGwgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hZDUzZTU3NzYyMDA0YzI2YjQ0MDA4OWM1YzJiMTVkNi5zZXRDb250ZW50KGh0bWxfYjY4OWE0YmZlNjM3NGUxZThhZTQ3MzZlMjViYjUxZGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZmMxZmVjNTc4ZTEzNDdiMjhkMjMxZTBhMTI4NjEzNjkuYmluZFBvcHVwKHBvcHVwX2FkNTNlNTc3NjIwMDRjMjZiNDQwMDg5YzVjMmIxNWQ2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzg3MDIwZjVlZGMxNzQ2OGI4OWU0MzU4NTNmOTlkNWNjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzY1NDU2MDIsLTcxLjA1Mzg1NzEyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzVmOGZhYzQ3MjE1OTQ5N2RiNmRhYWQ2ODYzMDQzZTljKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzM5ZjYzY2M2NWMyMjQ1ZDY4MjAzM2FiMWY4MTUxZDgxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzEyMTU3Y2JhNGEwZjRjOWFiM2I5MGQ5M2U1N2EyZmZmID0gJCgnPGRpdiBpZD0iaHRtbF8xMjE1N2NiYTRhMGY0YzlhYjNiOTBkOTNlNTdhMmZmZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggRW5kIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzlmNjNjYzY1YzIyNDVkNjgyMDMzYWIxZjgxNTFkODEuc2V0Q29udGVudChodG1sXzEyMTU3Y2JhNGEwZjRjOWFiM2I5MGQ5M2U1N2EyZmZmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg3MDIwZjVlZGMxNzQ2OGI4OWU0MzU4NTNmOTlkNWNjLmJpbmRQb3B1cChwb3B1cF8zOWY2M2NjNjVjMjI0NWQ2ODIwMzNhYjFmODE1MWQ4MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80Zjk5MmM0ZGEyYjk0ZmY5OGRjZDVhNjEwYWQ0ZDA2ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjI4MjUxNTIzLC03MS4xMjY2NjE4NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjMDBiNWViIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzAwYjVlYiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81ZjhmYWM0NzIxNTk0OTdkYjZkYWFkNjg2MzA0M2U5Yyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hM2U0MTA1YzMzZTU0YWFiYWI2ZGQ0Zjc1NWM2NGNiNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mMjZlMzM4ODg5MTM0ZTAzOWRiYjQ3OTQzNGEzNTNhZiA9ICQoJzxkaXYgaWQ9Imh0bWxfZjI2ZTMzODg4OTEzNGUwMzlkYmI0Nzk0MzRhMzUzYWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvc2xpbmRhbGUgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hM2U0MTA1YzMzZTU0YWFiYWI2ZGQ0Zjc1NWM2NGNiNy5zZXRDb250ZW50KGh0bWxfZjI2ZTMzODg4OTEzNGUwMzlkYmI0Nzk0MzRhMzUzYWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGY5OTJjNGRhMmI5NGZmOThkY2Q1YTYxMGFkNGQwNmQuYmluZFBvcHVwKHBvcHVwX2EzZTQxMDVjMzNlNTRhYWJhYjZkZDRmNzU1YzY0Y2I3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzE0OGU1NDBkZjJmMTQ0Y2RhMDAzZjcyMWE4YzFhYzMxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzE4NTA4MTcsLTcxLjA4NjY0NDE4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzVmOGZhYzQ3MjE1OTQ5N2RiNmRhYWQ2ODYzMDQzZTljKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgxZDVkOTMwMDFhNzRiOWM5N2IzMWE5MTY2MDhlNzAxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU4YWJiZjBlNmNmOTRlMWM5ODY4NTZlNzIzMGNlNzgxID0gJCgnPGRpdiBpZD0iaHRtbF81OGFiYmYwZTZjZjk0ZTFjOTg2ODU2ZTcyMzBjZTc4MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um94YnVyeSBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgxZDVkOTMwMDFhNzRiOWM5N2IzMWE5MTY2MDhlNzAxLnNldENvbnRlbnQoaHRtbF81OGFiYmYwZTZjZjk0ZTFjOTg2ODU2ZTcyMzBjZTc4MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xNDhlNTQwZGYyZjE0NGNkYTAwM2Y3MjFhOGMxYWMzMS5iaW5kUG9wdXAocG9wdXBfODFkNWQ5MzAwMWE3NGI5Yzk3YjMxYTkxNjYwOGU3MDEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTllM2NmYjVjMzU5NDAxZDljOGM1ZmQyOTVmMzZlNmMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zMzQ3MDY3NCwtNzEuMDU2NDAzMjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNWY4ZmFjNDcyMTU5NDk3ZGI2ZGFhZDY4NjMwNDNlOWMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWFhZGYwMmIyMDc2NGJkYmEzMTVkYmEzZTg5ZTFjMjUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjllZjFmNDcyM2MxNDc5NDkxYmQ1YzQ4MzU0NDM2NTYgPSAkKCc8ZGl2IGlkPSJodG1sXzI5ZWYxZjQ3MjNjMTQ3OTQ5MWJkNWM0ODM1NDQzNjU2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Tb3V0aCBCb3N0b24gQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xYWFkZjAyYjIwNzY0YmRiYTMxNWRiYTNlODllMWMyNS5zZXRDb250ZW50KGh0bWxfMjllZjFmNDcyM2MxNDc5NDkxYmQ1YzQ4MzU0NDM2NTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTllM2NmYjVjMzU5NDAxZDljOGM1ZmQyOTVmMzZlNmMuYmluZFBvcHVwKHBvcHVwXzFhYWRmMDJiMjA3NjRiZGJhMzE1ZGJhM2U4OWUxYzI1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2E2NjQ4NDU2MTE0MzQ1NGM5ZjMyN2VkZjBiNmJlNjNjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzQ2NDA4MDcsLTcxLjA0MTcyNjQxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzVmOGZhYzQ3MjE1OTQ5N2RiNmRhYWQ2ODYzMDQzZTljKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA0MDA2MDRmNTZhYTRkZmNiODFiOWVhY2I3YzhmOTNmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y1OGI5MTQ4YTVjZjRlZmNiZjk5ODdhM2Y4MDFkMjFlID0gJCgnPGRpdiBpZD0iaHRtbF9mNThiOTE0OGE1Y2Y0ZWZjYmY5OTg3YTNmODAxZDIxZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U291dGggQm9zdG9uIFdhdGVyZnJvbnQgQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNDAwNjA0ZjU2YWE0ZGZjYjgxYjllYWNiN2M4ZjkzZi5zZXRDb250ZW50KGh0bWxfZjU4YjkxNDhhNWNmNGVmY2JmOTk4N2EzZjgwMWQyMWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTY2NDg0NTYxMTQzNDU0YzlmMzI3ZWRmMGI2YmU2M2MuYmluZFBvcHVwKHBvcHVwXzA0MDA2MDRmNTZhYTRkZmNiODFiOWVhY2I3YzhmOTNmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBjZGFjOWViMjA2YTQ4OGViYWI1MWNjOWI2MzQ4MGMyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzQxMzQxNjQsLTcxLjA3MTM2ODc2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzVmOGZhYzQ3MjE1OTQ5N2RiNmRhYWQ2ODYzMDQzZTljKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI0YTIxY2Q1ODMyNTQxYjJhNzFmYjBjNWU5N2E5ODVhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJhZTIzMzVlZTc1MDQwMWU4NThkZTE5ZDMzZDkyYjcxID0gJCgnPGRpdiBpZD0iaHRtbF8yYWUyMzM1ZWU3NTA0MDFlODU4ZGUxOWQzM2Q5MmI3MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U291dGggRW5kIENsdXN0ZXIgNDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjRhMjFjZDU4MzI1NDFiMmE3MWZiMGM1ZTk3YTk4NWEuc2V0Q29udGVudChodG1sXzJhZTIzMzVlZTc1MDQwMWU4NThkZTE5ZDMzZDkyYjcxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBjZGFjOWViMjA2YTQ4OGViYWI1MWNjOWI2MzQ4MGMyLmJpbmRQb3B1cChwb3B1cF8yNGEyMWNkNTgzMjU0MWIyYTcxZmIwYzVlOTdhOTg1YSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kY2Y5YzI4OTgxNzk0ZmI0YjYzZWE2MmQwNzhhMzJkZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjM2NDUzOTE3LC03MS4wNjU0MjcxNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81ZjhmYWM0NzIxNTk0OTdkYjZkYWFkNjg2MzA0M2U5Yyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80Mzg0MzU2ZWExODI0MmUzYWQwNDliZmRiOGRmZjEwOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wZjVmOGU3NDY5MTE0MDkzYTYxZWM0NWVlZjYxZDA1ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfMGY1ZjhlNzQ2OTExNDA5M2E2MWVjNDVlZWY2MWQwNWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3QgRW5kIENsdXN0ZXIgNDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDM4NDM1NmVhMTgyNDJlM2FkMDQ5YmZkYjhkZmYxMDguc2V0Q29udGVudChodG1sXzBmNWY4ZTc0NjkxMTQwOTNhNjFlYzQ1ZWVmNjFkMDVlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2RjZjljMjg5ODE3OTRmYjRiNjNlYTYyZDA3OGEzMmRlLmJpbmRQb3B1cChwb3B1cF80Mzg0MzU2ZWExODI0MmUzYWQwNDliZmRiOGRmZjEwOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNDhiNjgwMGUyYmI0ZTFiODRmNDZkN2NhMjIxMzI5NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjI4MDYzMjIxLC03MS4xNjAwMjYwOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjMDBiNWViIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzAwYjVlYiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81ZjhmYWM0NzIxNTk0OTdkYjZkYWFkNjg2MzA0M2U5Yyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80MTZkZGRlNmVlMmM0MzhjOTgzOWQ4ZmNhMTA4Y2M0YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81NTI2M2Q3NzNkOTQ0YzRkOWRhYzgxMTRhYzI2MjM5OCA9ICQoJzxkaXYgaWQ9Imh0bWxfNTUyNjNkNzczZDk0NGM0ZDlkYWM4MTE0YWMyNjIzOTgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3QgUm94YnVyeSBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQxNmRkZGU2ZWUyYzQzOGM5ODM5ZDhmY2ExMDhjYzRjLnNldENvbnRlbnQoaHRtbF81NTI2M2Q3NzNkOTQ0YzRkOWRhYzgxMTRhYzI2MjM5OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yNDhiNjgwMGUyYmI0ZTFiODRmNDZkN2NhMjIxMzI5Ny5iaW5kUG9wdXAocG9wdXBfNDE2ZGRkZTZlZTJjNDM4Yzk4MzlkOGZjYTEwOGNjNGMpOwoKICAgICAgICAgICAgCiAgICAgICAgCjwvc2NyaXB0Pg==\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>", 
                        "text/plain": "<folium.folium.Map at 0x7f7544f08828>"
                    }, 
                    "execution_count": 98
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "## Examine Clusters", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "boston_merged.loc[boston_merged['Cluster Labels'] == 0, boston_merged.columns[[2] + list(range(6, boston_merged.shape[1]))]]", 
            "cell_type": "code", 
            "execution_count": 99, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>23</th>\n      <td>Allston</td>\n      <td>Rental Car Location</td>\n      <td>Donut Shop</td>\n      <td>Convenience Store</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Smoke Shop</td>\n      <td>Liquor Store</td>\n      <td>Plaza</td>\n      <td>Pizza Place</td>\n      <td>Dance Studio</td>\n      <td>Deli / Bodega</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "   Neighbourhood 1st Most Common Venue 2nd Most Common Venue  \\\n23       Allston   Rental Car Location            Donut Shop   \n\n   3rd Most Common Venue   4th Most Common Venue 5th Most Common Venue  \\\n23     Convenience Store  Thrift / Vintage Store            Smoke Shop   \n\n   6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n23          Liquor Store                 Plaza           Pizza Place   \n\n   9th Most Common Venue 10th Most Common Venue  \n23          Dance Studio          Deli / Bodega  "
                    }, 
                    "execution_count": 99
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "boston_merged.loc[boston_merged['Cluster Labels'] == 1, boston_merged.columns[[2] + list(range(6, boston_merged.shape[1]))]]", 
            "cell_type": "code", 
            "execution_count": 100, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>19</th>\n      <td>Mattapan</td>\n      <td>Ice Cream Shop</td>\n      <td>Furniture / Home Store</td>\n      <td>French Restaurant</td>\n      <td>Food Court</td>\n      <td>Flower Shop</td>\n      <td>Fish Market</td>\n      <td>Fast Food Restaurant</td>\n      <td>Farmers Market</td>\n      <td>Falafel Restaurant</td>\n      <td>Event Space</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "   Neighbourhood 1st Most Common Venue   2nd Most Common Venue  \\\n19      Mattapan        Ice Cream Shop  Furniture / Home Store   \n\n   3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n19     French Restaurant            Food Court           Flower Shop   \n\n   6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n19           Fish Market  Fast Food Restaurant        Farmers Market   \n\n   9th Most Common Venue 10th Most Common Venue  \n19    Falafel Restaurant            Event Space  "
                    }, 
                    "execution_count": 100
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "boston_merged.loc[boston_merged['Cluster Labels'] == 2, boston_merged.columns[[2] + list(range(6, boston_merged.shape[1]))]]", 
            "cell_type": "code", 
            "execution_count": 101, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>17</th>\n      <td>Brighton</td>\n      <td>Bakery</td>\n      <td>Pizza Place</td>\n      <td>Dry Cleaner</td>\n      <td>Sandwich Place</td>\n      <td>Greek Restaurant</td>\n      <td>Chinese Restaurant</td>\n      <td>Bank</td>\n      <td>Caf\u00e9</td>\n      <td>Dance Studio</td>\n      <td>Bar</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Charlestown</td>\n      <td>Pizza Place</td>\n      <td>Convenience Store</td>\n      <td>Coffee Shop</td>\n      <td>Thai Restaurant</td>\n      <td>Pet Store</td>\n      <td>Deli / Bodega</td>\n      <td>Dog Run</td>\n      <td>Donut Shop</td>\n      <td>National Park</td>\n      <td>Caf\u00e9</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Mission Hill</td>\n      <td>Pizza Place</td>\n      <td>Donut Shop</td>\n      <td>Sushi Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Light Rail Station</td>\n      <td>Indian Restaurant</td>\n      <td>Pub</td>\n      <td>Caribbean Restaurant</td>\n      <td>Burrito Place</td>\n      <td>Burger Joint</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Roslindale</td>\n      <td>Ice Cream Shop</td>\n      <td>Sandwich Place</td>\n      <td>Plaza</td>\n      <td>Farmers Market</td>\n      <td>Bar</td>\n      <td>Greek Restaurant</td>\n      <td>Grocery Store</td>\n      <td>Bakery</td>\n      <td>Pizza Place</td>\n      <td>Deli / Bodega</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>South Boston</td>\n      <td>Climbing Gym</td>\n      <td>Train</td>\n      <td>Chinese Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bar</td>\n      <td>Dive Bar</td>\n      <td>Grocery Store</td>\n      <td>Gym</td>\n      <td>Gym / Fitness Center</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>West Roxbury</td>\n      <td>Grocery Store</td>\n      <td>Pizza Place</td>\n      <td>Pharmacy</td>\n      <td>Pub</td>\n      <td>Park</td>\n      <td>Salon / Barbershop</td>\n      <td>Flower Shop</td>\n      <td>Liquor Store</td>\n      <td>Bank</td>\n      <td>Automotive Shop</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "   Neighbourhood 1st Most Common Venue 2nd Most Common Venue  \\\n17      Brighton                Bakery           Pizza Place   \n12   Charlestown           Pizza Place     Convenience Store   \n2   Mission Hill           Pizza Place            Donut Shop   \n0     Roslindale        Ice Cream Shop        Sandwich Place   \n22  South Boston          Climbing Gym                 Train   \n18  West Roxbury         Grocery Store           Pizza Place   \n\n   3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n17           Dry Cleaner        Sandwich Place      Greek Restaurant   \n12           Coffee Shop       Thai Restaurant             Pet Store   \n2       Sushi Restaurant   American Restaurant    Light Rail Station   \n0                  Plaza        Farmers Market                   Bar   \n22    Chinese Restaurant        Sandwich Place                   Bar   \n18              Pharmacy                   Pub                  Park   \n\n   6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n17    Chinese Restaurant                  Bank                  Caf\u00e9   \n12         Deli / Bodega               Dog Run            Donut Shop   \n2      Indian Restaurant                   Pub  Caribbean Restaurant   \n0       Greek Restaurant         Grocery Store                Bakery   \n22              Dive Bar         Grocery Store                   Gym   \n18    Salon / Barbershop           Flower Shop          Liquor Store   \n\n   9th Most Common Venue 10th Most Common Venue  \n17          Dance Studio                    Bar  \n12         National Park                   Caf\u00e9  \n2          Burrito Place           Burger Joint  \n0            Pizza Place          Deli / Bodega  \n22  Gym / Fitness Center             Donut Shop  \n18                  Bank        Automotive Shop  "
                    }, 
                    "execution_count": 101
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "boston_merged.loc[boston_merged['Cluster Labels'] == 3, boston_merged.columns[[2] + list(range(6, boston_merged.shape[1]))]]", 
            "cell_type": "code", 
            "execution_count": 102, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>7</th>\n      <td>North End</td>\n      <td>Italian Restaurant</td>\n      <td>Park</td>\n      <td>Seafood Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Bakery</td>\n      <td>Wine Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Market</td>\n      <td>Grocery Store</td>\n      <td>Coffee Shop</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "  Neighbourhood 1st Most Common Venue 2nd Most Common Venue  \\\n7     North End    Italian Restaurant                  Park   \n\n  3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n7    Seafood Restaurant           Pizza Place                Bakery   \n\n  6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n7             Wine Shop                  Caf\u00e9                Market   \n\n  9th Most Common Venue 10th Most Common Venue  \n7         Grocery Store            Coffee Shop  "
                    }, 
                    "execution_count": 102
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "boston_merged.loc[boston_merged['Cluster Labels'] == 4, boston_merged.columns[[2] + list(range(6, boston_merged.shape[1]))]]", 
            "cell_type": "code", 
            "execution_count": 104, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>10</th>\n      <td>Back Bay</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Italian Restaurant</td>\n      <td>Clothing Store</td>\n      <td>Seafood Restaurant</td>\n      <td>Hotel</td>\n      <td>Ice Cream Shop</td>\n      <td>Gym</td>\n      <td>Cosmetics Shop</td>\n      <td>Sporting Goods Shop</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Bay Village</td>\n      <td>Theater</td>\n      <td>Spa</td>\n      <td>Hotel</td>\n      <td>Sandwich Place</td>\n      <td>American Restaurant</td>\n      <td>Seafood Restaurant</td>\n      <td>Performing Arts Venue</td>\n      <td>Coffee Shop</td>\n      <td>Steakhouse</td>\n      <td>Italian Restaurant</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>Beacon Hill</td>\n      <td>Pizza Place</td>\n      <td>Playground</td>\n      <td>Italian Restaurant</td>\n      <td>Park</td>\n      <td>Plaza</td>\n      <td>French Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>Gift Shop</td>\n      <td>Gourmet Shop</td>\n      <td>Pub</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Chinatown</td>\n      <td>Chinese Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Bakery</td>\n      <td>Sushi Restaurant</td>\n      <td>Bubble Tea Shop</td>\n      <td>Theater</td>\n      <td>Hotel Bar</td>\n      <td>Performing Arts Venue</td>\n      <td>Dim Sum Restaurant</td>\n      <td>Hotel</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>Dorchester</td>\n      <td>Vietnamese Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Pub</td>\n      <td>Clothing Store</td>\n      <td>Cajun / Creole Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Bar</td>\n      <td>Liquor Store</td>\n      <td>Supermarket</td>\n      <td>Discount Store</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Downtown</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Italian Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>New American Restaurant</td>\n      <td>Historic Site</td>\n      <td>Salad Place</td>\n      <td>Park</td>\n      <td>Falafel Restaurant</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>East Boston</td>\n      <td>Park</td>\n      <td>Pizza Place</td>\n      <td>Gym</td>\n      <td>Airport Terminal</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>Convenience Store</td>\n      <td>Brazilian Restaurant</td>\n      <td>Colombian Restaurant</td>\n      <td>Rental Car Location</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>Fenway</td>\n      <td>American Restaurant</td>\n      <td>Sports Bar</td>\n      <td>Coffee Shop</td>\n      <td>Lounge</td>\n      <td>Pizza Place</td>\n      <td>Hotel</td>\n      <td>Caf\u00e9</td>\n      <td>Baseball Field</td>\n      <td>Thai Restaurant</td>\n      <td>Restaurant</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Jamaica Plain</td>\n      <td>Pub</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Bakery</td>\n      <td>Art Gallery</td>\n      <td>Coffee Shop</td>\n      <td>Record Shop</td>\n      <td>Bar</td>\n      <td>Taco Place</td>\n      <td>Liquor Store</td>\n      <td>Seafood Restaurant</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Leather District</td>\n      <td>Bakery</td>\n      <td>Chinese Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Food Truck</td>\n      <td>American Restaurant</td>\n      <td>Vegetarian / Vegan Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>Gym</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Longwood</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Falafel Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bus Stop</td>\n      <td>Gym</td>\n      <td>Gastropub</td>\n      <td>Frozen Yogurt Shop</td>\n      <td>Theater</td>\n      <td>Fast Food Restaurant</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Roxbury</td>\n      <td>Fried Chicken Joint</td>\n      <td>Fast Food Restaurant</td>\n      <td>Basketball Court</td>\n      <td>Electronics Store</td>\n      <td>Museum</td>\n      <td>Shopping Mall</td>\n      <td>Grocery Store</td>\n      <td>Gym</td>\n      <td>Gym / Fitness Center</td>\n      <td>Skating Rink</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>South Boston Waterfront</td>\n      <td>Seafood Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>Donut Shop</td>\n      <td>Steakhouse</td>\n      <td>Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Mexican Restaurant</td>\n      <td>Shipping Store</td>\n      <td>Italian Restaurant</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>South End</td>\n      <td>American Restaurant</td>\n      <td>Wine Bar</td>\n      <td>Mexican Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Pet Store</td>\n      <td>Park</td>\n      <td>Italian Restaurant</td>\n      <td>Deli / Bodega</td>\n      <td>Gastropub</td>\n      <td>Gym / Fitness Center</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>West End</td>\n      <td>Sandwich Place</td>\n      <td>Pizza Place</td>\n      <td>Hotel</td>\n      <td>Donut Shop</td>\n      <td>Bar</td>\n      <td>Caf\u00e9</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Gym / Fitness Center</td>\n      <td>Sports Bar</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "              Neighbourhood  1st Most Common Venue   2nd Most Common Venue  \\\n10                 Back Bay    American Restaurant             Coffee Shop   \n4               Bay Village                Theater                     Spa   \n14              Beacon Hill            Pizza Place              Playground   \n6                 Chinatown     Chinese Restaurant        Asian Restaurant   \n20               Dorchester  Vietnamese Restaurant                    Caf\u00e9   \n15                 Downtown            Coffee Shop          Sandwich Place   \n11              East Boston                   Park             Pizza Place   \n16                   Fenway    American Restaurant              Sports Bar   \n1             Jamaica Plain                    Pub  Thrift / Vintage Store   \n5          Leather District                 Bakery      Chinese Restaurant   \n3                  Longwood            Coffee Shop                    Caf\u00e9   \n8                   Roxbury    Fried Chicken Joint    Fast Food Restaurant   \n21  South Boston Waterfront     Seafood Restaurant     American Restaurant   \n9                 South End    American Restaurant                Wine Bar   \n13                 West End         Sandwich Place             Pizza Place   \n\n   3rd Most Common Venue 4th Most Common Venue      5th Most Common Venue  \\\n10    Italian Restaurant        Clothing Store         Seafood Restaurant   \n4                  Hotel        Sandwich Place        American Restaurant   \n14    Italian Restaurant                  Park                      Plaza   \n6                 Bakery      Sushi Restaurant            Bubble Tea Shop   \n20                   Pub        Clothing Store  Cajun / Creole Restaurant   \n15    Italian Restaurant   American Restaurant                      Hotel   \n11                   Gym      Airport Terminal        American Restaurant   \n16           Coffee Shop                Lounge                Pizza Place   \n1                 Bakery           Art Gallery                Coffee Shop   \n5       Asian Restaurant           Coffee Shop             Sandwich Place   \n3     Falafel Restaurant        Sandwich Place                   Bus Stop   \n8       Basketball Court     Electronics Store                     Museum   \n21                 Hotel            Donut Shop                 Steakhouse   \n9     Mexican Restaurant           Pizza Place                  Pet Store   \n13                 Hotel            Donut Shop                        Bar   \n\n      6th Most Common Venue  7th Most Common Venue  \\\n10                    Hotel         Ice Cream Shop   \n4        Seafood Restaurant  Performing Arts Venue   \n14        French Restaurant       Sushi Restaurant   \n6                   Theater              Hotel Bar   \n20               Donut Shop                    Bar   \n15  New American Restaurant          Historic Site   \n11                    Hotel      Convenience Store   \n16                    Hotel                   Caf\u00e9   \n1               Record Shop                    Bar   \n5                Food Truck    American Restaurant   \n3                       Gym              Gastropub   \n8             Shopping Mall          Grocery Store   \n21               Restaurant         Sandwich Place   \n9                      Park     Italian Restaurant   \n13                     Caf\u00e9    American Restaurant   \n\n            8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n10                            Gym        Cosmetics Shop    Sporting Goods Shop  \n4                     Coffee Shop            Steakhouse     Italian Restaurant  \n14                      Gift Shop          Gourmet Shop                    Pub  \n6           Performing Arts Venue    Dim Sum Restaurant                  Hotel  \n20                   Liquor Store           Supermarket         Discount Store  \n15                    Salad Place                  Park     Falafel Restaurant  \n11           Brazilian Restaurant  Colombian Restaurant    Rental Car Location  \n16                 Baseball Field       Thai Restaurant             Restaurant  \n1                      Taco Place          Liquor Store     Seafood Restaurant  \n5   Vegetarian / Vegan Restaurant      Sushi Restaurant                    Gym  \n3              Frozen Yogurt Shop               Theater   Fast Food Restaurant  \n8                             Gym  Gym / Fitness Center           Skating Rink  \n21             Mexican Restaurant        Shipping Store     Italian Restaurant  \n9                   Deli / Bodega             Gastropub   Gym / Fitness Center  \n13                    Coffee Shop  Gym / Fitness Center             Sports Bar  "
                    }, 
                    "execution_count": 104
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Load Neighborhood Health Statistics Manually Created CSV file:\u00b6\n(https://github.com/jfmccarthy2/Coursera_Capstone/blob/master/Boston%20Neighborhood%20%20Health%20Statistics%20Relative.csv", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "", 
            "cell_type": "code", 
            "execution_count": null, 
            "outputs": [], 
            "metadata": {}
        }, 
        {
            "source": "import pandas as pd\nhealth_statistics = pd.read_html(\"https://github.com/jfmccarthy2/Coursera_Capstone/blob/master/Boston%20Neighborhood%20%20Health%20Statistics%20Relative.csv\")\ndf_health_statistics=health_statistics[0]\ndf_health_statistics.sort_values('Neighbourhood')\ndf_health_statistics", 
            "cell_type": "code", 
            "execution_count": 105, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Unnamed: 0</th>\n      <th>Neighbourhood</th>\n      <th>Population Relative to IQR</th>\n      <th>Ethnicity</th>\n      <th>Age &lt; 18 %</th>\n      <th>Age &gt; 65 %</th>\n      <th>Limited English %</th>\n      <th>Education &lt; High School %</th>\n      <th>Unemployment %</th>\n      <th>Income &gt; $56,000</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>NaN</td>\n      <td>Allston</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>NaN</td>\n      <td>Back Bay</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>NaN</td>\n      <td>Bay Village</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>NaN</td>\n      <td>Beacon Hill</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>NaN</td>\n      <td>Brighton</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>NaN</td>\n      <td>Charlestown</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>NaN</td>\n      <td>Chinatown</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>NaN</td>\n      <td>Dorchester</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>NaN</td>\n      <td>Downtown</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>NaN</td>\n      <td>East Boston</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>NaN</td>\n      <td>Fenway</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>NaN</td>\n      <td>Jamaica Plain</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>NaN</td>\n      <td>Leather District</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>NaN</td>\n      <td>Longwood</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>NaN</td>\n      <td>Mattapan</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>NaN</td>\n      <td>Mission Hill</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>NaN</td>\n      <td>North End</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>NaN</td>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>NaN</td>\n      <td>Roxbury</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>NaN</td>\n      <td>South Boston</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>NaN</td>\n      <td>South Boston Waterfront</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>NaN</td>\n      <td>South End</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>NaN</td>\n      <td>West End</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>NaN</td>\n      <td>West Roxbury</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>24 rows \u00d7 41 columns</p>\n</div>", 
                        "text/plain": "    Unnamed: 0            Neighbourhood  Population Relative to IQR  \\\n0          NaN                  Allston                           0   \n1          NaN                 Back Bay                           0   \n2          NaN              Bay Village                          -1   \n3          NaN              Beacon Hill                           0   \n4          NaN                 Brighton                           1   \n5          NaN              Charlestown                           0   \n6          NaN                Chinatown                           0   \n7          NaN               Dorchester                           1   \n8          NaN                 Downtown                          -1   \n9          NaN              East Boston                           0   \n10         NaN                   Fenway                           0   \n11         NaN            Jamaica Plain                           0   \n12         NaN         Leather District                          -1   \n13         NaN                 Longwood                          -1   \n14         NaN                 Mattapan                           0   \n15         NaN             Mission Hill                           0   \n16         NaN                North End                           0   \n17         NaN               Roslindale                           0   \n18         NaN                  Roxbury                           1   \n19         NaN             South Boston                           0   \n20         NaN  South Boston Waterfront                          -1   \n21         NaN                South End                           0   \n22         NaN                 West End                          -1   \n23         NaN             West Roxbury                           0   \n\n    Ethnicity  Age < 18 %  Age > 65 %  Limited English %  \\\n0           1          -1           0                  0   \n1           1          -1           1                 -1   \n2           1          -1           1                 -1   \n3           1          -1           1                 -1   \n4           1          -1           0                  0   \n5           1           1           0                 -1   \n6           1          -1           0                  0   \n7           0           1          -1                  1   \n8           1          -1           1                 -1   \n9           0           1          -1                  1   \n10          1          -1          -1                  1   \n11          1           0           0                 -1   \n12          1          -1           0                  0   \n13          1          -1           1                 -1   \n14         -1           1           1                  0   \n15          1          -1           1                 -1   \n16          1          -1           1                 -1   \n17          1           1           0                 -1   \n18         -1           1           0                  1   \n19          1          -1          -1                 -1   \n20          1          -1          -1                 -1   \n21          1          -1           0                  0   \n22          1          -1           1                 -1   \n23          1           1           1                 -1   \n\n    Education < High School %  Unemployment %  Income > $56,000  ...  \\\n0                          -1              -1                -1  ...   \n1                          -1              -1                 1  ...   \n2                          -1              -1                 1  ...   \n3                          -1              -1                 1  ...   \n4                          -1              -1                -1  ...   \n5                          -1              -1                 1  ...   \n6                           1              -1                 0  ...   \n7                           1               1                -1  ...   \n8                          -1              -1                 1  ...   \n9                           1               0                -1  ...   \n10                         -1               0                -1  ...   \n11                         -1              -1                 1  ...   \n12                          1              -1                 0  ...   \n13                         -1              -1                 1  ...   \n14                          1               1                -1  ...   \n15                         -1              -1                 1  ...   \n16                         -1              -1                 1  ...   \n17                         -1               0                 1  ...   \n18                          1               1                -1  ...   \n19                         -1              -1                 1  ...   \n20                         -1              -1                 1  ...   \n21                          1              -1                 0  ...   \n22                         -1              -1                 1  ...   \n23                         -1              -1                 1  ...   \n\n    Gonorrhea Inc  Injury ER  Assault Injury ER  Mental Hospitalizations  \\\n0              -1         -1                 -1                        1   \n1              -1         -1                 -1                        1   \n2              -1         -1                 -1                        1   \n3              -1         -1                 -1                        1   \n4              -1         -1                 -1                        1   \n5               0         -1                 -1                       -1   \n6               1          1                  1                        1   \n7               1          1                  1                       -1   \n8              -1         -1                 -1                        1   \n9              -1         -1                 -1                       -1   \n10             -1         -1                 -1                        1   \n11              0         -1                 -1                        0   \n12              1          1                  1                        1   \n13             -1         -1                 -1                        1   \n14              1          1                  1                        0   \n15             -1         -1                 -1                        1   \n16             -1         -1                 -1                        1   \n17             -1          0                 -1                       -1   \n18              1          1                  1                        0   \n19             -1         -1                 -1                       -1   \n20             -1         -1                 -1                       -1   \n21              1          1                  1                        1   \n22             -1         -1                 -1                        1   \n23             -1         -1                 -1                       -1   \n\n    Anxiety %  Sadness %  Subtance Misuse Mortality  Opoid Mortality  \\\n0           0          0                         -1               -1   \n1           0         -1                         -1               -1   \n2           0         -1                         -1               -1   \n3           0         -1                         -1               -1   \n4           0          0                         -1               -1   \n5           0         -1                          1                0   \n6           0          0                          0                0   \n7           0          1                          1                1   \n8           0         -1                         -1               -1   \n9           0          0                          0                0   \n10          0          0                          0                0   \n11          0          0                          0                0   \n12          0          0                          0                0   \n13          0         -1                         -1               -1   \n14          0          0                          0                0   \n15          0         -1                         -1               -1   \n16          0         -1                         -1               -1   \n17          0          0                          0                0   \n18          1          0                          0                0   \n19          0          0                          1                0   \n20          0          0                          1                0   \n21          0          0                          0                0   \n22          0         -1                         -1               -1   \n23          0          0                          0                0   \n\n    Life Expectancy  All Cause Mortality  \n0                 1                   -1  \n1                 1                   -1  \n2                 1                   -1  \n3                 1                   -1  \n4                 1                    0  \n5                 0                    0  \n6                 0                    0  \n7                 0                    0  \n8                 1                   -1  \n9                 0                    0  \n10                0                   -1  \n11                0                    0  \n12                0                    0  \n13                1                   -1  \n14                0                    0  \n15                1                   -1  \n16                1                   -1  \n17                0                    0  \n18               -1                    1  \n19               -1                    1  \n20               -1                    1  \n21                0                    0  \n22                1                   -1  \n23                0                    0  \n\n[24 rows x 41 columns]"
                    }, 
                    "execution_count": 105
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "df_health_statistics = df_health_statistics.drop(df_health_statistics.columns[[0]], axis=1)  # df.columns is zero-based pd.Index \ndf_health_statistics", 
            "cell_type": "code", 
            "execution_count": 106, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Population Relative to IQR</th>\n      <th>Ethnicity</th>\n      <th>Age &lt; 18 %</th>\n      <th>Age &gt; 65 %</th>\n      <th>Limited English %</th>\n      <th>Education &lt; High School %</th>\n      <th>Unemployment %</th>\n      <th>Income &gt; $56,000</th>\n      <th>Mold</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Allston</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Back Bay</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Bay Village</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Beacon Hill</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Brighton</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Charlestown</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Chinatown</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Dorchester</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Downtown</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>East Boston</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>Fenway</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>Jamaica Plain</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Leather District</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>Longwood</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>Mattapan</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Mission Hill</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>North End</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>Roxbury</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>South Boston</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>South Boston Waterfront</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>South End</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>West End</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>West Roxbury</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>24 rows \u00d7 40 columns</p>\n</div>", 
                        "text/plain": "              Neighbourhood  Population Relative to IQR  Ethnicity  \\\n0                   Allston                           0          1   \n1                  Back Bay                           0          1   \n2               Bay Village                          -1          1   \n3               Beacon Hill                           0          1   \n4                  Brighton                           1          1   \n5               Charlestown                           0          1   \n6                 Chinatown                           0          1   \n7                Dorchester                           1          0   \n8                  Downtown                          -1          1   \n9               East Boston                           0          0   \n10                   Fenway                           0          1   \n11            Jamaica Plain                           0          1   \n12         Leather District                          -1          1   \n13                 Longwood                          -1          1   \n14                 Mattapan                           0         -1   \n15             Mission Hill                           0          1   \n16                North End                           0          1   \n17               Roslindale                           0          1   \n18                  Roxbury                           1         -1   \n19             South Boston                           0          1   \n20  South Boston Waterfront                          -1          1   \n21                South End                           0          1   \n22                 West End                          -1          1   \n23             West Roxbury                           0          1   \n\n    Age < 18 %  Age > 65 %  Limited English %  Education < High School %  \\\n0           -1           0                  0                         -1   \n1           -1           1                 -1                         -1   \n2           -1           1                 -1                         -1   \n3           -1           1                 -1                         -1   \n4           -1           0                  0                         -1   \n5            1           0                 -1                         -1   \n6           -1           0                  0                          1   \n7            1          -1                  1                          1   \n8           -1           1                 -1                         -1   \n9            1          -1                  1                          1   \n10          -1          -1                  1                         -1   \n11           0           0                 -1                         -1   \n12          -1           0                  0                          1   \n13          -1           1                 -1                         -1   \n14           1           1                  0                          1   \n15          -1           1                 -1                         -1   \n16          -1           1                 -1                         -1   \n17           1           0                 -1                         -1   \n18           1           0                  1                          1   \n19          -1          -1                 -1                         -1   \n20          -1          -1                 -1                         -1   \n21          -1           0                  0                          1   \n22          -1           1                 -1                         -1   \n23           1           1                 -1                         -1   \n\n    Unemployment %  Income > $56,000  Mold  ...  Gonorrhea Inc  Injury ER  \\\n0               -1                -1     1  ...             -1         -1   \n1               -1                 1     1  ...             -1         -1   \n2               -1                 1     1  ...             -1         -1   \n3               -1                 1     1  ...             -1         -1   \n4               -1                -1     1  ...             -1         -1   \n5               -1                 1    -1  ...              0         -1   \n6               -1                 0     1  ...              1          1   \n7                1                -1     1  ...              1          1   \n8               -1                 1     1  ...             -1         -1   \n9                0                -1     1  ...             -1         -1   \n10               0                -1    -1  ...             -1         -1   \n11              -1                 1     0  ...              0         -1   \n12              -1                 0     1  ...              1          1   \n13              -1                 1     1  ...             -1         -1   \n14               1                -1     0  ...              1          1   \n15              -1                 1     1  ...             -1         -1   \n16              -1                 1     1  ...             -1         -1   \n17               0                 1    -1  ...             -1          0   \n18               1                -1     1  ...              1          1   \n19              -1                 1     0  ...             -1         -1   \n20              -1                 1     0  ...             -1         -1   \n21              -1                 0     1  ...              1          1   \n22              -1                 1     1  ...             -1         -1   \n23              -1                 1    -1  ...             -1         -1   \n\n    Assault Injury ER  Mental Hospitalizations  Anxiety %  Sadness %  \\\n0                  -1                        1          0          0   \n1                  -1                        1          0         -1   \n2                  -1                        1          0         -1   \n3                  -1                        1          0         -1   \n4                  -1                        1          0          0   \n5                  -1                       -1          0         -1   \n6                   1                        1          0          0   \n7                   1                       -1          0          1   \n8                  -1                        1          0         -1   \n9                  -1                       -1          0          0   \n10                 -1                        1          0          0   \n11                 -1                        0          0          0   \n12                  1                        1          0          0   \n13                 -1                        1          0         -1   \n14                  1                        0          0          0   \n15                 -1                        1          0         -1   \n16                 -1                        1          0         -1   \n17                 -1                       -1          0          0   \n18                  1                        0          1          0   \n19                 -1                       -1          0          0   \n20                 -1                       -1          0          0   \n21                  1                        1          0          0   \n22                 -1                        1          0         -1   \n23                 -1                       -1          0          0   \n\n    Subtance Misuse Mortality  Opoid Mortality  Life Expectancy  \\\n0                          -1               -1                1   \n1                          -1               -1                1   \n2                          -1               -1                1   \n3                          -1               -1                1   \n4                          -1               -1                1   \n5                           1                0                0   \n6                           0                0                0   \n7                           1                1                0   \n8                          -1               -1                1   \n9                           0                0                0   \n10                          0                0                0   \n11                          0                0                0   \n12                          0                0                0   \n13                         -1               -1                1   \n14                          0                0                0   \n15                         -1               -1                1   \n16                         -1               -1                1   \n17                          0                0                0   \n18                          0                0               -1   \n19                          1                0               -1   \n20                          1                0               -1   \n21                          0                0                0   \n22                         -1               -1                1   \n23                          0                0                0   \n\n    All Cause Mortality  \n0                    -1  \n1                    -1  \n2                    -1  \n3                    -1  \n4                     0  \n5                     0  \n6                     0  \n7                     0  \n8                    -1  \n9                     0  \n10                   -1  \n11                    0  \n12                    0  \n13                   -1  \n14                    0  \n15                   -1  \n16                   -1  \n17                    0  \n18                    1  \n19                    1  \n20                    1  \n21                    0  \n22                   -1  \n23                    0  \n\n[24 rows x 40 columns]"
                    }, 
                    "execution_count": 106
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Cluster Neighbourhoods based on health metrics using k-means", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "from sklearn.cluster import KMeans\n\n# set number of clusters\nkclusters =5\n\ndf_health_statistics_clustering = df_health_statistics.drop('Neighbourhood',1)\n\n# run k-means clustering\nkmeans = KMeans(n_clusters=kclusters, random_state=0).fit(df_health_statistics_clustering)\n\n# check cluster labels generated for each row in the dataframe\nkmeans.labels_[0:23] ", 
            "cell_type": "code", 
            "execution_count": 107, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "array([0, 1, 1, 1, 0, 4, 2, 3, 1, 3, 0, 4, 2, 1, 3, 1, 1, 4, 3, 4, 4, 2,\n       1], dtype=int32)"
                    }, 
                    "execution_count": 107
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Create a new dataframe that includes the cluster as well as health metrics for each neighborhood", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "# add clustering labels\ndf_health_statistics.insert(0, 'Cluster Labels', kmeans.labels_)\ndf_health_statistics\ndf_health_merged=df_centroids_filtered.sort_values('Neighbourhood')\ndf_health_merged\n# merge boston_grouped with df_centroids_filtered to add latitude/longitude for each neighborhood\ndf_health_statistics_merged = df_health_statistics.join(df_health_merged.set_index('Neighbourhood'), on='Neighbourhood')\n\n#df_health_statistics_merged # check the last columns!\ndf_health_statistics_merged\n", 
            "cell_type": "code", 
            "execution_count": 108, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Cluster Labels</th>\n      <th>Neighbourhood</th>\n      <th>Population Relative to IQR</th>\n      <th>Ethnicity</th>\n      <th>Age &lt; 18 %</th>\n      <th>Age &gt; 65 %</th>\n      <th>Limited English %</th>\n      <th>Education &lt; High School %</th>\n      <th>Unemployment %</th>\n      <th>Income &gt; $56,000</th>\n      <th>...</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n      <th>index</th>\n      <th>Borough</th>\n      <th>Latitude</th>\n      <th>Longitude</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>0</td>\n      <td>Allston</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>23</td>\n      <td>Boston</td>\n      <td>42.358396</td>\n      <td>-71.128562</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1</td>\n      <td>Back Bay</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>10</td>\n      <td>Boston</td>\n      <td>42.349852</td>\n      <td>-71.080535</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>1</td>\n      <td>Bay Village</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>4</td>\n      <td>Boston</td>\n      <td>42.349095</td>\n      <td>-71.069031</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>1</td>\n      <td>Beacon Hill</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>14</td>\n      <td>Boston</td>\n      <td>42.357041</td>\n      <td>-71.068262</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>0</td>\n      <td>Brighton</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>17</td>\n      <td>Boston</td>\n      <td>42.345448</td>\n      <td>-71.155026</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>4</td>\n      <td>Charlestown</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>12</td>\n      <td>Boston</td>\n      <td>42.379044</td>\n      <td>-71.063664</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>2</td>\n      <td>Chinatown</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>6</td>\n      <td>Boston</td>\n      <td>42.349019</td>\n      <td>-71.061661</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>3</td>\n      <td>Dorchester</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>20</td>\n      <td>Boston</td>\n      <td>42.298451</td>\n      <td>-71.063457</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>1</td>\n      <td>Downtown</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>15</td>\n      <td>Boston</td>\n      <td>42.355584</td>\n      <td>-71.057650</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>3</td>\n      <td>East Boston</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>11</td>\n      <td>Boston</td>\n      <td>42.373034</td>\n      <td>-71.030814</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>0</td>\n      <td>Fenway</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>16</td>\n      <td>Boston</td>\n      <td>42.344758</td>\n      <td>-71.096114</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>4</td>\n      <td>Jamaica Plain</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>Boston</td>\n      <td>42.307760</td>\n      <td>-71.115097</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>2</td>\n      <td>Leather District</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>5</td>\n      <td>Boston</td>\n      <td>42.350974</td>\n      <td>-71.057828</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>1</td>\n      <td>Longwood</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>3</td>\n      <td>Boston</td>\n      <td>42.338600</td>\n      <td>-71.105102</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>3</td>\n      <td>Mattapan</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>19</td>\n      <td>Boston</td>\n      <td>42.276996</td>\n      <td>-71.091445</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>1</td>\n      <td>Mission Hill</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>2</td>\n      <td>Boston</td>\n      <td>42.330745</td>\n      <td>-71.102249</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>1</td>\n      <td>North End</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>7</td>\n      <td>Boston</td>\n      <td>42.365456</td>\n      <td>-71.053857</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>4</td>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>Boston</td>\n      <td>42.282515</td>\n      <td>-71.126662</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>3</td>\n      <td>Roxbury</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>8</td>\n      <td>Boston</td>\n      <td>42.318508</td>\n      <td>-71.086644</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>4</td>\n      <td>South Boston</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>22</td>\n      <td>Boston</td>\n      <td>42.334707</td>\n      <td>-71.056403</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>4</td>\n      <td>South Boston Waterfront</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>21</td>\n      <td>Boston</td>\n      <td>42.346408</td>\n      <td>-71.041726</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>2</td>\n      <td>South End</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>9</td>\n      <td>Boston</td>\n      <td>42.341342</td>\n      <td>-71.071369</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>1</td>\n      <td>West End</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>13</td>\n      <td>Boston</td>\n      <td>42.364539</td>\n      <td>-71.065427</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>4</td>\n      <td>West Roxbury</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>18</td>\n      <td>Boston</td>\n      <td>42.280632</td>\n      <td>-71.160026</td>\n    </tr>\n  </tbody>\n</table>\n<p>24 rows \u00d7 45 columns</p>\n</div>", 
                        "text/plain": "    Cluster Labels            Neighbourhood  Population Relative to IQR  \\\n0                0                  Allston                           0   \n1                1                 Back Bay                           0   \n2                1              Bay Village                          -1   \n3                1              Beacon Hill                           0   \n4                0                 Brighton                           1   \n5                4              Charlestown                           0   \n6                2                Chinatown                           0   \n7                3               Dorchester                           1   \n8                1                 Downtown                          -1   \n9                3              East Boston                           0   \n10               0                   Fenway                           0   \n11               4            Jamaica Plain                           0   \n12               2         Leather District                          -1   \n13               1                 Longwood                          -1   \n14               3                 Mattapan                           0   \n15               1             Mission Hill                           0   \n16               1                North End                           0   \n17               4               Roslindale                           0   \n18               3                  Roxbury                           1   \n19               4             South Boston                           0   \n20               4  South Boston Waterfront                          -1   \n21               2                South End                           0   \n22               1                 West End                          -1   \n23               4             West Roxbury                           0   \n\n    Ethnicity  Age < 18 %  Age > 65 %  Limited English %  \\\n0           1          -1           0                  0   \n1           1          -1           1                 -1   \n2           1          -1           1                 -1   \n3           1          -1           1                 -1   \n4           1          -1           0                  0   \n5           1           1           0                 -1   \n6           1          -1           0                  0   \n7           0           1          -1                  1   \n8           1          -1           1                 -1   \n9           0           1          -1                  1   \n10          1          -1          -1                  1   \n11          1           0           0                 -1   \n12          1          -1           0                  0   \n13          1          -1           1                 -1   \n14         -1           1           1                  0   \n15          1          -1           1                 -1   \n16          1          -1           1                 -1   \n17          1           1           0                 -1   \n18         -1           1           0                  1   \n19          1          -1          -1                 -1   \n20          1          -1          -1                 -1   \n21          1          -1           0                  0   \n22          1          -1           1                 -1   \n23          1           1           1                 -1   \n\n    Education < High School %  Unemployment %  Income > $56,000  ...  \\\n0                          -1              -1                -1  ...   \n1                          -1              -1                 1  ...   \n2                          -1              -1                 1  ...   \n3                          -1              -1                 1  ...   \n4                          -1              -1                -1  ...   \n5                          -1              -1                 1  ...   \n6                           1              -1                 0  ...   \n7                           1               1                -1  ...   \n8                          -1              -1                 1  ...   \n9                           1               0                -1  ...   \n10                         -1               0                -1  ...   \n11                         -1              -1                 1  ...   \n12                          1              -1                 0  ...   \n13                         -1              -1                 1  ...   \n14                          1               1                -1  ...   \n15                         -1              -1                 1  ...   \n16                         -1              -1                 1  ...   \n17                         -1               0                 1  ...   \n18                          1               1                -1  ...   \n19                         -1              -1                 1  ...   \n20                         -1              -1                 1  ...   \n21                          1              -1                 0  ...   \n22                         -1              -1                 1  ...   \n23                         -1              -1                 1  ...   \n\n    Anxiety %  Sadness %  Subtance Misuse Mortality  Opoid Mortality  \\\n0           0          0                         -1               -1   \n1           0         -1                         -1               -1   \n2           0         -1                         -1               -1   \n3           0         -1                         -1               -1   \n4           0          0                         -1               -1   \n5           0         -1                          1                0   \n6           0          0                          0                0   \n7           0          1                          1                1   \n8           0         -1                         -1               -1   \n9           0          0                          0                0   \n10          0          0                          0                0   \n11          0          0                          0                0   \n12          0          0                          0                0   \n13          0         -1                         -1               -1   \n14          0          0                          0                0   \n15          0         -1                         -1               -1   \n16          0         -1                         -1               -1   \n17          0          0                          0                0   \n18          1          0                          0                0   \n19          0          0                          1                0   \n20          0          0                          1                0   \n21          0          0                          0                0   \n22          0         -1                         -1               -1   \n23          0          0                          0                0   \n\n    Life Expectancy  All Cause Mortality  index  Borough   Latitude  Longitude  \n0                 1                   -1     23   Boston  42.358396 -71.128562  \n1                 1                   -1     10   Boston  42.349852 -71.080535  \n2                 1                   -1      4   Boston  42.349095 -71.069031  \n3                 1                   -1     14   Boston  42.357041 -71.068262  \n4                 1                    0     17   Boston  42.345448 -71.155026  \n5                 0                    0     12   Boston  42.379044 -71.063664  \n6                 0                    0      6   Boston  42.349019 -71.061661  \n7                 0                    0     20   Boston  42.298451 -71.063457  \n8                 1                   -1     15   Boston  42.355584 -71.057650  \n9                 0                    0     11   Boston  42.373034 -71.030814  \n10                0                   -1     16   Boston  42.344758 -71.096114  \n11                0                    0      1   Boston  42.307760 -71.115097  \n12                0                    0      5   Boston  42.350974 -71.057828  \n13                1                   -1      3   Boston  42.338600 -71.105102  \n14                0                    0     19   Boston  42.276996 -71.091445  \n15                1                   -1      2   Boston  42.330745 -71.102249  \n16                1                   -1      7   Boston  42.365456 -71.053857  \n17                0                    0      0   Boston  42.282515 -71.126662  \n18               -1                    1      8   Boston  42.318508 -71.086644  \n19               -1                    1     22   Boston  42.334707 -71.056403  \n20               -1                    1     21   Boston  42.346408 -71.041726  \n21                0                    0      9   Boston  42.341342 -71.071369  \n22                1                   -1     13   Boston  42.364539 -71.065427  \n23                0                    0     18   Boston  42.280632 -71.160026  \n\n[24 rows x 45 columns]"
                    }, 
                    "execution_count": 108
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Visualize resulting health metric clusters overlayed on map", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "# Matplotlib and associated plotting modules\nimport matplotlib.cm as cm\nimport matplotlib.colors as colors\n\n# create map\nmap_clusters = folium.Map(location=[latitude, longitude], zoom_start=11)\n\n# set color scheme for the clusters\nx = np.arange(kclusters)\nys = [i + x + (i*x)**2 for i in range(kclusters)]\ncolors_array = cm.rainbow(np.linspace(0, 1, len(ys)))\nrainbow = [colors.rgb2hex(i) for i in colors_array]\n\n# add markers to the map\nmarkers_colors = []\nfor lat, lon, poi, cluster in zip(df_health_statistics_merged['Latitude'], df_health_statistics_merged['Longitude'], df_health_statistics_merged['Neighbourhood'],df_health_statistics_merged['Cluster Labels']):\n    label = folium.Popup(str(poi) + ' Cluster ' + str(cluster), parse_html=True)\n    folium.CircleMarker(\n        [lat, lon],\n        radius=5,\n        popup=label,\n        color=rainbow[cluster-1],\n        fill=True,\n        fill_color=rainbow[cluster-1],\n        fill_opacity=0.7).add_to(map_clusters)\nmap_clusters", 
            "cell_type": "code", 
            "execution_count": 109, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2QzY2U0NzdhMzUwYTRhNWE4NmFlNmJiNGZmYTk0MTNmIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9kM2NlNDc3YTM1MGE0YTVhODZhZTZiYjRmZmE5NDEzZiA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9kM2NlNDc3YTM1MGE0YTVhODZhZTZiYjRmZmE5NDEzZicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDIuMzYwMjUzNCwtNzEuMDU4MjkxMl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfYThmNThhY2NhOTE5NDFhNjlmOGE2NjAxZWUzYTFmYTQgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQ1MjVlYTA4MjU2NjQ4Mzk4NjhjYTJlMjQyYmRhMmQzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzU4Mzk2MjAwMDAwMDEsLTcxLjEyODU2MjI4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2QzY2U0NzdhMzUwYTRhNWE4NmFlNmJiNGZmYTk0MTNmKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZiNDEzOTdmMDQ3NzQ4Y2JiMzJkYTAyNzE3N2ViMWQ0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzgxMTc1MDQ1NTBmZDRkYTZiOGVhNDg2ZGUwZDVhNjVmID0gJCgnPGRpdiBpZD0iaHRtbF84MTE3NTA0NTUwZmQ0ZGE2YjhlYTQ4NmRlMGQ1YTY1ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWxsc3RvbiBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZiNDEzOTdmMDQ3NzQ4Y2JiMzJkYTAyNzE3N2ViMWQ0LnNldENvbnRlbnQoaHRtbF84MTE3NTA0NTUwZmQ0ZGE2YjhlYTQ4NmRlMGQ1YTY1Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80NTI1ZWEwODI1NjY0ODM5ODY4Y2EyZTI0MmJkYTJkMy5iaW5kUG9wdXAocG9wdXBfZmI0MTM5N2YwNDc3NDhjYmIzMmRhMDI3MTc3ZWIxZDQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTVhNmI1OGJjNTI2NDNkY2JhZDA5N2QzMjVhYjA1ZmIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDk4NTE4MSwtNzEuMDgwNTM0OTJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGRjZDgzNjI0ODE0NDJjMTg1OWI3NmU1YWNhZWFmMDUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjk1ZjYzZWE0ZjNiNDUxZThjMzEzMTM1YzQ4NGYzOWMgPSAkKCc8ZGl2IGlkPSJodG1sX2Y5NWY2M2VhNGYzYjQ1MWU4YzMxMzEzNWM0ODRmMzljIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYWNrIEJheSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBkY2Q4MzYyNDgxNDQyYzE4NTliNzZlNWFjYWVhZjA1LnNldENvbnRlbnQoaHRtbF9mOTVmNjNlYTRmM2I0NTFlOGMzMTMxMzVjNDg0ZjM5Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hNWE2YjU4YmM1MjY0M2RjYmFkMDk3ZDMyNWFiMDVmYi5iaW5kUG9wdXAocG9wdXBfMGRjZDgzNjI0ODE0NDJjMTg1OWI3NmU1YWNhZWFmMDUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2RhMzI5MmE2MjM2NGJjY2E0NWFkZGFjMmVmZWEwMGQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDkwOTQ1NywtNzEuMDY5MDMxNDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWU5MzVhNWQ3MjEyNGI2OGJlOGUzMjgxYzcyYmIzNDcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTgwNTllNTA4OTEzNDFlZjg0ODdiNGFlNTlmNmQzODEgPSAkKCc8ZGl2IGlkPSJodG1sXzE4MDU5ZTUwODkxMzQxZWY4NDg3YjRhZTU5ZjZkMzgxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXkgVmlsbGFnZSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzllOTM1YTVkNzIxMjRiNjhiZThlMzI4MWM3MmJiMzQ3LnNldENvbnRlbnQoaHRtbF8xODA1OWU1MDg5MTM0MWVmODQ4N2I0YWU1OWY2ZDM4MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jZGEzMjkyYTYyMzY0YmNjYTQ1YWRkYWMyZWZlYTAwZC5iaW5kUG9wdXAocG9wdXBfOWU5MzVhNWQ3MjEyNGI2OGJlOGUzMjgxYzcyYmIzNDcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2QwZWIwN2Q2ZDYxNGNlNDhiNzcwZjNiZjQ2M2ZjMTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNTcwNDEzMiwtNzEuMDY4MjYxNzddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2M3MGVlZTNlYjllNGY2YmJiODA3ZWRmZTkzNTMyZDIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTY3ODMzYTU3ZDMyNDM3M2JiMjZkN2I1OGQwMDY4ZDYgPSAkKCc8ZGl2IGlkPSJodG1sXzU2NzgzM2E1N2QzMjQzNzNiYjI2ZDdiNThkMDA2OGQ2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CZWFjb24gSGlsbCBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NjNzBlZWUzZWI5ZTRmNmJiYjgwN2VkZmU5MzUzMmQyLnNldENvbnRlbnQoaHRtbF81Njc4MzNhNTdkMzI0MzczYmIyNmQ3YjU4ZDAwNjhkNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jZDBlYjA3ZDZkNjE0Y2U0OGI3NzBmM2JmNDYzZmMxNi5iaW5kUG9wdXAocG9wdXBfY2M3MGVlZTNlYjllNGY2YmJiODA3ZWRmZTkzNTMyZDIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODlhYjA3ZmNhNzdkNDY1NzkzMTE3YjBhNjg3MzM3OGMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDU0NDc5NCwtNzEuMTU1MDI1ODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2Y0ZTZkMjFlOWYxNDU3OWFkZjIwM2EyYWEzZjUzYjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODEzZDZlMDQzOTZlNGY5Y2FkZTM3MzZiZDU3OTRmZTggPSAkKCc8ZGl2IGlkPSJodG1sXzgxM2Q2ZTA0Mzk2ZTRmOWNhZGUzNzM2YmQ1Nzk0ZmU4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CcmlnaHRvbiBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdmNGU2ZDIxZTlmMTQ1NzlhZGYyMDNhMmFhM2Y1M2I2LnNldENvbnRlbnQoaHRtbF84MTNkNmUwNDM5NmU0ZjljYWRlMzczNmJkNTc5NGZlOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84OWFiMDdmY2E3N2Q0NjU3OTMxMTdiMGE2ODczMzc4Yy5iaW5kUG9wdXAocG9wdXBfN2Y0ZTZkMjFlOWYxNDU3OWFkZjIwM2EyYWEzZjUzYjYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2UyZjRiNDg5ZmM2NDIyYmE1MGViZjk2ZTI5ODE4MzggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNzkwNDQ0NSwtNzEuMDYzNjY0NDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDI0OTlmYjFjMmRmNGEyYWE2M2ZiODBlYjY1ODI2M2YgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGEzZmY2NDE1YjUzNDExODg3OThmN2M4YzhlZmNlYTkgPSAkKCc8ZGl2IGlkPSJodG1sXzhhM2ZmNjQxNWI1MzQxMTg4Nzk4ZjdjOGM4ZWZjZWE5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGFybGVzdG93biBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQyNDk5ZmIxYzJkZjRhMmFhNjNmYjgwZWI2NTgyNjNmLnNldENvbnRlbnQoaHRtbF84YTNmZjY0MTViNTM0MTE4ODc5OGY3YzhjOGVmY2VhOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jZTJmNGI0ODlmYzY0MjJiYTUwZWJmOTZlMjk4MTgzOC5iaW5kUG9wdXAocG9wdXBfNDI0OTlmYjFjMmRmNGEyYWE2M2ZiODBlYjY1ODI2M2YpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTI3ZGIzZDk3NDU0NGJkNzg2OTZkNDEyYTdlMmJlMDEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDkwMTg2NCwtNzEuMDYxNjYxNDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWI0MTcxYjI5OGEwNDYyOGI3ZjQzOGY1NGJiMjljMDQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzc3ZDQ1NTdmNTliNGNkZGE5YmUxMDk3NTcwN2FkNmEgPSAkKCc8ZGl2IGlkPSJodG1sXzM3N2Q0NTU3ZjU5YjRjZGRhOWJlMTA5NzU3MDdhZDZhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluYXRvd24gQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81YjQxNzFiMjk4YTA0NjI4YjdmNDM4ZjU0YmIyOWMwNC5zZXRDb250ZW50KGh0bWxfMzc3ZDQ1NTdmNTliNGNkZGE5YmUxMDk3NTcwN2FkNmEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTI3ZGIzZDk3NDU0NGJkNzg2OTZkNDEyYTdlMmJlMDEuYmluZFBvcHVwKHBvcHVwXzViNDE3MWIyOThhMDQ2MjhiN2Y0MzhmNTRiYjI5YzA0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc3Mzk0MjlmNzZmYzRkYTc5OTlkNGNiZDQyMGVkOGM0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMjk4NDUxNDUsLTcxLjA2MzQ1NzMzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2QzY2U0NzdhMzUwYTRhNWE4NmFlNmJiNGZmYTk0MTNmKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Q4MDNhZWIwMjRmZDRhNWFhYmE1ZGNlMDQ3NDYxMjQ1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhmMjY0NzYzYmMzYjQwZTM4ZTU3Zjc2Mjc3N2NjYTczID0gJCgnPGRpdiBpZD0iaHRtbF84ZjI2NDc2M2JjM2I0MGUzOGU1N2Y3NjI3NzdjY2E3MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9yY2hlc3RlciBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q4MDNhZWIwMjRmZDRhNWFhYmE1ZGNlMDQ3NDYxMjQ1LnNldENvbnRlbnQoaHRtbF84ZjI2NDc2M2JjM2I0MGUzOGU1N2Y3NjI3NzdjY2E3Myk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83NzM5NDI5Zjc2ZmM0ZGE3OTk5ZDRjYmQ0MjBlZDhjNC5iaW5kUG9wdXAocG9wdXBfZDgwM2FlYjAyNGZkNGE1YWFiYTVkY2UwNDc0NjEyNDUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTM2ZWVjZjIzOTFkNGNmOTkxNmM0ZGJmZTBjMjJjZTQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNTU1ODQzMSwtNzEuMDU3NjUwMjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjg2ZWZhMGFkMzNiNDY0MWJiNDc1Y2Q3NjY2YjE2ZjkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDI2OTE1MGYzZDU1NDE2ZGEwODEzOTI5NTZiMTgzYzYgPSAkKCc8ZGl2IGlkPSJodG1sXzQyNjkxNTBmM2Q1NTQxNmRhMDgxMzkyOTU2YjE4M2M2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3dudG93biBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY4NmVmYTBhZDMzYjQ2NDFiYjQ3NWNkNzY2NmIxNmY5LnNldENvbnRlbnQoaHRtbF80MjY5MTUwZjNkNTU0MTZkYTA4MTM5Mjk1NmIxODNjNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lMzZlZWNmMjM5MWQ0Y2Y5OTE2YzRkYmZlMGMyMmNlNC5iaW5kUG9wdXAocG9wdXBfNjg2ZWZhMGFkMzNiNDY0MWJiNDc1Y2Q3NjY2YjE2ZjkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2M3MzYyMjMwM2E3NGVlMmI0ZmQ1ZDE3OWNhYmFhYWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNzMwMzQyOSwtNzEuMDMwODE0MjZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2I3YzIzMDc4NjI3NGY5NmJjZTY0NzhiNTlmOTdmZDggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWU0YjA3M2E4NjQ3NDU1ZjlmZDA1MTYzZjViZGJkNzQgPSAkKCc8ZGl2IGlkPSJodG1sXzFlNGIwNzNhODY0NzQ1NWY5ZmQwNTE2M2Y1YmRiZDc0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IEJvc3RvbiBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdiN2MyMzA3ODYyNzRmOTZiY2U2NDc4YjU5Zjk3ZmQ4LnNldENvbnRlbnQoaHRtbF8xZTRiMDczYTg2NDc0NTVmOWZkMDUxNjNmNWJkYmQ3NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zYzczNjIyMzAzYTc0ZWUyYjRmZDVkMTc5Y2FiYWFhZi5iaW5kUG9wdXAocG9wdXBfN2I3YzIzMDc4NjI3NGY5NmJjZTY0NzhiNTlmOTdmZDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDllMzlhY2FlZGU5NGNhMjhmYjJiZWZkYTQ0MjNlOTggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDQ3NTgzOTk5OTk5OTYsLTcxLjA5NjExMzg5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2QzY2U0NzdhMzUwYTRhNWE4NmFlNmJiNGZmYTk0MTNmKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg5MTkxNGVlMDNlMzRkYWRiMTk0YzM3OTYyOGIxYTFjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJlMWVmZWQ2OWY2ODQwYmM4M2JkNjA1YTA0NmQ4Mjg2ID0gJCgnPGRpdiBpZD0iaHRtbF8yZTFlZmVkNjlmNjg0MGJjODNiZDYwNWEwNDZkODI4NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmVud2F5IENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODkxOTE0ZWUwM2UzNGRhZGIxOTRjMzc5NjI4YjFhMWMuc2V0Q29udGVudChodG1sXzJlMWVmZWQ2OWY2ODQwYmM4M2JkNjA1YTA0NmQ4Mjg2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA5ZTM5YWNhZWRlOTRjYTI4ZmIyYmVmZGE0NDIzZTk4LmJpbmRQb3B1cChwb3B1cF84OTE5MTRlZTAzZTM0ZGFkYjE5NGMzNzk2MjhiMWExYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83NjI3YWMzMTI2MjA0NDg1YWY4NjhhYzkzNmZhYjU1NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjMwNzc1OTU4LC03MS4xMTUwOTY4M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9kM2NlNDc3YTM1MGE0YTVhODZhZTZiYjRmZmE5NDEzZik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hNThkN2Y2YjQyMDM0NGE2YWYxYTEzOWUxZmQ4YjY5ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83MDQ3NDY1YmUxNmU0NzJhYjAwY2JjNzIxZGQ4OWRkMCA9ICQoJzxkaXYgaWQ9Imh0bWxfNzA0NzQ2NWJlMTZlNDcyYWIwMGNiYzcyMWRkODlkZDAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkphbWFpY2EgUGxhaW4gQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hNThkN2Y2YjQyMDM0NGE2YWYxYTEzOWUxZmQ4YjY5ZS5zZXRDb250ZW50KGh0bWxfNzA0NzQ2NWJlMTZlNDcyYWIwMGNiYzcyMWRkODlkZDApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzYyN2FjMzEyNjIwNDQ4NWFmODY4YWM5MzZmYWI1NTUuYmluZFBvcHVwKHBvcHVwX2E1OGQ3ZjZiNDIwMzQ0YTZhZjFhMTM5ZTFmZDhiNjllKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I4MDg1YjEwMWYyYzQ0NWE4YjJmMGQ2NDYxNTEyMTdiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzUwOTc0MjcsLTcxLjA1NzgyNzUxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2QzY2U0NzdhMzUwYTRhNWE4NmFlNmJiNGZmYTk0MTNmKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JiOTc3YjNkMWY1ZTRiNzY5NmNkYjExNWJhNTBhZGFjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y1YjU1ZGE5ZTNjMzQxZjNiNGNmYmRlYWQyNDJkZGM5ID0gJCgnPGRpdiBpZD0iaHRtbF9mNWI1NWRhOWUzYzM0MWYzYjRjZmJkZWFkMjQyZGRjOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGVhdGhlciBEaXN0cmljdCBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JiOTc3YjNkMWY1ZTRiNzY5NmNkYjExNWJhNTBhZGFjLnNldENvbnRlbnQoaHRtbF9mNWI1NWRhOWUzYzM0MWYzYjRjZmJkZWFkMjQyZGRjOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iODA4NWIxMDFmMmM0NDVhOGIyZjBkNjQ2MTUxMjE3Yi5iaW5kUG9wdXAocG9wdXBfYmI5NzdiM2QxZjVlNGI3Njk2Y2RiMTE1YmE1MGFkYWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjA3OTkzYTIyYjkwNGZjOGFhMWE2MDFjMTU2Njc4NmMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zMzg2MDAxOSwtNzEuMTA1MTAyMDZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjMwMTFmOWFkZTIwNDJmOTk4ZWFjYjk3MDE0N2E3YmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWI2MzQwNTE1N2NhNGY4MWE5NDFjMTJkNGY5NGNjOTAgPSAkKCc8ZGl2IGlkPSJodG1sX2ViNjM0MDUxNTdjYTRmODFhOTQxYzEyZDRmOTRjYzkwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Mb25nd29vZCBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYzMDExZjlhZGUyMDQyZjk5OGVhY2I5NzAxNDdhN2JmLnNldENvbnRlbnQoaHRtbF9lYjYzNDA1MTU3Y2E0ZjgxYTk0MWMxMmQ0Zjk0Y2M5MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yMDc5OTNhMjJiOTA0ZmM4YWExYTYwMWMxNTY2Nzg2Yy5iaW5kUG9wdXAocG9wdXBfNjMwMTFmOWFkZTIwNDJmOTk4ZWFjYjk3MDE0N2E3YmYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDVlNDgyNDY5ODM3NDY5YThlOTYyMDNkZTZlYzQ0NjYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4yNzY5OTYzNSwtNzEuMDkxNDQ1MTFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjBlMTI2YmQzNWY4NGMwYWJlNmQwYmJkMmYyMzIwZjIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzkxNzQyYTNmYjYyNGQ2NDk5NzVhYzRmYzA3Y2FhNDcgPSAkKCc8ZGl2IGlkPSJodG1sX2M5MTc0MmEzZmI2MjRkNjQ5OTc1YWM0ZmMwN2NhYTQ3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NYXR0YXBhbiBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2IwZTEyNmJkMzVmODRjMGFiZTZkMGJiZDJmMjMyMGYyLnNldENvbnRlbnQoaHRtbF9jOTE3NDJhM2ZiNjI0ZDY0OTk3NWFjNGZjMDdjYWE0Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80NWU0ODI0Njk4Mzc0NjlhOGU5NjIwM2RlNmVjNDQ2Ni5iaW5kUG9wdXAocG9wdXBfYjBlMTI2YmQzNWY4NGMwYWJlNmQwYmJkMmYyMzIwZjIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTAwMGM5Y2FmMTNlNDNjMzg1NTE3ODM4MzUzMjNmZDkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zMzA3NDQ2MywtNzEuMTAyMjQ4NjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODMzNzQ0OTlmMGE4NDdmZGJmZmRlYWY2MGE4ZDE5OGEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTc0MjY5NmI3MjQyNDUxZGFlNjlmMGQwZWEwZmI5YzQgPSAkKCc8ZGl2IGlkPSJodG1sXzE3NDI2OTZiNzI0MjQ1MWRhZTY5ZjBkMGVhMGZiOWM0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NaXNzaW9uIEhpbGwgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MzM3NDQ5OWYwYTg0N2ZkYmZmZGVhZjYwYThkMTk4YS5zZXRDb250ZW50KGh0bWxfMTc0MjY5NmI3MjQyNDUxZGFlNjlmMGQwZWEwZmI5YzQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTAwMGM5Y2FmMTNlNDNjMzg1NTE3ODM4MzUzMjNmZDkuYmluZFBvcHVwKHBvcHVwXzgzMzc0NDk5ZjBhODQ3ZmRiZmZkZWFmNjBhOGQxOThhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2U5ZmQyNzczYTcyOTRlMzhiMWIyNTBmMjk0ZGU3NDE0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzY1NDU2MDIsLTcxLjA1Mzg1NzEyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2QzY2U0NzdhMzUwYTRhNWE4NmFlNmJiNGZmYTk0MTNmKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzcyMTVkYmM2N2I4NjRjMjBiYjdlMzA2YjJiNTY3MTUxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2MzOWFkZjE3YzMyYTQwZWU5NWZiOWQ2OTZiOTUwOTUwID0gJCgnPGRpdiBpZD0iaHRtbF9jMzlhZGYxN2MzMmE0MGVlOTVmYjlkNjk2Yjk1MDk1MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggRW5kIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzIxNWRiYzY3Yjg2NGMyMGJiN2UzMDZiMmI1NjcxNTEuc2V0Q29udGVudChodG1sX2MzOWFkZjE3YzMyYTQwZWU5NWZiOWQ2OTZiOTUwOTUwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U5ZmQyNzczYTcyOTRlMzhiMWIyNTBmMjk0ZGU3NDE0LmJpbmRQb3B1cChwb3B1cF83MjE1ZGJjNjdiODY0YzIwYmI3ZTMwNmIyYjU2NzE1MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mMzMxYjQ1NjMzMDU0NTdlODhlYjMzN2YwMjZjODNkMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjI4MjUxNTIzLC03MS4xMjY2NjE4NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9kM2NlNDc3YTM1MGE0YTVhODZhZTZiYjRmZmE5NDEzZik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zNDUxZjQyNTcyM2U0OGE5OTBjMTVkMmYyMjMzZWI0MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NmU4NDJjZWIwNDI0NTNiOTk5MTNlNjkzZWZlMzQ0NCA9ICQoJzxkaXYgaWQ9Imh0bWxfNjZlODQyY2ViMDQyNDUzYjk5OTEzZTY5M2VmZTM0NDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvc2xpbmRhbGUgQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zNDUxZjQyNTcyM2U0OGE5OTBjMTVkMmYyMjMzZWI0MS5zZXRDb250ZW50KGh0bWxfNjZlODQyY2ViMDQyNDUzYjk5OTEzZTY5M2VmZTM0NDQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjMzMWI0NTYzMzA1NDU3ZTg4ZWIzMzdmMDI2YzgzZDEuYmluZFBvcHVwKHBvcHVwXzM0NTFmNDI1NzIzZTQ4YTk5MGMxNWQyZjIyMzNlYjQxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI2ZGU4NmNkZmZhZTQ0MDRhZDhhZTRkYTQ1YzYyMGZiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzE4NTA4MTcsLTcxLjA4NjY0NDE4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2QzY2U0NzdhMzUwYTRhNWE4NmFlNmJiNGZmYTk0MTNmKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2IwMTZiODVjZmUzYTQzYWU4NGFkYmIyOTgxOTQwZmIxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JiMjBiZGI4ODg1YTRmNjRhOTg0YzhiYTI3ZDEwY2RiID0gJCgnPGRpdiBpZD0iaHRtbF9iYjIwYmRiODg4NWE0ZjY0YTk4NGM4YmEyN2QxMGNkYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um94YnVyeSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2IwMTZiODVjZmUzYTQzYWU4NGFkYmIyOTgxOTQwZmIxLnNldENvbnRlbnQoaHRtbF9iYjIwYmRiODg4NWE0ZjY0YTk4NGM4YmEyN2QxMGNkYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yNmRlODZjZGZmYWU0NDA0YWQ4YWU0ZGE0NWM2MjBmYi5iaW5kUG9wdXAocG9wdXBfYjAxNmI4NWNmZTNhNDNhZTg0YWRiYjI5ODE5NDBmYjEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTlmODJlZDA1ZmQ0NDdiZjk3NjhmOGE3MjNkYTNjYjAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zMzQ3MDY3NCwtNzEuMDU2NDAzMjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZDNjZTQ3N2EzNTBhNGE1YTg2YWU2YmI0ZmZhOTQxM2YpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGM3NjVkYjg0MTJiNDRhMmFmOTM3YjZiM2ExZTY2YTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZGU0YTdlOGIxZTYzNDExZTg4YWU5NGVlNTg3OGY1MjIgPSAkKCc8ZGl2IGlkPSJodG1sX2RlNGE3ZThiMWU2MzQxMWU4OGFlOTRlZTU4NzhmNTIyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Tb3V0aCBCb3N0b24gQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84Yzc2NWRiODQxMmI0NGEyYWY5MzdiNmIzYTFlNjZhMy5zZXRDb250ZW50KGh0bWxfZGU0YTdlOGIxZTYzNDExZTg4YWU5NGVlNTg3OGY1MjIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNTlmODJlZDA1ZmQ0NDdiZjk3NjhmOGE3MjNkYTNjYjAuYmluZFBvcHVwKHBvcHVwXzhjNzY1ZGI4NDEyYjQ0YTJhZjkzN2I2YjNhMWU2NmEzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc0ZWU4NzQ5NGZhYjRkYmViM2EyODMxNTdhZDk2YjViID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzQ2NDA4MDcsLTcxLjA0MTcyNjQxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2QzY2U0NzdhMzUwYTRhNWE4NmFlNmJiNGZmYTk0MTNmKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA3OWQ2ZGJiYzM5MTQzZmM5ODA1MWE4ODIzMjAyYTFhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM0ZmU5MjY5YzYyYzRlNTdhMjk1ZTk1MWFjNjQxY2E2ID0gJCgnPGRpdiBpZD0iaHRtbF8zNGZlOTI2OWM2MmM0ZTU3YTI5NWU5NTFhYzY0MWNhNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U291dGggQm9zdG9uIFdhdGVyZnJvbnQgQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNzlkNmRiYmMzOTE0M2ZjOTgwNTFhODgyMzIwMmExYS5zZXRDb250ZW50KGh0bWxfMzRmZTkyNjljNjJjNGU1N2EyOTVlOTUxYWM2NDFjYTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzRlZTg3NDk0ZmFiNGRiZWIzYTI4MzE1N2FkOTZiNWIuYmluZFBvcHVwKHBvcHVwXzA3OWQ2ZGJiYzM5MTQzZmM5ODA1MWE4ODIzMjAyYTFhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzVmZTAwNjU4ZjFmYzQ5YzY5MjE2YzI0NTNkMWQzMmEyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzQxMzQxNjQsLTcxLjA3MTM2ODc2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2QzY2U0NzdhMzUwYTRhNWE4NmFlNmJiNGZmYTk0MTNmKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdjM2NkZTE2ZjQ0MjQ4MGQ5NGJiMGQ1NDEyNTRhNWYwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E4YWRmZmU0NzZhZDQ1ZTI5ZmNhNmZiNzNhNjljZmFjID0gJCgnPGRpdiBpZD0iaHRtbF9hOGFkZmZlNDc2YWQ0NWUyOWZjYTZmYjczYTY5Y2ZhYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U291dGggRW5kIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2MzY2RlMTZmNDQyNDgwZDk0YmIwZDU0MTI1NGE1ZjAuc2V0Q29udGVudChodG1sX2E4YWRmZmU0NzZhZDQ1ZTI5ZmNhNmZiNzNhNjljZmFjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzVmZTAwNjU4ZjFmYzQ5YzY5MjE2YzI0NTNkMWQzMmEyLmJpbmRQb3B1cChwb3B1cF83YzNjZGUxNmY0NDI0ODBkOTRiYjBkNTQxMjU0YTVmMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mNGVhZWNhODk5MWI0Mzc4OWEzNDk1ODljNTNhZjAwMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjM2NDUzOTE3LC03MS4wNjU0MjcxNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9kM2NlNDc3YTM1MGE0YTVhODZhZTZiYjRmZmE5NDEzZik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xZGU5NjljYjA4OTY0ZDFkYWViMGNiNGE1NWI4OTM4NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yZDIwNzZjNDQxOWQ0ODgzOWM5MWIzNTM1ZTdhN2VmMiA9ICQoJzxkaXYgaWQ9Imh0bWxfMmQyMDc2YzQ0MTlkNDg4MzljOTFiMzUzNWU3YTdlZjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3QgRW5kIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMWRlOTY5Y2IwODk2NGQxZGFlYjBjYjRhNTViODkzODQuc2V0Q29udGVudChodG1sXzJkMjA3NmM0NDE5ZDQ4ODM5YzkxYjM1MzVlN2E3ZWYyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y0ZWFlY2E4OTkxYjQzNzg5YTM0OTU4OWM1M2FmMDAyLmJpbmRQb3B1cChwb3B1cF8xZGU5NjljYjA4OTY0ZDFkYWViMGNiNGE1NWI4OTM4NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mOGZjMTNmZGMzMzI0M2VhYjUxN2IzYjk4MmYwZTNhYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjI4MDYzMjIxLC03MS4xNjAwMjYwOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9kM2NlNDc3YTM1MGE0YTVhODZhZTZiYjRmZmE5NDEzZik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NWQ2MGFmMTQ3MGU0NGViOTJhMTVlY2Q5ZDU2NjQzZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jNDJlODI2MzJiZWU0MDQyYjEzYTMzMTRkMDkxZThlZCA9ICQoJzxkaXYgaWQ9Imh0bWxfYzQyZTgyNjMyYmVlNDA0MmIxM2EzMzE0ZDA5MWU4ZWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3QgUm94YnVyeSBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU1ZDYwYWYxNDcwZTQ0ZWI5MmExNWVjZDlkNTY2NDNlLnNldENvbnRlbnQoaHRtbF9jNDJlODI2MzJiZWU0MDQyYjEzYTMzMTRkMDkxZThlZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mOGZjMTNmZGMzMzI0M2VhYjUxN2IzYjk4MmYwZTNhYS5iaW5kUG9wdXAocG9wdXBfNTVkNjBhZjE0NzBlNDRlYjkyYTE1ZWNkOWQ1NjY0M2UpOwoKICAgICAgICAgICAgCiAgICAgICAgCjwvc2NyaXB0Pg==\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>", 
                        "text/plain": "<folium.folium.Map at 0x7f7544e42908>"
                    }, 
                    "execution_count": 109
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "## Examine Health Metric Clusters", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "df_health_statistics_merged.loc[df_health_statistics_merged['Cluster Labels'] == 0, df_health_statistics_merged.columns[[1] + list(range(2, 41))]]", 
            "cell_type": "code", 
            "execution_count": 110, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Population Relative to IQR</th>\n      <th>Ethnicity</th>\n      <th>Age &lt; 18 %</th>\n      <th>Age &gt; 65 %</th>\n      <th>Limited English %</th>\n      <th>Education &lt; High School %</th>\n      <th>Unemployment %</th>\n      <th>Income &gt; $56,000</th>\n      <th>Mold</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Allston</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Brighton</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>Fenway</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n    </tr>\n  </tbody>\n</table>\n<p>3 rows \u00d7 40 columns</p>\n</div>", 
                        "text/plain": "   Neighbourhood  Population Relative to IQR  Ethnicity  Age < 18 %  \\\n0        Allston                           0          1          -1   \n4       Brighton                           1          1          -1   \n10        Fenway                           0          1          -1   \n\n    Age > 65 %  Limited English %  Education < High School %  Unemployment %  \\\n0            0                  0                         -1              -1   \n4            0                  0                         -1              -1   \n10          -1                  1                         -1               0   \n\n    Income > $56,000  Mold  ...  Gonorrhea Inc  Injury ER  Assault Injury ER  \\\n0                 -1     1  ...             -1         -1                 -1   \n4                 -1     1  ...             -1         -1                 -1   \n10                -1    -1  ...             -1         -1                 -1   \n\n    Mental Hospitalizations  Anxiety %  Sadness %  Subtance Misuse Mortality  \\\n0                         1          0          0                         -1   \n4                         1          0          0                         -1   \n10                        1          0          0                          0   \n\n    Opoid Mortality  Life Expectancy  All Cause Mortality  \n0                -1                1                   -1  \n4                -1                1                    0  \n10                0                0                   -1  \n\n[3 rows x 40 columns]"
                    }, 
                    "execution_count": 110
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "df_health_statistics_merged.loc[df_health_statistics_merged['Cluster Labels'] == 1, df_health_statistics_merged.columns[[1] + list(range(2, 41))]]", 
            "cell_type": "code", 
            "execution_count": 111, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Population Relative to IQR</th>\n      <th>Ethnicity</th>\n      <th>Age &lt; 18 %</th>\n      <th>Age &gt; 65 %</th>\n      <th>Limited English %</th>\n      <th>Education &lt; High School %</th>\n      <th>Unemployment %</th>\n      <th>Income &gt; $56,000</th>\n      <th>Mold</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>1</th>\n      <td>Back Bay</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Bay Village</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Beacon Hill</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Downtown</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>Longwood</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Mission Hill</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>North End</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>West End</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n  </tbody>\n</table>\n<p>8 rows \u00d7 40 columns</p>\n</div>", 
                        "text/plain": "   Neighbourhood  Population Relative to IQR  Ethnicity  Age < 18 %  \\\n1       Back Bay                           0          1          -1   \n2    Bay Village                          -1          1          -1   \n3    Beacon Hill                           0          1          -1   \n8       Downtown                          -1          1          -1   \n13      Longwood                          -1          1          -1   \n15  Mission Hill                           0          1          -1   \n16     North End                           0          1          -1   \n22      West End                          -1          1          -1   \n\n    Age > 65 %  Limited English %  Education < High School %  Unemployment %  \\\n1            1                 -1                         -1              -1   \n2            1                 -1                         -1              -1   \n3            1                 -1                         -1              -1   \n8            1                 -1                         -1              -1   \n13           1                 -1                         -1              -1   \n15           1                 -1                         -1              -1   \n16           1                 -1                         -1              -1   \n22           1                 -1                         -1              -1   \n\n    Income > $56,000  Mold  ...  Gonorrhea Inc  Injury ER  Assault Injury ER  \\\n1                  1     1  ...             -1         -1                 -1   \n2                  1     1  ...             -1         -1                 -1   \n3                  1     1  ...             -1         -1                 -1   \n8                  1     1  ...             -1         -1                 -1   \n13                 1     1  ...             -1         -1                 -1   \n15                 1     1  ...             -1         -1                 -1   \n16                 1     1  ...             -1         -1                 -1   \n22                 1     1  ...             -1         -1                 -1   \n\n    Mental Hospitalizations  Anxiety %  Sadness %  Subtance Misuse Mortality  \\\n1                         1          0         -1                         -1   \n2                         1          0         -1                         -1   \n3                         1          0         -1                         -1   \n8                         1          0         -1                         -1   \n13                        1          0         -1                         -1   \n15                        1          0         -1                         -1   \n16                        1          0         -1                         -1   \n22                        1          0         -1                         -1   \n\n    Opoid Mortality  Life Expectancy  All Cause Mortality  \n1                -1                1                   -1  \n2                -1                1                   -1  \n3                -1                1                   -1  \n8                -1                1                   -1  \n13               -1                1                   -1  \n15               -1                1                   -1  \n16               -1                1                   -1  \n22               -1                1                   -1  \n\n[8 rows x 40 columns]"
                    }, 
                    "execution_count": 111
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "df_health_statistics_merged.loc[df_health_statistics_merged['Cluster Labels'] == 2, df_health_statistics_merged.columns[[1] + list(range(2, 41))]]", 
            "cell_type": "code", 
            "execution_count": 112, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Population Relative to IQR</th>\n      <th>Ethnicity</th>\n      <th>Age &lt; 18 %</th>\n      <th>Age &gt; 65 %</th>\n      <th>Limited English %</th>\n      <th>Education &lt; High School %</th>\n      <th>Unemployment %</th>\n      <th>Income &gt; $56,000</th>\n      <th>Mold</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>6</th>\n      <td>Chinatown</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Leather District</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>South End</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>3 rows \u00d7 40 columns</p>\n</div>", 
                        "text/plain": "       Neighbourhood  Population Relative to IQR  Ethnicity  Age < 18 %  \\\n6          Chinatown                           0          1          -1   \n12  Leather District                          -1          1          -1   \n21         South End                           0          1          -1   \n\n    Age > 65 %  Limited English %  Education < High School %  Unemployment %  \\\n6            0                  0                          1              -1   \n12           0                  0                          1              -1   \n21           0                  0                          1              -1   \n\n    Income > $56,000  Mold  ...  Gonorrhea Inc  Injury ER  Assault Injury ER  \\\n6                  0     1  ...              1          1                  1   \n12                 0     1  ...              1          1                  1   \n21                 0     1  ...              1          1                  1   \n\n    Mental Hospitalizations  Anxiety %  Sadness %  Subtance Misuse Mortality  \\\n6                         1          0          0                          0   \n12                        1          0          0                          0   \n21                        1          0          0                          0   \n\n    Opoid Mortality  Life Expectancy  All Cause Mortality  \n6                 0                0                    0  \n12                0                0                    0  \n21                0                0                    0  \n\n[3 rows x 40 columns]"
                    }, 
                    "execution_count": 112
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "df_health_statistics_merged.loc[df_health_statistics_merged['Cluster Labels'] == 3, df_health_statistics_merged.columns[[1] + list(range(2, 41))]]", 
            "cell_type": "code", 
            "execution_count": 113, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Population Relative to IQR</th>\n      <th>Ethnicity</th>\n      <th>Age &lt; 18 %</th>\n      <th>Age &gt; 65 %</th>\n      <th>Limited English %</th>\n      <th>Education &lt; High School %</th>\n      <th>Unemployment %</th>\n      <th>Income &gt; $56,000</th>\n      <th>Mold</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>7</th>\n      <td>Dorchester</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>East Boston</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>Mattapan</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>Roxbury</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n  </tbody>\n</table>\n<p>4 rows \u00d7 40 columns</p>\n</div>", 
                        "text/plain": "   Neighbourhood  Population Relative to IQR  Ethnicity  Age < 18 %  \\\n7     Dorchester                           1          0           1   \n9    East Boston                           0          0           1   \n14      Mattapan                           0         -1           1   \n18       Roxbury                           1         -1           1   \n\n    Age > 65 %  Limited English %  Education < High School %  Unemployment %  \\\n7           -1                  1                          1               1   \n9           -1                  1                          1               0   \n14           1                  0                          1               1   \n18           0                  1                          1               1   \n\n    Income > $56,000  Mold  ...  Gonorrhea Inc  Injury ER  Assault Injury ER  \\\n7                 -1     1  ...              1          1                  1   \n9                 -1     1  ...             -1         -1                 -1   \n14                -1     0  ...              1          1                  1   \n18                -1     1  ...              1          1                  1   \n\n    Mental Hospitalizations  Anxiety %  Sadness %  Subtance Misuse Mortality  \\\n7                        -1          0          1                          1   \n9                        -1          0          0                          0   \n14                        0          0          0                          0   \n18                        0          1          0                          0   \n\n    Opoid Mortality  Life Expectancy  All Cause Mortality  \n7                 1                0                    0  \n9                 0                0                    0  \n14                0                0                    0  \n18                0               -1                    1  \n\n[4 rows x 40 columns]"
                    }, 
                    "execution_count": 113
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "df_health_statistics_merged.loc[df_health_statistics_merged['Cluster Labels'] == 4, df_health_statistics_merged.columns[[1] + list(range(2, 41))]]", 
            "cell_type": "code", 
            "execution_count": 114, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Population Relative to IQR</th>\n      <th>Ethnicity</th>\n      <th>Age &lt; 18 %</th>\n      <th>Age &gt; 65 %</th>\n      <th>Limited English %</th>\n      <th>Education &lt; High School %</th>\n      <th>Unemployment %</th>\n      <th>Income &gt; $56,000</th>\n      <th>Mold</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>5</th>\n      <td>Charlestown</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>Jamaica Plain</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Roslindale</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>South Boston</td>\n      <td>0</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>South Boston Waterfront</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>West Roxbury</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>6 rows \u00d7 40 columns</p>\n</div>", 
                        "text/plain": "              Neighbourhood  Population Relative to IQR  Ethnicity  \\\n5               Charlestown                           0          1   \n11            Jamaica Plain                           0          1   \n17               Roslindale                           0          1   \n19             South Boston                           0          1   \n20  South Boston Waterfront                          -1          1   \n23             West Roxbury                           0          1   \n\n    Age < 18 %  Age > 65 %  Limited English %  Education < High School %  \\\n5            1           0                 -1                         -1   \n11           0           0                 -1                         -1   \n17           1           0                 -1                         -1   \n19          -1          -1                 -1                         -1   \n20          -1          -1                 -1                         -1   \n23           1           1                 -1                         -1   \n\n    Unemployment %  Income > $56,000  Mold  ...  Gonorrhea Inc  Injury ER  \\\n5               -1                 1    -1  ...              0         -1   \n11              -1                 1     0  ...              0         -1   \n17               0                 1    -1  ...             -1          0   \n19              -1                 1     0  ...             -1         -1   \n20              -1                 1     0  ...             -1         -1   \n23              -1                 1    -1  ...             -1         -1   \n\n    Assault Injury ER  Mental Hospitalizations  Anxiety %  Sadness %  \\\n5                  -1                       -1          0         -1   \n11                 -1                        0          0          0   \n17                 -1                       -1          0          0   \n19                 -1                       -1          0          0   \n20                 -1                       -1          0          0   \n23                 -1                       -1          0          0   \n\n    Subtance Misuse Mortality  Opoid Mortality  Life Expectancy  \\\n5                           1                0                0   \n11                          0                0                0   \n17                          0                0                0   \n19                          1                0               -1   \n20                          1                0               -1   \n23                          0                0                0   \n\n    All Cause Mortality  \n5                     0  \n11                    0  \n17                    0  \n19                    1  \n20                    1  \n23                    0  \n\n[6 rows x 40 columns]"
                    }, 
                    "execution_count": 114
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "## Combine Venues with Health Metrics", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "neighbourhoods_venues_sorted_mod=neighbourhoods_venues_sorted.drop(neighbourhoods_venues_sorted.columns[[0]], axis=1)  # df.columns is zero-based pd.Index \ndf_health_statistics_mod=df_health_statistics.drop(df_health_statistics.columns[[0]], axis=1)  # df.columns is zero-based pd.Index \ndf_combined=neighbourhoods_venues_sorted_mod.join(df_health_statistics_mod.set_index('Neighbourhood'), on='Neighbourhood')\ndf_combined\n", 
            "cell_type": "code", 
            "execution_count": 115, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Allston</td>\n      <td>Rental Car Location</td>\n      <td>Donut Shop</td>\n      <td>Convenience Store</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Smoke Shop</td>\n      <td>Liquor Store</td>\n      <td>Plaza</td>\n      <td>Pizza Place</td>\n      <td>Dance Studio</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Back Bay</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Italian Restaurant</td>\n      <td>Clothing Store</td>\n      <td>Seafood Restaurant</td>\n      <td>Hotel</td>\n      <td>Ice Cream Shop</td>\n      <td>Gym</td>\n      <td>Cosmetics Shop</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Bay Village</td>\n      <td>Theater</td>\n      <td>Spa</td>\n      <td>Hotel</td>\n      <td>Sandwich Place</td>\n      <td>American Restaurant</td>\n      <td>Seafood Restaurant</td>\n      <td>Performing Arts Venue</td>\n      <td>Coffee Shop</td>\n      <td>Steakhouse</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Beacon Hill</td>\n      <td>Pizza Place</td>\n      <td>Playground</td>\n      <td>Italian Restaurant</td>\n      <td>Park</td>\n      <td>Plaza</td>\n      <td>French Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>Gift Shop</td>\n      <td>Gourmet Shop</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Brighton</td>\n      <td>Bakery</td>\n      <td>Pizza Place</td>\n      <td>Dry Cleaner</td>\n      <td>Sandwich Place</td>\n      <td>Greek Restaurant</td>\n      <td>Chinese Restaurant</td>\n      <td>Bank</td>\n      <td>Caf\u00e9</td>\n      <td>Dance Studio</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Charlestown</td>\n      <td>Pizza Place</td>\n      <td>Convenience Store</td>\n      <td>Coffee Shop</td>\n      <td>Thai Restaurant</td>\n      <td>Pet Store</td>\n      <td>Deli / Bodega</td>\n      <td>Dog Run</td>\n      <td>Donut Shop</td>\n      <td>National Park</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Chinatown</td>\n      <td>Chinese Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Bakery</td>\n      <td>Sushi Restaurant</td>\n      <td>Bubble Tea Shop</td>\n      <td>Theater</td>\n      <td>Hotel Bar</td>\n      <td>Performing Arts Venue</td>\n      <td>Dim Sum Restaurant</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Dorchester</td>\n      <td>Vietnamese Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Pub</td>\n      <td>Clothing Store</td>\n      <td>Cajun / Creole Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Bar</td>\n      <td>Liquor Store</td>\n      <td>Supermarket</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Downtown</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Italian Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>New American Restaurant</td>\n      <td>Historic Site</td>\n      <td>Salad Place</td>\n      <td>Park</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>East Boston</td>\n      <td>Park</td>\n      <td>Pizza Place</td>\n      <td>Gym</td>\n      <td>Airport Terminal</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>Convenience Store</td>\n      <td>Brazilian Restaurant</td>\n      <td>Colombian Restaurant</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>Fenway</td>\n      <td>American Restaurant</td>\n      <td>Sports Bar</td>\n      <td>Coffee Shop</td>\n      <td>Lounge</td>\n      <td>Pizza Place</td>\n      <td>Hotel</td>\n      <td>Caf\u00e9</td>\n      <td>Baseball Field</td>\n      <td>Thai Restaurant</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>Jamaica Plain</td>\n      <td>Pub</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Bakery</td>\n      <td>Art Gallery</td>\n      <td>Coffee Shop</td>\n      <td>Record Shop</td>\n      <td>Bar</td>\n      <td>Taco Place</td>\n      <td>Liquor Store</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Leather District</td>\n      <td>Bakery</td>\n      <td>Chinese Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Food Truck</td>\n      <td>American Restaurant</td>\n      <td>Vegetarian / Vegan Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>Longwood</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Falafel Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bus Stop</td>\n      <td>Gym</td>\n      <td>Gastropub</td>\n      <td>Frozen Yogurt Shop</td>\n      <td>Theater</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>Mattapan</td>\n      <td>Ice Cream Shop</td>\n      <td>Furniture / Home Store</td>\n      <td>French Restaurant</td>\n      <td>Food Court</td>\n      <td>Flower Shop</td>\n      <td>Fish Market</td>\n      <td>Fast Food Restaurant</td>\n      <td>Farmers Market</td>\n      <td>Falafel Restaurant</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Mission Hill</td>\n      <td>Pizza Place</td>\n      <td>Donut Shop</td>\n      <td>Sushi Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Light Rail Station</td>\n      <td>Indian Restaurant</td>\n      <td>Pub</td>\n      <td>Caribbean Restaurant</td>\n      <td>Burrito Place</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>North End</td>\n      <td>Italian Restaurant</td>\n      <td>Park</td>\n      <td>Seafood Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Bakery</td>\n      <td>Wine Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Market</td>\n      <td>Grocery Store</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Roslindale</td>\n      <td>Ice Cream Shop</td>\n      <td>Sandwich Place</td>\n      <td>Plaza</td>\n      <td>Farmers Market</td>\n      <td>Bar</td>\n      <td>Greek Restaurant</td>\n      <td>Grocery Store</td>\n      <td>Bakery</td>\n      <td>Pizza Place</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>Roxbury</td>\n      <td>Fried Chicken Joint</td>\n      <td>Fast Food Restaurant</td>\n      <td>Basketball Court</td>\n      <td>Electronics Store</td>\n      <td>Museum</td>\n      <td>Shopping Mall</td>\n      <td>Grocery Store</td>\n      <td>Gym</td>\n      <td>Gym / Fitness Center</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>South Boston</td>\n      <td>Climbing Gym</td>\n      <td>Train</td>\n      <td>Chinese Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bar</td>\n      <td>Dive Bar</td>\n      <td>Grocery Store</td>\n      <td>Gym</td>\n      <td>Gym / Fitness Center</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>South Boston Waterfront</td>\n      <td>Seafood Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>Donut Shop</td>\n      <td>Steakhouse</td>\n      <td>Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Mexican Restaurant</td>\n      <td>Shipping Store</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>South End</td>\n      <td>American Restaurant</td>\n      <td>Wine Bar</td>\n      <td>Mexican Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Pet Store</td>\n      <td>Park</td>\n      <td>Italian Restaurant</td>\n      <td>Deli / Bodega</td>\n      <td>Gastropub</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>West End</td>\n      <td>Sandwich Place</td>\n      <td>Pizza Place</td>\n      <td>Hotel</td>\n      <td>Donut Shop</td>\n      <td>Bar</td>\n      <td>Caf\u00e9</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Gym / Fitness Center</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>West Roxbury</td>\n      <td>Grocery Store</td>\n      <td>Pizza Place</td>\n      <td>Pharmacy</td>\n      <td>Pub</td>\n      <td>Park</td>\n      <td>Salon / Barbershop</td>\n      <td>Flower Shop</td>\n      <td>Liquor Store</td>\n      <td>Bank</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>24 rows \u00d7 50 columns</p>\n</div>", 
                        "text/plain": "              Neighbourhood  1st Most Common Venue   2nd Most Common Venue  \\\n0                   Allston    Rental Car Location              Donut Shop   \n1                  Back Bay    American Restaurant             Coffee Shop   \n2               Bay Village                Theater                     Spa   \n3               Beacon Hill            Pizza Place              Playground   \n4                  Brighton                 Bakery             Pizza Place   \n5               Charlestown            Pizza Place       Convenience Store   \n6                 Chinatown     Chinese Restaurant        Asian Restaurant   \n7                Dorchester  Vietnamese Restaurant                    Caf\u00e9   \n8                  Downtown            Coffee Shop          Sandwich Place   \n9               East Boston                   Park             Pizza Place   \n10                   Fenway    American Restaurant              Sports Bar   \n11            Jamaica Plain                    Pub  Thrift / Vintage Store   \n12         Leather District                 Bakery      Chinese Restaurant   \n13                 Longwood            Coffee Shop                    Caf\u00e9   \n14                 Mattapan         Ice Cream Shop  Furniture / Home Store   \n15             Mission Hill            Pizza Place              Donut Shop   \n16                North End     Italian Restaurant                    Park   \n17               Roslindale         Ice Cream Shop          Sandwich Place   \n18                  Roxbury    Fried Chicken Joint    Fast Food Restaurant   \n19             South Boston           Climbing Gym                   Train   \n20  South Boston Waterfront     Seafood Restaurant     American Restaurant   \n21                South End    American Restaurant                Wine Bar   \n22                 West End         Sandwich Place             Pizza Place   \n23             West Roxbury          Grocery Store             Pizza Place   \n\n   3rd Most Common Venue   4th Most Common Venue      5th Most Common Venue  \\\n0      Convenience Store  Thrift / Vintage Store                 Smoke Shop   \n1     Italian Restaurant          Clothing Store         Seafood Restaurant   \n2                  Hotel          Sandwich Place        American Restaurant   \n3     Italian Restaurant                    Park                      Plaza   \n4            Dry Cleaner          Sandwich Place           Greek Restaurant   \n5            Coffee Shop         Thai Restaurant                  Pet Store   \n6                 Bakery        Sushi Restaurant            Bubble Tea Shop   \n7                    Pub          Clothing Store  Cajun / Creole Restaurant   \n8     Italian Restaurant     American Restaurant                      Hotel   \n9                    Gym        Airport Terminal        American Restaurant   \n10           Coffee Shop                  Lounge                Pizza Place   \n11                Bakery             Art Gallery                Coffee Shop   \n12      Asian Restaurant             Coffee Shop             Sandwich Place   \n13    Falafel Restaurant          Sandwich Place                   Bus Stop   \n14     French Restaurant              Food Court                Flower Shop   \n15      Sushi Restaurant     American Restaurant         Light Rail Station   \n16    Seafood Restaurant             Pizza Place                     Bakery   \n17                 Plaza          Farmers Market                        Bar   \n18      Basketball Court       Electronics Store                     Museum   \n19    Chinese Restaurant          Sandwich Place                        Bar   \n20                 Hotel              Donut Shop                 Steakhouse   \n21    Mexican Restaurant             Pizza Place                  Pet Store   \n22                 Hotel              Donut Shop                        Bar   \n23              Pharmacy                     Pub                       Park   \n\n      6th Most Common Venue  7th Most Common Venue  \\\n0              Liquor Store                  Plaza   \n1                     Hotel         Ice Cream Shop   \n2        Seafood Restaurant  Performing Arts Venue   \n3         French Restaurant       Sushi Restaurant   \n4        Chinese Restaurant                   Bank   \n5             Deli / Bodega                Dog Run   \n6                   Theater              Hotel Bar   \n7                Donut Shop                    Bar   \n8   New American Restaurant          Historic Site   \n9                     Hotel      Convenience Store   \n10                    Hotel                   Caf\u00e9   \n11              Record Shop                    Bar   \n12               Food Truck    American Restaurant   \n13                      Gym              Gastropub   \n14              Fish Market   Fast Food Restaurant   \n15        Indian Restaurant                    Pub   \n16                Wine Shop                   Caf\u00e9   \n17         Greek Restaurant          Grocery Store   \n18            Shopping Mall          Grocery Store   \n19                 Dive Bar          Grocery Store   \n20               Restaurant         Sandwich Place   \n21                     Park     Italian Restaurant   \n22                     Caf\u00e9    American Restaurant   \n23       Salon / Barbershop            Flower Shop   \n\n            8th Most Common Venue 9th Most Common Venue  ... Gonorrhea Inc  \\\n0                     Pizza Place          Dance Studio  ...            -1   \n1                             Gym        Cosmetics Shop  ...            -1   \n2                     Coffee Shop            Steakhouse  ...            -1   \n3                       Gift Shop          Gourmet Shop  ...            -1   \n4                            Caf\u00e9          Dance Studio  ...            -1   \n5                      Donut Shop         National Park  ...             0   \n6           Performing Arts Venue    Dim Sum Restaurant  ...             1   \n7                    Liquor Store           Supermarket  ...             1   \n8                     Salad Place                  Park  ...            -1   \n9            Brazilian Restaurant  Colombian Restaurant  ...            -1   \n10                 Baseball Field       Thai Restaurant  ...            -1   \n11                     Taco Place          Liquor Store  ...             0   \n12  Vegetarian / Vegan Restaurant      Sushi Restaurant  ...             1   \n13             Frozen Yogurt Shop               Theater  ...            -1   \n14                 Farmers Market    Falafel Restaurant  ...             1   \n15           Caribbean Restaurant         Burrito Place  ...            -1   \n16                         Market         Grocery Store  ...            -1   \n17                         Bakery           Pizza Place  ...            -1   \n18                            Gym  Gym / Fitness Center  ...             1   \n19                            Gym  Gym / Fitness Center  ...            -1   \n20             Mexican Restaurant        Shipping Store  ...            -1   \n21                  Deli / Bodega             Gastropub  ...             1   \n22                    Coffee Shop  Gym / Fitness Center  ...            -1   \n23                   Liquor Store                  Bank  ...            -1   \n\n    Injury ER  Assault Injury ER  Mental Hospitalizations  Anxiety %  \\\n0          -1                 -1                        1          0   \n1          -1                 -1                        1          0   \n2          -1                 -1                        1          0   \n3          -1                 -1                        1          0   \n4          -1                 -1                        1          0   \n5          -1                 -1                       -1          0   \n6           1                  1                        1          0   \n7           1                  1                       -1          0   \n8          -1                 -1                        1          0   \n9          -1                 -1                       -1          0   \n10         -1                 -1                        1          0   \n11         -1                 -1                        0          0   \n12          1                  1                        1          0   \n13         -1                 -1                        1          0   \n14          1                  1                        0          0   \n15         -1                 -1                        1          0   \n16         -1                 -1                        1          0   \n17          0                 -1                       -1          0   \n18          1                  1                        0          1   \n19         -1                 -1                       -1          0   \n20         -1                 -1                       -1          0   \n21          1                  1                        1          0   \n22         -1                 -1                        1          0   \n23         -1                 -1                       -1          0   \n\n    Sadness %  Subtance Misuse Mortality  Opoid Mortality  Life Expectancy  \\\n0           0                         -1               -1                1   \n1          -1                         -1               -1                1   \n2          -1                         -1               -1                1   \n3          -1                         -1               -1                1   \n4           0                         -1               -1                1   \n5          -1                          1                0                0   \n6           0                          0                0                0   \n7           1                          1                1                0   \n8          -1                         -1               -1                1   \n9           0                          0                0                0   \n10          0                          0                0                0   \n11          0                          0                0                0   \n12          0                          0                0                0   \n13         -1                         -1               -1                1   \n14          0                          0                0                0   \n15         -1                         -1               -1                1   \n16         -1                         -1               -1                1   \n17          0                          0                0                0   \n18          0                          0                0               -1   \n19          0                          1                0               -1   \n20          0                          1                0               -1   \n21          0                          0                0                0   \n22         -1                         -1               -1                1   \n23          0                          0                0                0   \n\n    All Cause Mortality  \n0                    -1  \n1                    -1  \n2                    -1  \n3                    -1  \n4                     0  \n5                     0  \n6                     0  \n7                     0  \n8                    -1  \n9                     0  \n10                   -1  \n11                    0  \n12                    0  \n13                   -1  \n14                    0  \n15                   -1  \n16                   -1  \n17                    0  \n18                    1  \n19                    1  \n20                    1  \n21                    0  \n22                   -1  \n23                    0  \n\n[24 rows x 50 columns]"
                    }, 
                    "execution_count": 115
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "df_combined_raw=boston_grouped.join(df_health_statistics_mod.set_index('Neighbourhood'), on='Neighbourhood')\ndf_combined_raw", 
            "cell_type": "code", 
            "execution_count": 116, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Accessories Store</th>\n      <th>Airport Terminal</th>\n      <th>American Restaurant</th>\n      <th>Arepa Restaurant</th>\n      <th>Art Gallery</th>\n      <th>Art Museum</th>\n      <th>Arts &amp; Crafts Store</th>\n      <th>Asian Restaurant</th>\n      <th>Athletics &amp; Sports</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Allston</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Back Bay</td>\n      <td>0.020000</td>\n      <td>0.000000</td>\n      <td>0.060000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Bay Village</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.047619</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.011905</td>\n      <td>0.011905</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Beacon Hill</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.018519</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.018519</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Brighton</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.027778</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Charlestown</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.035714</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Chinatown</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.011236</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.078652</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Dorchester</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Downtown</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.040000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.020000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>East Boston</td>\n      <td>0.000000</td>\n      <td>0.083333</td>\n      <td>0.083333</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>Fenway</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.060000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>Jamaica Plain</td>\n      <td>0.035714</td>\n      <td>0.000000</td>\n      <td>0.035714</td>\n      <td>0.000000</td>\n      <td>0.071429</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.035714</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Leather District</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.030303</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010101</td>\n      <td>0.000000</td>\n      <td>0.070707</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>Longwood</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.040000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>Mattapan</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Mission Hill</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.052632</td>\n      <td>0.000000</td>\n      <td>0.026316</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>North End</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Roslindale</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>Roxbury</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>South Boston</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>South Boston Waterfront</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.090909</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>South End</td>\n      <td>0.012987</td>\n      <td>0.000000</td>\n      <td>0.051948</td>\n      <td>0.012987</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.012987</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>West End</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.043956</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010989</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>West Roxbury</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>24 rows \u00d7 244 columns</p>\n</div>", 
                        "text/plain": "              Neighbourhood  Accessories Store  Airport Terminal  \\\n0                   Allston           0.000000          0.000000   \n1                  Back Bay           0.020000          0.000000   \n2               Bay Village           0.000000          0.000000   \n3               Beacon Hill           0.000000          0.000000   \n4                  Brighton           0.000000          0.000000   \n5               Charlestown           0.000000          0.000000   \n6                 Chinatown           0.000000          0.000000   \n7                Dorchester           0.000000          0.000000   \n8                  Downtown           0.000000          0.000000   \n9               East Boston           0.000000          0.083333   \n10                   Fenway           0.000000          0.000000   \n11            Jamaica Plain           0.035714          0.000000   \n12         Leather District           0.000000          0.000000   \n13                 Longwood           0.000000          0.000000   \n14                 Mattapan           0.000000          0.000000   \n15             Mission Hill           0.000000          0.000000   \n16                North End           0.000000          0.000000   \n17               Roslindale           0.000000          0.000000   \n18                  Roxbury           0.000000          0.000000   \n19             South Boston           0.000000          0.000000   \n20  South Boston Waterfront           0.000000          0.000000   \n21                South End           0.012987          0.000000   \n22                 West End           0.000000          0.000000   \n23             West Roxbury           0.000000          0.000000   \n\n    American Restaurant  Arepa Restaurant  Art Gallery  Art Museum  \\\n0              0.000000          0.000000     0.000000    0.000000   \n1              0.060000          0.000000     0.000000    0.000000   \n2              0.047619          0.000000     0.000000    0.000000   \n3              0.018519          0.000000     0.000000    0.000000   \n4              0.027778          0.000000     0.000000    0.000000   \n5              0.000000          0.000000     0.000000    0.000000   \n6              0.011236          0.000000     0.000000    0.000000   \n7              0.000000          0.000000     0.000000    0.000000   \n8              0.040000          0.000000     0.000000    0.000000   \n9              0.083333          0.000000     0.000000    0.000000   \n10             0.060000          0.000000     0.010000    0.000000   \n11             0.035714          0.000000     0.071429    0.000000   \n12             0.030303          0.000000     0.000000    0.010101   \n13             0.040000          0.000000     0.000000    0.000000   \n14             0.000000          0.000000     0.000000    0.000000   \n15             0.052632          0.000000     0.026316    0.000000   \n16             0.010000          0.000000     0.000000    0.000000   \n17             0.000000          0.000000     0.000000    0.000000   \n18             0.000000          0.000000     0.000000    0.000000   \n19             0.000000          0.000000     0.000000    0.000000   \n20             0.090909          0.000000     0.000000    0.000000   \n21             0.051948          0.012987     0.000000    0.000000   \n22             0.043956          0.000000     0.000000    0.000000   \n23             0.000000          0.000000     0.000000    0.000000   \n\n    Arts & Crafts Store  Asian Restaurant  Athletics & Sports  ...  \\\n0              0.000000          0.000000            0.000000  ...   \n1              0.000000          0.000000            0.010000  ...   \n2              0.011905          0.011905            0.000000  ...   \n3              0.000000          0.000000            0.018519  ...   \n4              0.000000          0.000000            0.000000  ...   \n5              0.000000          0.000000            0.035714  ...   \n6              0.000000          0.078652            0.000000  ...   \n7              0.000000          0.000000            0.000000  ...   \n8              0.000000          0.020000            0.000000  ...   \n9              0.000000          0.000000            0.000000  ...   \n10             0.000000          0.000000            0.010000  ...   \n11             0.000000          0.035714            0.000000  ...   \n12             0.000000          0.070707            0.000000  ...   \n13             0.000000          0.000000            0.000000  ...   \n14             0.000000          0.000000            0.000000  ...   \n15             0.000000          0.000000            0.000000  ...   \n16             0.000000          0.000000            0.010000  ...   \n17             0.000000          0.000000            0.000000  ...   \n18             0.000000          0.000000            0.000000  ...   \n19             0.000000          0.000000            0.000000  ...   \n20             0.000000          0.000000            0.000000  ...   \n21             0.000000          0.012987            0.000000  ...   \n22             0.000000          0.010989            0.000000  ...   \n23             0.000000          0.000000            0.000000  ...   \n\n    Gonorrhea Inc  Injury ER  Assault Injury ER  Mental Hospitalizations  \\\n0              -1         -1                 -1                        1   \n1              -1         -1                 -1                        1   \n2              -1         -1                 -1                        1   \n3              -1         -1                 -1                        1   \n4              -1         -1                 -1                        1   \n5               0         -1                 -1                       -1   \n6               1          1                  1                        1   \n7               1          1                  1                       -1   \n8              -1         -1                 -1                        1   \n9              -1         -1                 -1                       -1   \n10             -1         -1                 -1                        1   \n11              0         -1                 -1                        0   \n12              1          1                  1                        1   \n13             -1         -1                 -1                        1   \n14              1          1                  1                        0   \n15             -1         -1                 -1                        1   \n16             -1         -1                 -1                        1   \n17             -1          0                 -1                       -1   \n18              1          1                  1                        0   \n19             -1         -1                 -1                       -1   \n20             -1         -1                 -1                       -1   \n21              1          1                  1                        1   \n22             -1         -1                 -1                        1   \n23             -1         -1                 -1                       -1   \n\n    Anxiety %  Sadness %  Subtance Misuse Mortality  Opoid Mortality  \\\n0           0          0                         -1               -1   \n1           0         -1                         -1               -1   \n2           0         -1                         -1               -1   \n3           0         -1                         -1               -1   \n4           0          0                         -1               -1   \n5           0         -1                          1                0   \n6           0          0                          0                0   \n7           0          1                          1                1   \n8           0         -1                         -1               -1   \n9           0          0                          0                0   \n10          0          0                          0                0   \n11          0          0                          0                0   \n12          0          0                          0                0   \n13          0         -1                         -1               -1   \n14          0          0                          0                0   \n15          0         -1                         -1               -1   \n16          0         -1                         -1               -1   \n17          0          0                          0                0   \n18          1          0                          0                0   \n19          0          0                          1                0   \n20          0          0                          1                0   \n21          0          0                          0                0   \n22          0         -1                         -1               -1   \n23          0          0                          0                0   \n\n    Life Expectancy  All Cause Mortality  \n0                 1                   -1  \n1                 1                   -1  \n2                 1                   -1  \n3                 1                   -1  \n4                 1                    0  \n5                 0                    0  \n6                 0                    0  \n7                 0                    0  \n8                 1                   -1  \n9                 0                    0  \n10                0                   -1  \n11                0                    0  \n12                0                    0  \n13                1                   -1  \n14                0                    0  \n15                1                   -1  \n16                1                   -1  \n17                0                    0  \n18               -1                    1  \n19               -1                    1  \n20               -1                    1  \n21                0                    0  \n22                1                   -1  \n23                0                    0  \n\n[24 rows x 244 columns]"
                    }, 
                    "execution_count": 116
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "from sklearn.cluster import KMeans\n\n# set number of clusters\nkclusters =5\n\ndf_combined_clustering = df_combined_raw.drop('Neighbourhood',1)\n\n#run k-means clustering\nkmeans = KMeans(n_clusters=kclusters, random_state=0).fit(df_combined_clustering)\n\n# check cluster labels generated for each row in the dataframe\nkmeans.labels_[0:23] ", 
            "cell_type": "code", 
            "execution_count": 117, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "array([0, 1, 1, 1, 0, 4, 2, 3, 1, 3, 0, 4, 2, 1, 3, 1, 1, 4, 3, 4, 4, 2,\n       1], dtype=int32)"
                    }, 
                    "execution_count": 117
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "# add clustering labels\ndf_combined.insert(0, 'Cluster Labels', kmeans.labels_)\ndf_combined", 
            "cell_type": "code", 
            "execution_count": 118, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Cluster Labels</th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>0</td>\n      <td>Allston</td>\n      <td>Rental Car Location</td>\n      <td>Donut Shop</td>\n      <td>Convenience Store</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Smoke Shop</td>\n      <td>Liquor Store</td>\n      <td>Plaza</td>\n      <td>Pizza Place</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1</td>\n      <td>Back Bay</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Italian Restaurant</td>\n      <td>Clothing Store</td>\n      <td>Seafood Restaurant</td>\n      <td>Hotel</td>\n      <td>Ice Cream Shop</td>\n      <td>Gym</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>1</td>\n      <td>Bay Village</td>\n      <td>Theater</td>\n      <td>Spa</td>\n      <td>Hotel</td>\n      <td>Sandwich Place</td>\n      <td>American Restaurant</td>\n      <td>Seafood Restaurant</td>\n      <td>Performing Arts Venue</td>\n      <td>Coffee Shop</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>1</td>\n      <td>Beacon Hill</td>\n      <td>Pizza Place</td>\n      <td>Playground</td>\n      <td>Italian Restaurant</td>\n      <td>Park</td>\n      <td>Plaza</td>\n      <td>French Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>Gift Shop</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>0</td>\n      <td>Brighton</td>\n      <td>Bakery</td>\n      <td>Pizza Place</td>\n      <td>Dry Cleaner</td>\n      <td>Sandwich Place</td>\n      <td>Greek Restaurant</td>\n      <td>Chinese Restaurant</td>\n      <td>Bank</td>\n      <td>Caf\u00e9</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>4</td>\n      <td>Charlestown</td>\n      <td>Pizza Place</td>\n      <td>Convenience Store</td>\n      <td>Coffee Shop</td>\n      <td>Thai Restaurant</td>\n      <td>Pet Store</td>\n      <td>Deli / Bodega</td>\n      <td>Dog Run</td>\n      <td>Donut Shop</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>2</td>\n      <td>Chinatown</td>\n      <td>Chinese Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Bakery</td>\n      <td>Sushi Restaurant</td>\n      <td>Bubble Tea Shop</td>\n      <td>Theater</td>\n      <td>Hotel Bar</td>\n      <td>Performing Arts Venue</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>3</td>\n      <td>Dorchester</td>\n      <td>Vietnamese Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Pub</td>\n      <td>Clothing Store</td>\n      <td>Cajun / Creole Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Bar</td>\n      <td>Liquor Store</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>1</td>\n      <td>Downtown</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Italian Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>New American Restaurant</td>\n      <td>Historic Site</td>\n      <td>Salad Place</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>3</td>\n      <td>East Boston</td>\n      <td>Park</td>\n      <td>Pizza Place</td>\n      <td>Gym</td>\n      <td>Airport Terminal</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>Convenience Store</td>\n      <td>Brazilian Restaurant</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>0</td>\n      <td>Fenway</td>\n      <td>American Restaurant</td>\n      <td>Sports Bar</td>\n      <td>Coffee Shop</td>\n      <td>Lounge</td>\n      <td>Pizza Place</td>\n      <td>Hotel</td>\n      <td>Caf\u00e9</td>\n      <td>Baseball Field</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>4</td>\n      <td>Jamaica Plain</td>\n      <td>Pub</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Bakery</td>\n      <td>Art Gallery</td>\n      <td>Coffee Shop</td>\n      <td>Record Shop</td>\n      <td>Bar</td>\n      <td>Taco Place</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>2</td>\n      <td>Leather District</td>\n      <td>Bakery</td>\n      <td>Chinese Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Food Truck</td>\n      <td>American Restaurant</td>\n      <td>Vegetarian / Vegan Restaurant</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>1</td>\n      <td>Longwood</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Falafel Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bus Stop</td>\n      <td>Gym</td>\n      <td>Gastropub</td>\n      <td>Frozen Yogurt Shop</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>3</td>\n      <td>Mattapan</td>\n      <td>Ice Cream Shop</td>\n      <td>Furniture / Home Store</td>\n      <td>French Restaurant</td>\n      <td>Food Court</td>\n      <td>Flower Shop</td>\n      <td>Fish Market</td>\n      <td>Fast Food Restaurant</td>\n      <td>Farmers Market</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>1</td>\n      <td>Mission Hill</td>\n      <td>Pizza Place</td>\n      <td>Donut Shop</td>\n      <td>Sushi Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Light Rail Station</td>\n      <td>Indian Restaurant</td>\n      <td>Pub</td>\n      <td>Caribbean Restaurant</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>1</td>\n      <td>North End</td>\n      <td>Italian Restaurant</td>\n      <td>Park</td>\n      <td>Seafood Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Bakery</td>\n      <td>Wine Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Market</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>4</td>\n      <td>Roslindale</td>\n      <td>Ice Cream Shop</td>\n      <td>Sandwich Place</td>\n      <td>Plaza</td>\n      <td>Farmers Market</td>\n      <td>Bar</td>\n      <td>Greek Restaurant</td>\n      <td>Grocery Store</td>\n      <td>Bakery</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>3</td>\n      <td>Roxbury</td>\n      <td>Fried Chicken Joint</td>\n      <td>Fast Food Restaurant</td>\n      <td>Basketball Court</td>\n      <td>Electronics Store</td>\n      <td>Museum</td>\n      <td>Shopping Mall</td>\n      <td>Grocery Store</td>\n      <td>Gym</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>4</td>\n      <td>South Boston</td>\n      <td>Climbing Gym</td>\n      <td>Train</td>\n      <td>Chinese Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bar</td>\n      <td>Dive Bar</td>\n      <td>Grocery Store</td>\n      <td>Gym</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>4</td>\n      <td>South Boston Waterfront</td>\n      <td>Seafood Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>Donut Shop</td>\n      <td>Steakhouse</td>\n      <td>Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Mexican Restaurant</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>2</td>\n      <td>South End</td>\n      <td>American Restaurant</td>\n      <td>Wine Bar</td>\n      <td>Mexican Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Pet Store</td>\n      <td>Park</td>\n      <td>Italian Restaurant</td>\n      <td>Deli / Bodega</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>1</td>\n      <td>West End</td>\n      <td>Sandwich Place</td>\n      <td>Pizza Place</td>\n      <td>Hotel</td>\n      <td>Donut Shop</td>\n      <td>Bar</td>\n      <td>Caf\u00e9</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>4</td>\n      <td>West Roxbury</td>\n      <td>Grocery Store</td>\n      <td>Pizza Place</td>\n      <td>Pharmacy</td>\n      <td>Pub</td>\n      <td>Park</td>\n      <td>Salon / Barbershop</td>\n      <td>Flower Shop</td>\n      <td>Liquor Store</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>24 rows \u00d7 51 columns</p>\n</div>", 
                        "text/plain": "    Cluster Labels            Neighbourhood  1st Most Common Venue  \\\n0                0                  Allston    Rental Car Location   \n1                1                 Back Bay    American Restaurant   \n2                1              Bay Village                Theater   \n3                1              Beacon Hill            Pizza Place   \n4                0                 Brighton                 Bakery   \n5                4              Charlestown            Pizza Place   \n6                2                Chinatown     Chinese Restaurant   \n7                3               Dorchester  Vietnamese Restaurant   \n8                1                 Downtown            Coffee Shop   \n9                3              East Boston                   Park   \n10               0                   Fenway    American Restaurant   \n11               4            Jamaica Plain                    Pub   \n12               2         Leather District                 Bakery   \n13               1                 Longwood            Coffee Shop   \n14               3                 Mattapan         Ice Cream Shop   \n15               1             Mission Hill            Pizza Place   \n16               1                North End     Italian Restaurant   \n17               4               Roslindale         Ice Cream Shop   \n18               3                  Roxbury    Fried Chicken Joint   \n19               4             South Boston           Climbing Gym   \n20               4  South Boston Waterfront     Seafood Restaurant   \n21               2                South End    American Restaurant   \n22               1                 West End         Sandwich Place   \n23               4             West Roxbury          Grocery Store   \n\n     2nd Most Common Venue 3rd Most Common Venue   4th Most Common Venue  \\\n0               Donut Shop     Convenience Store  Thrift / Vintage Store   \n1              Coffee Shop    Italian Restaurant          Clothing Store   \n2                      Spa                 Hotel          Sandwich Place   \n3               Playground    Italian Restaurant                    Park   \n4              Pizza Place           Dry Cleaner          Sandwich Place   \n5        Convenience Store           Coffee Shop         Thai Restaurant   \n6         Asian Restaurant                Bakery        Sushi Restaurant   \n7                     Caf\u00e9                   Pub          Clothing Store   \n8           Sandwich Place    Italian Restaurant     American Restaurant   \n9              Pizza Place                   Gym        Airport Terminal   \n10              Sports Bar           Coffee Shop                  Lounge   \n11  Thrift / Vintage Store                Bakery             Art Gallery   \n12      Chinese Restaurant      Asian Restaurant             Coffee Shop   \n13                    Caf\u00e9    Falafel Restaurant          Sandwich Place   \n14  Furniture / Home Store     French Restaurant              Food Court   \n15              Donut Shop      Sushi Restaurant     American Restaurant   \n16                    Park    Seafood Restaurant             Pizza Place   \n17          Sandwich Place                 Plaza          Farmers Market   \n18    Fast Food Restaurant      Basketball Court       Electronics Store   \n19                   Train    Chinese Restaurant          Sandwich Place   \n20     American Restaurant                 Hotel              Donut Shop   \n21                Wine Bar    Mexican Restaurant             Pizza Place   \n22             Pizza Place                 Hotel              Donut Shop   \n23             Pizza Place              Pharmacy                     Pub   \n\n        5th Most Common Venue    6th Most Common Venue  7th Most Common Venue  \\\n0                  Smoke Shop             Liquor Store                  Plaza   \n1          Seafood Restaurant                    Hotel         Ice Cream Shop   \n2         American Restaurant       Seafood Restaurant  Performing Arts Venue   \n3                       Plaza        French Restaurant       Sushi Restaurant   \n4            Greek Restaurant       Chinese Restaurant                   Bank   \n5                   Pet Store            Deli / Bodega                Dog Run   \n6             Bubble Tea Shop                  Theater              Hotel Bar   \n7   Cajun / Creole Restaurant               Donut Shop                    Bar   \n8                       Hotel  New American Restaurant          Historic Site   \n9         American Restaurant                    Hotel      Convenience Store   \n10                Pizza Place                    Hotel                   Caf\u00e9   \n11                Coffee Shop              Record Shop                    Bar   \n12             Sandwich Place               Food Truck    American Restaurant   \n13                   Bus Stop                      Gym              Gastropub   \n14                Flower Shop              Fish Market   Fast Food Restaurant   \n15         Light Rail Station        Indian Restaurant                    Pub   \n16                     Bakery                Wine Shop                   Caf\u00e9   \n17                        Bar         Greek Restaurant          Grocery Store   \n18                     Museum            Shopping Mall          Grocery Store   \n19                        Bar                 Dive Bar          Grocery Store   \n20                 Steakhouse               Restaurant         Sandwich Place   \n21                  Pet Store                     Park     Italian Restaurant   \n22                        Bar                     Caf\u00e9    American Restaurant   \n23                       Park       Salon / Barbershop            Flower Shop   \n\n            8th Most Common Venue  ... Gonorrhea Inc Injury ER  \\\n0                     Pizza Place  ...            -1        -1   \n1                             Gym  ...            -1        -1   \n2                     Coffee Shop  ...            -1        -1   \n3                       Gift Shop  ...            -1        -1   \n4                            Caf\u00e9  ...            -1        -1   \n5                      Donut Shop  ...             0        -1   \n6           Performing Arts Venue  ...             1         1   \n7                    Liquor Store  ...             1         1   \n8                     Salad Place  ...            -1        -1   \n9            Brazilian Restaurant  ...            -1        -1   \n10                 Baseball Field  ...            -1        -1   \n11                     Taco Place  ...             0        -1   \n12  Vegetarian / Vegan Restaurant  ...             1         1   \n13             Frozen Yogurt Shop  ...            -1        -1   \n14                 Farmers Market  ...             1         1   \n15           Caribbean Restaurant  ...            -1        -1   \n16                         Market  ...            -1        -1   \n17                         Bakery  ...            -1         0   \n18                            Gym  ...             1         1   \n19                            Gym  ...            -1        -1   \n20             Mexican Restaurant  ...            -1        -1   \n21                  Deli / Bodega  ...             1         1   \n22                    Coffee Shop  ...            -1        -1   \n23                   Liquor Store  ...            -1        -1   \n\n    Assault Injury ER  Mental Hospitalizations  Anxiety %  Sadness %  \\\n0                  -1                        1          0          0   \n1                  -1                        1          0         -1   \n2                  -1                        1          0         -1   \n3                  -1                        1          0         -1   \n4                  -1                        1          0          0   \n5                  -1                       -1          0         -1   \n6                   1                        1          0          0   \n7                   1                       -1          0          1   \n8                  -1                        1          0         -1   \n9                  -1                       -1          0          0   \n10                 -1                        1          0          0   \n11                 -1                        0          0          0   \n12                  1                        1          0          0   \n13                 -1                        1          0         -1   \n14                  1                        0          0          0   \n15                 -1                        1          0         -1   \n16                 -1                        1          0         -1   \n17                 -1                       -1          0          0   \n18                  1                        0          1          0   \n19                 -1                       -1          0          0   \n20                 -1                       -1          0          0   \n21                  1                        1          0          0   \n22                 -1                        1          0         -1   \n23                 -1                       -1          0          0   \n\n    Subtance Misuse Mortality  Opoid Mortality  Life Expectancy  \\\n0                          -1               -1                1   \n1                          -1               -1                1   \n2                          -1               -1                1   \n3                          -1               -1                1   \n4                          -1               -1                1   \n5                           1                0                0   \n6                           0                0                0   \n7                           1                1                0   \n8                          -1               -1                1   \n9                           0                0                0   \n10                          0                0                0   \n11                          0                0                0   \n12                          0                0                0   \n13                         -1               -1                1   \n14                          0                0                0   \n15                         -1               -1                1   \n16                         -1               -1                1   \n17                          0                0                0   \n18                          0                0               -1   \n19                          1                0               -1   \n20                          1                0               -1   \n21                          0                0                0   \n22                         -1               -1                1   \n23                          0                0                0   \n\n    All Cause Mortality  \n0                    -1  \n1                    -1  \n2                    -1  \n3                    -1  \n4                     0  \n5                     0  \n6                     0  \n7                     0  \n8                    -1  \n9                     0  \n10                   -1  \n11                    0  \n12                    0  \n13                   -1  \n14                    0  \n15                   -1  \n16                   -1  \n17                    0  \n18                    1  \n19                    1  \n20                    1  \n21                    0  \n22                   -1  \n23                    0  \n\n[24 rows x 51 columns]"
                    }, 
                    "execution_count": 118
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "### Visualize resulting combined data  clusters overlayed on map", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "# Matplotlib and associated plotting modules\nimport matplotlib.cm as cm\nimport matplotlib.colors as colors\n\n# create map\nmap_clusters = folium.Map(location=[latitude, longitude], zoom_start=11)\n\n# set color scheme for the clusters\nx = np.arange(kclusters)\nys = [i + x + (i*x)**2 for i in range(kclusters)]\ncolors_array = cm.rainbow(np.linspace(0, 1, len(ys)))\nrainbow = [colors.rgb2hex(i) for i in colors_array]\n\n# add markers to the map\nmarkers_colors = []\nfor lat, lon, poi, cluster in zip(df_health_statistics_merged['Latitude'], df_health_statistics_merged['Longitude'], df_health_statistics_merged['Neighbourhood'],df_health_statistics_merged['Cluster Labels']):\n    label = folium.Popup(str(poi) + ' Cluster ' + str(cluster), parse_html=True)\n    folium.CircleMarker(\n        [lat, lon],\n        radius=5,\n        popup=label,\n        color=rainbow[cluster-1],\n        fill=True,\n        fill_color=rainbow[cluster-1],\n        fill_opacity=0.7).add_to(map_clusters)\nmap_clusters", 
            "cell_type": "code", 
            "execution_count": 119, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzZkYWI2NTFkYmU1YjRlNGJiZWJhMGQ4ODgxYTRmMjNlIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF82ZGFiNjUxZGJlNWI0ZTRiYmViYTBkODg4MWE0ZjIzZSA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF82ZGFiNjUxZGJlNWI0ZTRiYmViYTBkODg4MWE0ZjIzZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDIuMzYwMjUzNCwtNzEuMDU4MjkxMl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfYWIyMmE4NTNlNTdjNDMwMzg3MzIxMTkyMWVkZTZjMTkgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzExM2M2YTQxZmJmNzQ4ZTU5ZDExZmVhZGY1ZjA3NTI3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzU4Mzk2MjAwMDAwMDEsLTcxLjEyODU2MjI4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzZkYWI2NTFkYmU1YjRlNGJiZWJhMGQ4ODgxYTRmMjNlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQxZWIxYjFkYzNiNDQ3Zjk5ZTk5MTc1M2MyY2VhMjMwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg1MzAwODVkNjQwZTQ2ZDA5NGUxOWRiZWRjZDdmNGY4ID0gJCgnPGRpdiBpZD0iaHRtbF84NTMwMDg1ZDY0MGU0NmQwOTRlMTlkYmVkY2Q3ZjRmOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWxsc3RvbiBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQxZWIxYjFkYzNiNDQ3Zjk5ZTk5MTc1M2MyY2VhMjMwLnNldENvbnRlbnQoaHRtbF84NTMwMDg1ZDY0MGU0NmQwOTRlMTlkYmVkY2Q3ZjRmOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMTNjNmE0MWZiZjc0OGU1OWQxMWZlYWRmNWYwNzUyNy5iaW5kUG9wdXAocG9wdXBfNDFlYjFiMWRjM2I0NDdmOTllOTkxNzUzYzJjZWEyMzApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGVkMmE2ZjNiOGJlNGU2MDk1MjI2ZmM3Yjg0YWExNzEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDk4NTE4MSwtNzEuMDgwNTM0OTJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWNiYjYxZTI5OGM2NDY0NGFmZTU4ZDJlYTRkZTFhZWQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmM0OWMwNzMzOWE0NDMyNGI3MzI3OGQzODEyYjQwMjcgPSAkKCc8ZGl2IGlkPSJodG1sXzZjNDljMDczMzlhNDQzMjRiNzMyNzhkMzgxMmI0MDI3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYWNrIEJheSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FjYmI2MWUyOThjNjQ2NDRhZmU1OGQyZWE0ZGUxYWVkLnNldENvbnRlbnQoaHRtbF82YzQ5YzA3MzM5YTQ0MzI0YjczMjc4ZDM4MTJiNDAyNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kZWQyYTZmM2I4YmU0ZTYwOTUyMjZmYzdiODRhYTE3MS5iaW5kUG9wdXAocG9wdXBfYWNiYjYxZTI5OGM2NDY0NGFmZTU4ZDJlYTRkZTFhZWQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjNmZWQ5M2VmMTUwNDhkZmJjNTMxNGIxYzY0MWIzNDUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDkwOTQ1NywtNzEuMDY5MDMxNDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTNlODJlOGY3YmRkNDJiN2JkMzVhZGFhMGFmNjc5OGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzcxNzAwNGFmNjRmNGVjODg1OTNmMzA1YmExYTQ1OTYgPSAkKCc8ZGl2IGlkPSJodG1sX2M3MTcwMDRhZjY0ZjRlYzg4NTkzZjMwNWJhMWE0NTk2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXkgVmlsbGFnZSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UzZTgyZThmN2JkZDQyYjdiZDM1YWRhYTBhZjY3OThjLnNldENvbnRlbnQoaHRtbF9jNzE3MDA0YWY2NGY0ZWM4ODU5M2YzMDViYTFhNDU5Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yM2ZlZDkzZWYxNTA0OGRmYmM1MzE0YjFjNjQxYjM0NS5iaW5kUG9wdXAocG9wdXBfZTNlODJlOGY3YmRkNDJiN2JkMzVhZGFhMGFmNjc5OGMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTk5MGUzMmZjODk2NGJiM2FlODQ1MzljNzU1NGQwMzMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNTcwNDEzMiwtNzEuMDY4MjYxNzddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWViMjQ5YTk3YzljNGVhNWJkYjdmODU3MjQ1OTQ1MTQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTQ3MDFiMTBhZWZhNGZmNTg3ODA3ZmQxOTZmNWNlYmYgPSAkKCc8ZGl2IGlkPSJodG1sX2U0NzAxYjEwYWVmYTRmZjU4NzgwN2ZkMTk2ZjVjZWJmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CZWFjb24gSGlsbCBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VlYjI0OWE5N2M5YzRlYTViZGI3Zjg1NzI0NTk0NTE0LnNldENvbnRlbnQoaHRtbF9lNDcwMWIxMGFlZmE0ZmY1ODc4MDdmZDE5NmY1Y2ViZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hOTkwZTMyZmM4OTY0YmIzYWU4NDUzOWM3NTU0ZDAzMy5iaW5kUG9wdXAocG9wdXBfZWViMjQ5YTk3YzljNGVhNWJkYjdmODU3MjQ1OTQ1MTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODRiM2RlZTA0ZDQ0NDM2Njg4MWE1ZmU5Mjg5NDliZGIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDU0NDc5NCwtNzEuMTU1MDI1ODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjVjMDg2ZDU4NmU4NGEzODliNDJkMjJjMTc2N2IxMzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjUyZTlmMDAwOTI3NDdkMGI1N2JhN2UyYjBiNTQyZmIgPSAkKCc8ZGl2IGlkPSJodG1sX2Y1MmU5ZjAwMDkyNzQ3ZDBiNTdiYTdlMmIwYjU0MmZiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CcmlnaHRvbiBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI1YzA4NmQ1ODZlODRhMzg5YjQyZDIyYzE3NjdiMTMxLnNldENvbnRlbnQoaHRtbF9mNTJlOWYwMDA5Mjc0N2QwYjU3YmE3ZTJiMGI1NDJmYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84NGIzZGVlMDRkNDQ0MzY2ODgxYTVmZTkyODk0OWJkYi5iaW5kUG9wdXAocG9wdXBfMjVjMDg2ZDU4NmU4NGEzODliNDJkMjJjMTc2N2IxMzEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGMwMjZjNTlkY2U0NDM2OTgwYjYyNmUwMDFkNTJkOGIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNzkwNDQ0NSwtNzEuMDYzNjY0NDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjkxZjVjYTY5NzM5NDVkNzgwZmNhZmU0Mzk3ZDM2YTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmUzMWM5ZTNhNTA5NDhlOWJhMGRiMjI0ZjI4YjE0YTcgPSAkKCc8ZGl2IGlkPSJodG1sXzJlMzFjOWUzYTUwOTQ4ZTliYTBkYjIyNGYyOGIxNGE3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGFybGVzdG93biBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY5MWY1Y2E2OTczOTQ1ZDc4MGZjYWZlNDM5N2QzNmE1LnNldENvbnRlbnQoaHRtbF8yZTMxYzllM2E1MDk0OGU5YmEwZGIyMjRmMjhiMTRhNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80YzAyNmM1OWRjZTQ0MzY5ODBiNjI2ZTAwMWQ1MmQ4Yi5iaW5kUG9wdXAocG9wdXBfNjkxZjVjYTY5NzM5NDVkNzgwZmNhZmU0Mzk3ZDM2YTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDA4YTNmNzIzOWZhNDM0Mjk4OTRiNzUxMzE1NjU4ZWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDkwMTg2NCwtNzEuMDYxNjYxNDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmFmODBjY2M2NzdlNGY0NWIyOGQ4NDI5YTViMTg5MTcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjkwOGYwMWU0N2NhNGExMmEzYzUzYmM0NjkxMTI4NzUgPSAkKCc8ZGl2IGlkPSJodG1sX2Y5MDhmMDFlNDdjYTRhMTJhM2M1M2JjNDY5MTEyODc1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluYXRvd24gQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mYWY4MGNjYzY3N2U0ZjQ1YjI4ZDg0MjlhNWIxODkxNy5zZXRDb250ZW50KGh0bWxfZjkwOGYwMWU0N2NhNGExMmEzYzUzYmM0NjkxMTI4NzUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDA4YTNmNzIzOWZhNDM0Mjk4OTRiNzUxMzE1NjU4ZWEuYmluZFBvcHVwKHBvcHVwX2ZhZjgwY2NjNjc3ZTRmNDViMjhkODQyOWE1YjE4OTE3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzljMWIxYTM1Y2E5MjRkZmI4ZjE1ODQxYzQwNjZmNDlmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMjk4NDUxNDUsLTcxLjA2MzQ1NzMzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzZkYWI2NTFkYmU1YjRlNGJiZWJhMGQ4ODgxYTRmMjNlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZkNzE2MWYzMDhmMzQzMGE5ZGEyNjJkZTEzN2U0NTA4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VjODRkYTM2YjEwZTQyNjE4NWYxZjcxZjczZTRiMDRhID0gJCgnPGRpdiBpZD0iaHRtbF9lYzg0ZGEzNmIxMGU0MjYxODVmMWY3MWY3M2U0YjA0YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9yY2hlc3RlciBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZkNzE2MWYzMDhmMzQzMGE5ZGEyNjJkZTEzN2U0NTA4LnNldENvbnRlbnQoaHRtbF9lYzg0ZGEzNmIxMGU0MjYxODVmMWY3MWY3M2U0YjA0YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85YzFiMWEzNWNhOTI0ZGZiOGYxNTg0MWM0MDY2ZjQ5Zi5iaW5kUG9wdXAocG9wdXBfZmQ3MTYxZjMwOGYzNDMwYTlkYTI2MmRlMTM3ZTQ1MDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDUxYmRhMGZkNmY0NDM2NThiODA3MzlhMTg1MDkyOTAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNTU1ODQzMSwtNzEuMDU3NjUwMjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGU0NWFhY2NiZjhlNDRkZGE4NDNjZDQ3MTBiY2JhMzUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDBkNDhjNDg0MDg4NDNkMTkwYjA4OWQ5YzA4MjAxMGEgPSAkKCc8ZGl2IGlkPSJodG1sX2QwZDQ4YzQ4NDA4ODQzZDE5MGIwODlkOWMwODIwMTBhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3dudG93biBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhlNDVhYWNjYmY4ZTQ0ZGRhODQzY2Q0NzEwYmNiYTM1LnNldENvbnRlbnQoaHRtbF9kMGQ0OGM0ODQwODg0M2QxOTBiMDg5ZDljMDgyMDEwYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80NTFiZGEwZmQ2ZjQ0MzY1OGI4MDczOWExODUwOTI5MC5iaW5kUG9wdXAocG9wdXBfOGU0NWFhY2NiZjhlNDRkZGE4NDNjZDQ3MTBiY2JhMzUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjc2MDQzZDkyZWY3NDUzMjkwOGQzZDlhYjdmYWRkZDggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNzMwMzQyOSwtNzEuMDMwODE0MjZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGRjY2ExMzY5ZjVhNGQ2Yjk2ZWE5NDY4NmJkM2UyNzcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTg2ZWNkNDExNmViNDA5ZWE3NTE1YzQ1MTA2OWEwMjkgPSAkKCc8ZGl2IGlkPSJodG1sXzk4NmVjZDQxMTZlYjQwOWVhNzUxNWM0NTEwNjlhMDI5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IEJvc3RvbiBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRkY2NhMTM2OWY1YTRkNmI5NmVhOTQ2ODZiZDNlMjc3LnNldENvbnRlbnQoaHRtbF85ODZlY2Q0MTE2ZWI0MDllYTc1MTVjNDUxMDY5YTAyOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNzYwNDNkOTJlZjc0NTMyOTA4ZDNkOWFiN2ZhZGRkOC5iaW5kUG9wdXAocG9wdXBfNGRjY2ExMzY5ZjVhNGQ2Yjk2ZWE5NDY4NmJkM2UyNzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmNhNjdlNTViOTE2NGEzMGIzZjRiZDhlNjllMTIwNjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zNDQ3NTgzOTk5OTk5OTYsLTcxLjA5NjExMzg5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzZkYWI2NTFkYmU1YjRlNGJiZWJhMGQ4ODgxYTRmMjNlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzcwMTliOTU3ZjM2MDRkNDRhOTM4Yzk2YWVhNzY1ZjI4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ViYTgxZDJlNjJmZTQ1ZTY5OGVlZWMzN2RiYzc5MjM1ID0gJCgnPGRpdiBpZD0iaHRtbF9lYmE4MWQyZTYyZmU0NWU2OThlZWVjMzdkYmM3OTIzNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmVud2F5IENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzAxOWI5NTdmMzYwNGQ0NGE5MzhjOTZhZWE3NjVmMjguc2V0Q29udGVudChodG1sX2ViYTgxZDJlNjJmZTQ1ZTY5OGVlZWMzN2RiYzc5MjM1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZjYTY3ZTU1YjkxNjRhMzBiM2Y0YmQ4ZTY5ZTEyMDYxLmJpbmRQb3B1cChwb3B1cF83MDE5Yjk1N2YzNjA0ZDQ0YTkzOGM5NmFlYTc2NWYyOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83N2U1ZWNhMzlhZGE0MDNkYmQwNTc5ZTAyOGI0NjUwYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjMwNzc1OTU4LC03MS4xMTUwOTY4M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF82ZGFiNjUxZGJlNWI0ZTRiYmViYTBkODg4MWE0ZjIzZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zNGQyZDMzMmQ2ODU0NGVhYTg2ZTdmMmVmMDgxZDczZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lY2YwMDdkOGEzMGU0ZjM0ODllNTU4ODM1NmI5NzY4MyA9ICQoJzxkaXYgaWQ9Imh0bWxfZWNmMDA3ZDhhMzBlNGYzNDg5ZTU1ODgzNTZiOTc2ODMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkphbWFpY2EgUGxhaW4gQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zNGQyZDMzMmQ2ODU0NGVhYTg2ZTdmMmVmMDgxZDczZi5zZXRDb250ZW50KGh0bWxfZWNmMDA3ZDhhMzBlNGYzNDg5ZTU1ODgzNTZiOTc2ODMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzdlNWVjYTM5YWRhNDAzZGJkMDU3OWUwMjhiNDY1MGIuYmluZFBvcHVwKHBvcHVwXzM0ZDJkMzMyZDY4NTQ0ZWFhODZlN2YyZWYwODFkNzNmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBiOTMyYWExMGIxZTRiZDY4OTQxOWIwNTc5MTc2YTFjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzUwOTc0MjcsLTcxLjA1NzgyNzUxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzZkYWI2NTFkYmU1YjRlNGJiZWJhMGQ4ODgxYTRmMjNlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBiZjE2OTdiNWI5ZTRmY2ZhYzVkOGY3NjNlMDhhZTk1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJlNjBkODYwYzVlMjRkZjliZGQxZGZmZjQ0OThkMjRjID0gJCgnPGRpdiBpZD0iaHRtbF8yZTYwZDg2MGM1ZTI0ZGY5YmRkMWRmZmY0NDk4ZDI0YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGVhdGhlciBEaXN0cmljdCBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBiZjE2OTdiNWI5ZTRmY2ZhYzVkOGY3NjNlMDhhZTk1LnNldENvbnRlbnQoaHRtbF8yZTYwZDg2MGM1ZTI0ZGY5YmRkMWRmZmY0NDk4ZDI0Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wYjkzMmFhMTBiMWU0YmQ2ODk0MTliMDU3OTE3NmExYy5iaW5kUG9wdXAocG9wdXBfMGJmMTY5N2I1YjllNGZjZmFjNWQ4Zjc2M2UwOGFlOTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODE4YjQwOThlNmM4NDExOWI1MTI4YTJlNGM5ODg4ZWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zMzg2MDAxOSwtNzEuMTA1MTAyMDZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzMwZWFkOThlOTZiNDU1NWI3ZDliOWVmOTkzYTQyYjIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTg4M2QxMTJlODcyNDc3N2JhNTgzMDZlYmMwYTRjMTQgPSAkKCc8ZGl2IGlkPSJodG1sXzU4ODNkMTEyZTg3MjQ3NzdiYTU4MzA2ZWJjMGE0YzE0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Mb25nd29vZCBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzczMGVhZDk4ZTk2YjQ1NTViN2Q5YjllZjk5M2E0MmIyLnNldENvbnRlbnQoaHRtbF81ODgzZDExMmU4NzI0Nzc3YmE1ODMwNmViYzBhNGMxNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84MThiNDA5OGU2Yzg0MTE5YjUxMjhhMmU0Yzk4ODhlZS5iaW5kUG9wdXAocG9wdXBfNzMwZWFkOThlOTZiNDU1NWI3ZDliOWVmOTkzYTQyYjIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDQyNGE3ZDcyYTczNDY5ZGE5ZWY2OTY5MWJhNjQ3NGIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4yNzY5OTYzNSwtNzEuMDkxNDQ1MTFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmYyNGRkN2Y3OTdlNDBiZGJjZmE3OThjN2U2Y2NmNzIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWRhYTcxYTE0MTBlNDliMGJiMjNlYzA1NGE4MGE2MmEgPSAkKCc8ZGl2IGlkPSJodG1sXzFkYWE3MWExNDEwZTQ5YjBiYjIzZWMwNTRhODBhNjJhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NYXR0YXBhbiBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JmMjRkZDdmNzk3ZTQwYmRiY2ZhNzk4YzdlNmNjZjcyLnNldENvbnRlbnQoaHRtbF8xZGFhNzFhMTQxMGU0OWIwYmIyM2VjMDU0YTgwYTYyYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wNDI0YTdkNzJhNzM0NjlkYTllZjY5NjkxYmE2NDc0Yi5iaW5kUG9wdXAocG9wdXBfYmYyNGRkN2Y3OTdlNDBiZGJjZmE3OThjN2U2Y2NmNzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGQ0MDE5MzNmNGViNGQxYmI4YjM2MjYyNWI1OGMyMzAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zMzA3NDQ2MywtNzEuMTAyMjQ4NjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGU5YmEyOTVjYWNkNGQxYjliNjZiZjUzMGU0MTc2YmMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDkzMzIyYWE5MDFjNGQyMzllMmM1YWFkM2Y2NjBkOTUgPSAkKCc8ZGl2IGlkPSJodG1sX2Q5MzMyMmFhOTAxYzRkMjM5ZTJjNWFhZDNmNjYwZDk1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NaXNzaW9uIEhpbGwgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80ZTliYTI5NWNhY2Q0ZDFiOWI2NmJmNTMwZTQxNzZiYy5zZXRDb250ZW50KGh0bWxfZDkzMzIyYWE5MDFjNGQyMzllMmM1YWFkM2Y2NjBkOTUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOGQ0MDE5MzNmNGViNGQxYmI4YjM2MjYyNWI1OGMyMzAuYmluZFBvcHVwKHBvcHVwXzRlOWJhMjk1Y2FjZDRkMWI5YjY2YmY1MzBlNDE3NmJjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzYxMGMxNTMwMDZmMzQyZWQ4NTcwZDliYmUzODU0NTU3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzY1NDU2MDIsLTcxLjA1Mzg1NzEyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzZkYWI2NTFkYmU1YjRlNGJiZWJhMGQ4ODgxYTRmMjNlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QwMmQwNTkxZjY4NjRkMTc4NzkzZmY4MTczMjU1Y2ZkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U3M2JmOTA4ODQyYjQxYzZhNjkxZjM0ZGQ3ODRiMDAyID0gJCgnPGRpdiBpZD0iaHRtbF9lNzNiZjkwODg0MmI0MWM2YTY5MWYzNGRkNzg0YjAwMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggRW5kIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDAyZDA1OTFmNjg2NGQxNzg3OTNmZjgxNzMyNTVjZmQuc2V0Q29udGVudChodG1sX2U3M2JmOTA4ODQyYjQxYzZhNjkxZjM0ZGQ3ODRiMDAyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzYxMGMxNTMwMDZmMzQyZWQ4NTcwZDliYmUzODU0NTU3LmJpbmRQb3B1cChwb3B1cF9kMDJkMDU5MWY2ODY0ZDE3ODc5M2ZmODE3MzI1NWNmZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82MDlmYTIxMzdkMmM0MzJmYjYzMWZjNWYxNjhlYzBiNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjI4MjUxNTIzLC03MS4xMjY2NjE4NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF82ZGFiNjUxZGJlNWI0ZTRiYmViYTBkODg4MWE0ZjIzZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMjBmNzlmOWY0ZDk0MWI5YjA3YTRlMjIyY2Y1NGJkOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83MzUyOTM3YmNjMzg0OGQ0ODU0ZTcwMTFiMTI0ZmFjNyA9ICQoJzxkaXYgaWQ9Imh0bWxfNzM1MjkzN2JjYzM4NDhkNDg1NGU3MDExYjEyNGZhYzciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvc2xpbmRhbGUgQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wMjBmNzlmOWY0ZDk0MWI5YjA3YTRlMjIyY2Y1NGJkOC5zZXRDb250ZW50KGh0bWxfNzM1MjkzN2JjYzM4NDhkNDg1NGU3MDExYjEyNGZhYzcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjA5ZmEyMTM3ZDJjNDMyZmI2MzFmYzVmMTY4ZWMwYjUuYmluZFBvcHVwKHBvcHVwXzAyMGY3OWY5ZjRkOTQxYjliMDdhNGUyMjJjZjU0YmQ4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzVmNTZmZjcyMzU0NzRkMzM4N2FmNWZiODA1MDU5YzhlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzE4NTA4MTcsLTcxLjA4NjY0NDE4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzZkYWI2NTFkYmU1YjRlNGJiZWJhMGQ4ODgxYTRmMjNlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VlNTk0NzdhMjA1NTQzMmRhOWI5NjMzZTkzYWFmZjI5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk4Y2ViMzQxODMwNDQxN2ViOWI5OWQ1ZTM2ODNjYTRkID0gJCgnPGRpdiBpZD0iaHRtbF85OGNlYjM0MTgzMDQ0MTdlYjliOTlkNWUzNjgzY2E0ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um94YnVyeSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VlNTk0NzdhMjA1NTQzMmRhOWI5NjMzZTkzYWFmZjI5LnNldENvbnRlbnQoaHRtbF85OGNlYjM0MTgzMDQ0MTdlYjliOTlkNWUzNjgzY2E0ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81ZjU2ZmY3MjM1NDc0ZDMzODdhZjVmYjgwNTA1OWM4ZS5iaW5kUG9wdXAocG9wdXBfZWU1OTQ3N2EyMDU1NDMyZGE5Yjk2MzNlOTNhYWZmMjkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTcxOWE4NTc1NTZhNDQ3NWI3OTE1MGUxOGY0Mzc2MjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0Mi4zMzQ3MDY3NCwtNzEuMDU2NDAzMjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmRhYjY1MWRiZTViNGU0YmJlYmEwZDg4ODFhNGYyM2UpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTdjN2RjOGEyZjhjNGZmY2ExMzU3OTI3MDI4NWNkMDIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjZiZTJiYjQwMDlmNGY4ZGExYWM3ZGRlOWJiMjdiZjggPSAkKCc8ZGl2IGlkPSJodG1sXzI2YmUyYmI0MDA5ZjRmOGRhMWFjN2RkZTliYjI3YmY4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Tb3V0aCBCb3N0b24gQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85N2M3ZGM4YTJmOGM0ZmZjYTEzNTc5MjcwMjg1Y2QwMi5zZXRDb250ZW50KGh0bWxfMjZiZTJiYjQwMDlmNGY4ZGExYWM3ZGRlOWJiMjdiZjgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTcxOWE4NTc1NTZhNDQ3NWI3OTE1MGUxOGY0Mzc2MjguYmluZFBvcHVwKHBvcHVwXzk3YzdkYzhhMmY4YzRmZmNhMTM1NzkyNzAyODVjZDAyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMxNTZmOGEzMWYzNDQyOTViM2U3YWQzYTZhMzI4ZTM2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzQ2NDA4MDcsLTcxLjA0MTcyNjQxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzZkYWI2NTFkYmU1YjRlNGJiZWJhMGQ4ODgxYTRmMjNlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIyOGQ4MTcxYjE0ZjRmOTNhZjBhMGQ3ZmRkYmI3YjRjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FlYzQ4MDRjNGEyZDQ5YmY5YzRkYWQ2ZWFlZjYyY2U0ID0gJCgnPGRpdiBpZD0iaHRtbF9hZWM0ODA0YzRhMmQ0OWJmOWM0ZGFkNmVhZWY2MmNlNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U291dGggQm9zdG9uIFdhdGVyZnJvbnQgQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yMjhkODE3MWIxNGY0ZjkzYWYwYTBkN2ZkZGJiN2I0Yy5zZXRDb250ZW50KGh0bWxfYWVjNDgwNGM0YTJkNDliZjljNGRhZDZlYWVmNjJjZTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzE1NmY4YTMxZjM0NDI5NWIzZTdhZDNhNmEzMjhlMzYuYmluZFBvcHVwKHBvcHVwXzIyOGQ4MTcxYjE0ZjRmOTNhZjBhMGQ3ZmRkYmI3YjRjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzUzMGMzNmZmNDRmYzQ0N2ZiZmYyZDdhNjIyZjY0YWY3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDIuMzQxMzQxNjQsLTcxLjA3MTM2ODc2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzZkYWI2NTFkYmU1YjRlNGJiZWJhMGQ4ODgxYTRmMjNlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NlYTdmMzQ0MTdkZTQ3NzY5MWExNTQ0Y2ZlODlkYmI1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VjOTU5ODE3MzMzMDQ1NzA4ZDUwN2Q1OGNhYTU4ODc5ID0gJCgnPGRpdiBpZD0iaHRtbF9lYzk1OTgxNzMzMzA0NTcwOGQ1MDdkNThjYWE1ODg3OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U291dGggRW5kIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2VhN2YzNDQxN2RlNDc3NjkxYTE1NDRjZmU4OWRiYjUuc2V0Q29udGVudChodG1sX2VjOTU5ODE3MzMzMDQ1NzA4ZDUwN2Q1OGNhYTU4ODc5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzUzMGMzNmZmNDRmYzQ0N2ZiZmYyZDdhNjIyZjY0YWY3LmJpbmRQb3B1cChwb3B1cF9jZWE3ZjM0NDE3ZGU0Nzc2OTFhMTU0NGNmZTg5ZGJiNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yYWMyOWEyZTFiNTQ0YTMzYjBkODMyMzJlODRmNDAzMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjM2NDUzOTE3LC03MS4wNjU0MjcxNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF82ZGFiNjUxZGJlNWI0ZTRiYmViYTBkODg4MWE0ZjIzZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xNTRjYTEzNjkzNjk0NDNmYWI1NzNkY2VjZjZiOGZkNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81MjU4NTFiM2VjMGQ0ZmJkYjdlMjAxYjgxNDcxM2FlMiA9ICQoJzxkaXYgaWQ9Imh0bWxfNTI1ODUxYjNlYzBkNGZiZGI3ZTIwMWI4MTQ3MTNhZTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3QgRW5kIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTU0Y2ExMzY5MzY5NDQzZmFiNTczZGNlY2Y2YjhmZDYuc2V0Q29udGVudChodG1sXzUyNTg1MWIzZWMwZDRmYmRiN2UyMDFiODE0NzEzYWUyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzJhYzI5YTJlMWI1NDRhMzNiMGQ4MzIzMmU4NGY0MDMzLmJpbmRQb3B1cChwb3B1cF8xNTRjYTEzNjkzNjk0NDNmYWI1NzNkY2VjZjZiOGZkNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84YTgxMzhiYTE2MDY0MDk1YmIyNjQzMjA3ZDI4MDdjZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQyLjI4MDYzMjIxLC03MS4xNjAwMjYwOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF82ZGFiNjUxZGJlNWI0ZTRiYmViYTBkODg4MWE0ZjIzZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81YzE3MDUwZjUyZGY0NTA1YmY4ZWJkNDI0OGE5ODUxMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82ZmEyMWRjMTNhOWU0OWY2YjkwYzY5ZjM1M2VjNGJkMyA9ICQoJzxkaXYgaWQ9Imh0bWxfNmZhMjFkYzEzYTllNDlmNmI5MGM2OWYzNTNlYzRiZDMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3QgUm94YnVyeSBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzVjMTcwNTBmNTJkZjQ1MDViZjhlYmQ0MjQ4YTk4NTEwLnNldENvbnRlbnQoaHRtbF82ZmEyMWRjMTNhOWU0OWY2YjkwYzY5ZjM1M2VjNGJkMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84YTgxMzhiYTE2MDY0MDk1YmIyNjQzMjA3ZDI4MDdjZi5iaW5kUG9wdXAocG9wdXBfNWMxNzA1MGY1MmRmNDUwNWJmOGViZDQyNDhhOTg1MTApOwoKICAgICAgICAgICAgCiAgICAgICAgCjwvc2NyaXB0Pg==\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>", 
                        "text/plain": "<folium.folium.Map at 0x7f7544f0fe10>"
                    }, 
                    "execution_count": 119
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "## Examine Combined Clusters", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "df_combined.loc[df_combined['Cluster Labels'] == 0, df_combined.columns[[1] + list(range(2, 51))]]", 
            "cell_type": "code", 
            "execution_count": 120, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Allston</td>\n      <td>Rental Car Location</td>\n      <td>Donut Shop</td>\n      <td>Convenience Store</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Smoke Shop</td>\n      <td>Liquor Store</td>\n      <td>Plaza</td>\n      <td>Pizza Place</td>\n      <td>Dance Studio</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Brighton</td>\n      <td>Bakery</td>\n      <td>Pizza Place</td>\n      <td>Dry Cleaner</td>\n      <td>Sandwich Place</td>\n      <td>Greek Restaurant</td>\n      <td>Chinese Restaurant</td>\n      <td>Bank</td>\n      <td>Caf\u00e9</td>\n      <td>Dance Studio</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>Fenway</td>\n      <td>American Restaurant</td>\n      <td>Sports Bar</td>\n      <td>Coffee Shop</td>\n      <td>Lounge</td>\n      <td>Pizza Place</td>\n      <td>Hotel</td>\n      <td>Caf\u00e9</td>\n      <td>Baseball Field</td>\n      <td>Thai Restaurant</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n    </tr>\n  </tbody>\n</table>\n<p>3 rows \u00d7 50 columns</p>\n</div>", 
                        "text/plain": "   Neighbourhood 1st Most Common Venue 2nd Most Common Venue  \\\n0        Allston   Rental Car Location            Donut Shop   \n4       Brighton                Bakery           Pizza Place   \n10        Fenway   American Restaurant            Sports Bar   \n\n   3rd Most Common Venue   4th Most Common Venue 5th Most Common Venue  \\\n0      Convenience Store  Thrift / Vintage Store            Smoke Shop   \n4            Dry Cleaner          Sandwich Place      Greek Restaurant   \n10           Coffee Shop                  Lounge           Pizza Place   \n\n   6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n0           Liquor Store                 Plaza           Pizza Place   \n4     Chinese Restaurant                  Bank                  Caf\u00e9   \n10                 Hotel                  Caf\u00e9        Baseball Field   \n\n   9th Most Common Venue  ... Gonorrhea Inc  Injury ER  Assault Injury ER  \\\n0           Dance Studio  ...            -1         -1                 -1   \n4           Dance Studio  ...            -1         -1                 -1   \n10       Thai Restaurant  ...            -1         -1                 -1   \n\n    Mental Hospitalizations  Anxiety %  Sadness %  Subtance Misuse Mortality  \\\n0                         1          0          0                         -1   \n4                         1          0          0                         -1   \n10                        1          0          0                          0   \n\n    Opoid Mortality  Life Expectancy  All Cause Mortality  \n0                -1                1                   -1  \n4                -1                1                    0  \n10                0                0                   -1  \n\n[3 rows x 50 columns]"
                    }, 
                    "execution_count": 120
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "df_combined.loc[df_combined['Cluster Labels'] == 1, df_combined.columns[[1] + list(range(2, 51))]]", 
            "cell_type": "code", 
            "execution_count": 121, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>1</th>\n      <td>Back Bay</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Italian Restaurant</td>\n      <td>Clothing Store</td>\n      <td>Seafood Restaurant</td>\n      <td>Hotel</td>\n      <td>Ice Cream Shop</td>\n      <td>Gym</td>\n      <td>Cosmetics Shop</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Bay Village</td>\n      <td>Theater</td>\n      <td>Spa</td>\n      <td>Hotel</td>\n      <td>Sandwich Place</td>\n      <td>American Restaurant</td>\n      <td>Seafood Restaurant</td>\n      <td>Performing Arts Venue</td>\n      <td>Coffee Shop</td>\n      <td>Steakhouse</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Beacon Hill</td>\n      <td>Pizza Place</td>\n      <td>Playground</td>\n      <td>Italian Restaurant</td>\n      <td>Park</td>\n      <td>Plaza</td>\n      <td>French Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>Gift Shop</td>\n      <td>Gourmet Shop</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Downtown</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Italian Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>New American Restaurant</td>\n      <td>Historic Site</td>\n      <td>Salad Place</td>\n      <td>Park</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>Longwood</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Falafel Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bus Stop</td>\n      <td>Gym</td>\n      <td>Gastropub</td>\n      <td>Frozen Yogurt Shop</td>\n      <td>Theater</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Mission Hill</td>\n      <td>Pizza Place</td>\n      <td>Donut Shop</td>\n      <td>Sushi Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Light Rail Station</td>\n      <td>Indian Restaurant</td>\n      <td>Pub</td>\n      <td>Caribbean Restaurant</td>\n      <td>Burrito Place</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>North End</td>\n      <td>Italian Restaurant</td>\n      <td>Park</td>\n      <td>Seafood Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Bakery</td>\n      <td>Wine Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Market</td>\n      <td>Grocery Store</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>West End</td>\n      <td>Sandwich Place</td>\n      <td>Pizza Place</td>\n      <td>Hotel</td>\n      <td>Donut Shop</td>\n      <td>Bar</td>\n      <td>Caf\u00e9</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Gym / Fitness Center</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>-1</td>\n    </tr>\n  </tbody>\n</table>\n<p>8 rows \u00d7 50 columns</p>\n</div>", 
                        "text/plain": "   Neighbourhood 1st Most Common Venue 2nd Most Common Venue  \\\n1       Back Bay   American Restaurant           Coffee Shop   \n2    Bay Village               Theater                   Spa   \n3    Beacon Hill           Pizza Place            Playground   \n8       Downtown           Coffee Shop        Sandwich Place   \n13      Longwood           Coffee Shop                  Caf\u00e9   \n15  Mission Hill           Pizza Place            Donut Shop   \n16     North End    Italian Restaurant                  Park   \n22      West End        Sandwich Place           Pizza Place   \n\n   3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n1     Italian Restaurant        Clothing Store    Seafood Restaurant   \n2                  Hotel        Sandwich Place   American Restaurant   \n3     Italian Restaurant                  Park                 Plaza   \n8     Italian Restaurant   American Restaurant                 Hotel   \n13    Falafel Restaurant        Sandwich Place              Bus Stop   \n15      Sushi Restaurant   American Restaurant    Light Rail Station   \n16    Seafood Restaurant           Pizza Place                Bakery   \n22                 Hotel            Donut Shop                   Bar   \n\n      6th Most Common Venue  7th Most Common Venue 8th Most Common Venue  \\\n1                     Hotel         Ice Cream Shop                   Gym   \n2        Seafood Restaurant  Performing Arts Venue           Coffee Shop   \n3         French Restaurant       Sushi Restaurant             Gift Shop   \n8   New American Restaurant          Historic Site           Salad Place   \n13                      Gym              Gastropub    Frozen Yogurt Shop   \n15        Indian Restaurant                    Pub  Caribbean Restaurant   \n16                Wine Shop                   Caf\u00e9                Market   \n22                     Caf\u00e9    American Restaurant           Coffee Shop   \n\n   9th Most Common Venue  ... Gonorrhea Inc  Injury ER  Assault Injury ER  \\\n1         Cosmetics Shop  ...            -1         -1                 -1   \n2             Steakhouse  ...            -1         -1                 -1   \n3           Gourmet Shop  ...            -1         -1                 -1   \n8                   Park  ...            -1         -1                 -1   \n13               Theater  ...            -1         -1                 -1   \n15         Burrito Place  ...            -1         -1                 -1   \n16         Grocery Store  ...            -1         -1                 -1   \n22  Gym / Fitness Center  ...            -1         -1                 -1   \n\n    Mental Hospitalizations  Anxiety %  Sadness %  Subtance Misuse Mortality  \\\n1                         1          0         -1                         -1   \n2                         1          0         -1                         -1   \n3                         1          0         -1                         -1   \n8                         1          0         -1                         -1   \n13                        1          0         -1                         -1   \n15                        1          0         -1                         -1   \n16                        1          0         -1                         -1   \n22                        1          0         -1                         -1   \n\n    Opoid Mortality  Life Expectancy  All Cause Mortality  \n1                -1                1                   -1  \n2                -1                1                   -1  \n3                -1                1                   -1  \n8                -1                1                   -1  \n13               -1                1                   -1  \n15               -1                1                   -1  \n16               -1                1                   -1  \n22               -1                1                   -1  \n\n[8 rows x 50 columns]"
                    }, 
                    "execution_count": 121
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "df_combined.loc[df_combined['Cluster Labels'] == 2, df_combined.columns[[1] + list(range(2, 51))]]", 
            "cell_type": "code", 
            "execution_count": 122, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>6</th>\n      <td>Chinatown</td>\n      <td>Chinese Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Bakery</td>\n      <td>Sushi Restaurant</td>\n      <td>Bubble Tea Shop</td>\n      <td>Theater</td>\n      <td>Hotel Bar</td>\n      <td>Performing Arts Venue</td>\n      <td>Dim Sum Restaurant</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Leather District</td>\n      <td>Bakery</td>\n      <td>Chinese Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Food Truck</td>\n      <td>American Restaurant</td>\n      <td>Vegetarian / Vegan Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>South End</td>\n      <td>American Restaurant</td>\n      <td>Wine Bar</td>\n      <td>Mexican Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Pet Store</td>\n      <td>Park</td>\n      <td>Italian Restaurant</td>\n      <td>Deli / Bodega</td>\n      <td>Gastropub</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>3 rows \u00d7 50 columns</p>\n</div>", 
                        "text/plain": "       Neighbourhood 1st Most Common Venue 2nd Most Common Venue  \\\n6          Chinatown    Chinese Restaurant      Asian Restaurant   \n12  Leather District                Bakery    Chinese Restaurant   \n21         South End   American Restaurant              Wine Bar   \n\n   3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n6                 Bakery      Sushi Restaurant       Bubble Tea Shop   \n12      Asian Restaurant           Coffee Shop        Sandwich Place   \n21    Mexican Restaurant           Pizza Place             Pet Store   \n\n   6th Most Common Venue 7th Most Common Venue          8th Most Common Venue  \\\n6                Theater             Hotel Bar          Performing Arts Venue   \n12            Food Truck   American Restaurant  Vegetarian / Vegan Restaurant   \n21                  Park    Italian Restaurant                  Deli / Bodega   \n\n   9th Most Common Venue  ... Gonorrhea Inc  Injury ER  Assault Injury ER  \\\n6     Dim Sum Restaurant  ...             1          1                  1   \n12      Sushi Restaurant  ...             1          1                  1   \n21             Gastropub  ...             1          1                  1   \n\n    Mental Hospitalizations  Anxiety %  Sadness %  Subtance Misuse Mortality  \\\n6                         1          0          0                          0   \n12                        1          0          0                          0   \n21                        1          0          0                          0   \n\n    Opoid Mortality  Life Expectancy  All Cause Mortality  \n6                 0                0                    0  \n12                0                0                    0  \n21                0                0                    0  \n\n[3 rows x 50 columns]"
                    }, 
                    "execution_count": 122
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "df_combined.loc[df_combined['Cluster Labels'] == 3, df_combined.columns[[1] + list(range(2, 51))]]", 
            "cell_type": "code", 
            "execution_count": 123, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>7</th>\n      <td>Dorchester</td>\n      <td>Vietnamese Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Pub</td>\n      <td>Clothing Store</td>\n      <td>Cajun / Creole Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Bar</td>\n      <td>Liquor Store</td>\n      <td>Supermarket</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>East Boston</td>\n      <td>Park</td>\n      <td>Pizza Place</td>\n      <td>Gym</td>\n      <td>Airport Terminal</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>Convenience Store</td>\n      <td>Brazilian Restaurant</td>\n      <td>Colombian Restaurant</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>Mattapan</td>\n      <td>Ice Cream Shop</td>\n      <td>Furniture / Home Store</td>\n      <td>French Restaurant</td>\n      <td>Food Court</td>\n      <td>Flower Shop</td>\n      <td>Fish Market</td>\n      <td>Fast Food Restaurant</td>\n      <td>Farmers Market</td>\n      <td>Falafel Restaurant</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>Roxbury</td>\n      <td>Fried Chicken Joint</td>\n      <td>Fast Food Restaurant</td>\n      <td>Basketball Court</td>\n      <td>Electronics Store</td>\n      <td>Museum</td>\n      <td>Shopping Mall</td>\n      <td>Grocery Store</td>\n      <td>Gym</td>\n      <td>Gym / Fitness Center</td>\n      <td>...</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n  </tbody>\n</table>\n<p>4 rows \u00d7 50 columns</p>\n</div>", 
                        "text/plain": "   Neighbourhood  1st Most Common Venue   2nd Most Common Venue  \\\n7     Dorchester  Vietnamese Restaurant                    Caf\u00e9   \n9    East Boston                   Park             Pizza Place   \n14      Mattapan         Ice Cream Shop  Furniture / Home Store   \n18       Roxbury    Fried Chicken Joint    Fast Food Restaurant   \n\n   3rd Most Common Venue 4th Most Common Venue      5th Most Common Venue  \\\n7                    Pub        Clothing Store  Cajun / Creole Restaurant   \n9                    Gym      Airport Terminal        American Restaurant   \n14     French Restaurant            Food Court                Flower Shop   \n18      Basketball Court     Electronics Store                     Museum   \n\n   6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n7             Donut Shop                   Bar          Liquor Store   \n9                  Hotel     Convenience Store  Brazilian Restaurant   \n14           Fish Market  Fast Food Restaurant        Farmers Market   \n18         Shopping Mall         Grocery Store                   Gym   \n\n   9th Most Common Venue  ... Gonorrhea Inc  Injury ER  Assault Injury ER  \\\n7            Supermarket  ...             1          1                  1   \n9   Colombian Restaurant  ...            -1         -1                 -1   \n14    Falafel Restaurant  ...             1          1                  1   \n18  Gym / Fitness Center  ...             1          1                  1   \n\n    Mental Hospitalizations  Anxiety %  Sadness %  Subtance Misuse Mortality  \\\n7                        -1          0          1                          1   \n9                        -1          0          0                          0   \n14                        0          0          0                          0   \n18                        0          1          0                          0   \n\n    Opoid Mortality  Life Expectancy  All Cause Mortality  \n7                 1                0                    0  \n9                 0                0                    0  \n14                0                0                    0  \n18                0               -1                    1  \n\n[4 rows x 50 columns]"
                    }, 
                    "execution_count": 123
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "df_combined.loc[df_combined['Cluster Labels'] == 4, df_combined.columns[[1] + list(range(2, 51))]]", 
            "cell_type": "code", 
            "execution_count": 124, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>...</th>\n      <th>Gonorrhea Inc</th>\n      <th>Injury ER</th>\n      <th>Assault Injury ER</th>\n      <th>Mental Hospitalizations</th>\n      <th>Anxiety %</th>\n      <th>Sadness %</th>\n      <th>Subtance Misuse Mortality</th>\n      <th>Opoid Mortality</th>\n      <th>Life Expectancy</th>\n      <th>All Cause Mortality</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>5</th>\n      <td>Charlestown</td>\n      <td>Pizza Place</td>\n      <td>Convenience Store</td>\n      <td>Coffee Shop</td>\n      <td>Thai Restaurant</td>\n      <td>Pet Store</td>\n      <td>Deli / Bodega</td>\n      <td>Dog Run</td>\n      <td>Donut Shop</td>\n      <td>National Park</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>Jamaica Plain</td>\n      <td>Pub</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Bakery</td>\n      <td>Art Gallery</td>\n      <td>Coffee Shop</td>\n      <td>Record Shop</td>\n      <td>Bar</td>\n      <td>Taco Place</td>\n      <td>Liquor Store</td>\n      <td>...</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Roslindale</td>\n      <td>Ice Cream Shop</td>\n      <td>Sandwich Place</td>\n      <td>Plaza</td>\n      <td>Farmers Market</td>\n      <td>Bar</td>\n      <td>Greek Restaurant</td>\n      <td>Grocery Store</td>\n      <td>Bakery</td>\n      <td>Pizza Place</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>South Boston</td>\n      <td>Climbing Gym</td>\n      <td>Train</td>\n      <td>Chinese Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bar</td>\n      <td>Dive Bar</td>\n      <td>Grocery Store</td>\n      <td>Gym</td>\n      <td>Gym / Fitness Center</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>South Boston Waterfront</td>\n      <td>Seafood Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Hotel</td>\n      <td>Donut Shop</td>\n      <td>Steakhouse</td>\n      <td>Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Mexican Restaurant</td>\n      <td>Shipping Store</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>-1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>West Roxbury</td>\n      <td>Grocery Store</td>\n      <td>Pizza Place</td>\n      <td>Pharmacy</td>\n      <td>Pub</td>\n      <td>Park</td>\n      <td>Salon / Barbershop</td>\n      <td>Flower Shop</td>\n      <td>Liquor Store</td>\n      <td>Bank</td>\n      <td>...</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>-1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>6 rows \u00d7 50 columns</p>\n</div>", 
                        "text/plain": "              Neighbourhood 1st Most Common Venue   2nd Most Common Venue  \\\n5               Charlestown           Pizza Place       Convenience Store   \n11            Jamaica Plain                   Pub  Thrift / Vintage Store   \n17               Roslindale        Ice Cream Shop          Sandwich Place   \n19             South Boston          Climbing Gym                   Train   \n20  South Boston Waterfront    Seafood Restaurant     American Restaurant   \n23             West Roxbury         Grocery Store             Pizza Place   \n\n   3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n5            Coffee Shop       Thai Restaurant             Pet Store   \n11                Bakery           Art Gallery           Coffee Shop   \n17                 Plaza        Farmers Market                   Bar   \n19    Chinese Restaurant        Sandwich Place                   Bar   \n20                 Hotel            Donut Shop            Steakhouse   \n23              Pharmacy                   Pub                  Park   \n\n   6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n5          Deli / Bodega               Dog Run            Donut Shop   \n11           Record Shop                   Bar            Taco Place   \n17      Greek Restaurant         Grocery Store                Bakery   \n19              Dive Bar         Grocery Store                   Gym   \n20            Restaurant        Sandwich Place    Mexican Restaurant   \n23    Salon / Barbershop           Flower Shop          Liquor Store   \n\n   9th Most Common Venue  ... Gonorrhea Inc  Injury ER  Assault Injury ER  \\\n5          National Park  ...             0         -1                 -1   \n11          Liquor Store  ...             0         -1                 -1   \n17           Pizza Place  ...            -1          0                 -1   \n19  Gym / Fitness Center  ...            -1         -1                 -1   \n20        Shipping Store  ...            -1         -1                 -1   \n23                  Bank  ...            -1         -1                 -1   \n\n    Mental Hospitalizations  Anxiety %  Sadness %  Subtance Misuse Mortality  \\\n5                        -1          0         -1                          1   \n11                        0          0          0                          0   \n17                       -1          0          0                          0   \n19                       -1          0          0                          1   \n20                       -1          0          0                          1   \n23                       -1          0          0                          0   \n\n    Opoid Mortality  Life Expectancy  All Cause Mortality  \n5                 0                0                    0  \n11                0                0                    0  \n17                0                0                    0  \n19                0               -1                    1  \n20                0               -1                    1  \n23                0                0                    0  \n\n[6 rows x 50 columns]"
                    }, 
                    "execution_count": 124
                }
            ], 
            "metadata": {}
        }, 
        {
            "source": "", 
            "cell_type": "code", 
            "execution_count": null, 
            "outputs": [], 
            "metadata": {}
        }
    ], 
    "nbformat": 4, 
    "metadata": {
        "kernelspec": {
            "display_name": "Python 3.6", 
            "name": "python3", 
            "language": "python"
        }, 
        "language_info": {
            "mimetype": "text/x-python", 
            "nbconvert_exporter": "python", 
            "version": "3.6.8", 
            "name": "python", 
            "pygments_lexer": "ipython3", 
            "file_extension": ".py", 
            "codemirror_mode": {
                "version": 3, 
                "name": "ipython"
            }
        }
    }
}